function An(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const n in i)if(n!=="default"&&!(n in r)){const s=Object.getOwnPropertyDescriptor(i,n);s&&Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:()=>i[n]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=t(n);fetch(n.href,s)}})();function Nr(r){return r!==null&&typeof r=="object"&&"constructor"in r&&r.constructor===Object}function Or(r={},e={}){const t=["__proto__","constructor","prototype"];Object.keys(e).filter(i=>t.indexOf(i)<0).forEach(i=>{typeof r[i]>"u"?r[i]=e[i]:Nr(e[i])&&Nr(r[i])&&Object.keys(e[i]).length>0&&Or(r[i],e[i])})}const Si={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function $e(){const r=typeof document<"u"?document:{};return Or(r,Si),r}const jn={document:Si,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(r){return typeof setTimeout>"u"?(r(),null):setTimeout(r,0)},cancelAnimationFrame(r){typeof setTimeout>"u"||clearTimeout(r)}};function Te(){const r=typeof window<"u"?window:{};return Or(r,jn),r}function In(r=""){return r.trim().split(" ").filter(e=>!!e.trim())}function Rn(r){const e=r;Object.keys(e).forEach(t=>{try{e[t]=null}catch{}try{delete e[t]}catch{}})}function Ei(r,e=0){return setTimeout(r,e)}function Rt(){return Date.now()}function Ln(r){const e=Te();let t;return e.getComputedStyle&&(t=e.getComputedStyle(r,null)),!t&&r.currentStyle&&(t=r.currentStyle),t||(t=r.style),t}function Mn(r,e="x"){const t=Te();let i,n,s;const a=Ln(r);return t.WebKitCSSMatrix?(n=a.transform||a.webkitTransform,n.split(",").length>6&&(n=n.split(", ").map(l=>l.replace(",",".")).join(", ")),s=new t.WebKitCSSMatrix(n==="none"?"":n)):(s=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),i=s.toString().split(",")),e==="x"&&(t.WebKitCSSMatrix?n=s.m41:i.length===16?n=parseFloat(i[12]):n=parseFloat(i[4])),e==="y"&&(t.WebKitCSSMatrix?n=s.m42:i.length===16?n=parseFloat(i[13]):n=parseFloat(i[5])),n||0}function wt(r){return typeof r=="object"&&r!==null&&r.constructor&&Object.prototype.toString.call(r).slice(8,-1)==="Object"}function Dn(r){return typeof window<"u"&&typeof window.HTMLElement<"u"?r instanceof HTMLElement:r&&(r.nodeType===1||r.nodeType===11)}function Pe(...r){const e=Object(r[0]),t=["__proto__","constructor","prototype"];for(let i=1;i<r.length;i+=1){const n=r[i];if(n!=null&&!Dn(n)){const s=Object.keys(Object(n)).filter(a=>t.indexOf(a)<0);for(let a=0,l=s.length;a<l;a+=1){const o=s[a],u=Object.getOwnPropertyDescriptor(n,o);u!==void 0&&u.enumerable&&(wt(e[o])&&wt(n[o])?n[o].__swiper__?e[o]=n[o]:Pe(e[o],n[o]):!wt(e[o])&&wt(n[o])?(e[o]={},n[o].__swiper__?e[o]=n[o]:Pe(e[o],n[o])):e[o]=n[o])}}}return e}function _t(r,e,t){r.style.setProperty(e,t)}function Ti({swiper:r,targetPosition:e,side:t}){const i=Te(),n=-r.translate;let s=null,a;const l=r.params.speed;r.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(r.cssModeFrameID);const o=e>n?"next":"prev",u=(b,O)=>o==="next"&&b>=O||o==="prev"&&b<=O,k=()=>{a=new Date().getTime(),s===null&&(s=a);const b=Math.max(Math.min((a-s)/l,1),0),O=.5-Math.cos(b*Math.PI)/2;let S=n+O*(e-n);if(u(S,e)&&(S=e),r.wrapperEl.scrollTo({[t]:S}),u(S,e)){r.wrapperEl.style.overflow="hidden",r.wrapperEl.style.scrollSnapType="",setTimeout(()=>{r.wrapperEl.style.overflow="",r.wrapperEl.scrollTo({[t]:S})}),i.cancelAnimationFrame(r.cssModeFrameID);return}r.cssModeFrameID=i.requestAnimationFrame(k)};k()}function xi(r){return r.querySelector(".swiper-slide-transform")||r.shadowRoot&&r.shadowRoot.querySelector(".swiper-slide-transform")||r}function De(r,e=""){const t=Te(),i=[...r.children];return t.HTMLSlotElement&&r instanceof HTMLSlotElement&&i.push(...r.assignedElements()),e?i.filter(n=>n.matches(e)):i}function $n(r,e){const t=[e];for(;t.length>0;){const i=t.shift();if(r===i)return!0;t.push(...i.children,...i.shadowRoot?i.shadowRoot.children:[],...i.assignedElements?i.assignedElements():[])}}function Bn(r,e){const t=Te();let i=e.contains(r);return!i&&t.HTMLSlotElement&&e instanceof HTMLSlotElement&&(i=[...e.assignedElements()].includes(r),i||(i=$n(r,e))),i}function Lt(r){try{console.warn(r);return}catch{}}function Mt(r,e=[]){const t=document.createElement(r);return t.classList.add(...Array.isArray(e)?e:In(e)),t}function Nn(r,e){const t=[];for(;r.previousElementSibling;){const i=r.previousElementSibling;e?i.matches(e)&&t.push(i):t.push(i),r=i}return t}function Un(r,e){const t=[];for(;r.nextElementSibling;){const i=r.nextElementSibling;e?i.matches(e)&&t.push(i):t.push(i),r=i}return t}function Fe(r,e){return Te().getComputedStyle(r,null).getPropertyValue(e)}function Dt(r){let e=r,t;if(e){for(t=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(t+=1);return t}}function Oi(r,e){const t=[];let i=r.parentElement;for(;i;)e?i.matches(e)&&t.push(i):t.push(i),i=i.parentElement;return t}function Fn(r,e){function t(i){i.target===r&&(e.call(r,i),r.removeEventListener("transitionend",t))}e&&r.addEventListener("transitionend",t)}function dr(r,e,t){const i=Te();return r[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(i.getComputedStyle(r,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(i.getComputedStyle(r,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function _e(r){return(Array.isArray(r)?r:[r]).filter(e=>!!e)}function fr(r,e=""){typeof trustedTypes<"u"?r.innerHTML=trustedTypes.createPolicy("html",{createHTML:t=>t}).createHTML(e):r.innerHTML=e}let Kt;function Vn(){const r=Te(),e=$e();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in r||r.DocumentTouch&&e instanceof r.DocumentTouch)}}function Pi(){return Kt||(Kt=Vn()),Kt}let Jt;function Gn({userAgent:r}={}){const e=Pi(),t=Te(),i=t.navigator.platform,n=r||t.navigator.userAgent,s={ios:!1,android:!1},a=t.screen.width,l=t.screen.height,o=n.match(/(Android);?[\s\/]+([\d.]+)?/);let u=n.match(/(iPad)(?!\1).*OS\s([\d_]+)/);const k=n.match(/(iPod)(.*OS\s([\d_]+))?/),b=!u&&n.match(/(iPhone\sOS|iOS)\s([\d_]+)/),O=i==="Win32";let S=i==="MacIntel";const A=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&S&&e.touch&&A.indexOf(`${a}x${l}`)>=0&&(u=n.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),S=!1),o&&!O&&(s.os="android",s.android=!0),(u||b||k)&&(s.os="ios",s.ios=!0),s}function Ci(r={}){return Jt||(Jt=Gn(r)),Jt}let Yt;function zn(){const r=Te(),e=Ci();let t=!1;function i(){const l=r.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(i()){const l=String(r.navigator.userAgent);if(l.includes("Version/")){const[o,u]=l.split("Version/")[1].split(" ")[0].split(".").map(k=>Number(k));t=o<16||o===16&&u<2}}const n=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(r.navigator.userAgent),s=i(),a=s||n&&e.ios;return{isSafari:t||s,needPerspectiveFix:t,need3dFix:a,isWebView:n}}function Ai(){return Yt||(Yt=zn()),Yt}function qn({swiper:r,on:e,emit:t}){const i=Te();let n=null,s=null;const a=()=>{!r||r.destroyed||!r.initialized||(t("beforeResize"),t("resize"))},l=()=>{!r||r.destroyed||!r.initialized||(n=new ResizeObserver(k=>{s=i.requestAnimationFrame(()=>{const{width:b,height:O}=r;let S=b,A=O;k.forEach(({contentBoxSize:E,contentRect:x,target:v})=>{v&&v!==r.el||(S=x?x.width:(E[0]||E).inlineSize,A=x?x.height:(E[0]||E).blockSize)}),(S!==b||A!==O)&&a()})}),n.observe(r.el))},o=()=>{s&&i.cancelAnimationFrame(s),n&&n.unobserve&&r.el&&(n.unobserve(r.el),n=null)},u=()=>{!r||r.destroyed||!r.initialized||t("orientationchange")};e("init",()=>{if(r.params.resizeObserver&&typeof i.ResizeObserver<"u"){l();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),e("destroy",()=>{o(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function Hn({swiper:r,extendParams:e,on:t,emit:i}){const n=[],s=Te(),a=(u,k={})=>{const b=s.MutationObserver||s.WebkitMutationObserver,O=new b(S=>{if(r.__preventObserver__)return;if(S.length===1){i("observerUpdate",S[0]);return}const A=function(){i("observerUpdate",S[0])};s.requestAnimationFrame?s.requestAnimationFrame(A):s.setTimeout(A,0)});O.observe(u,{attributes:typeof k.attributes>"u"?!0:k.attributes,childList:r.isElement||(typeof k.childList>"u"?!0:k).childList,characterData:typeof k.characterData>"u"?!0:k.characterData}),n.push(O)},l=()=>{if(r.params.observer){if(r.params.observeParents){const u=Oi(r.hostEl);for(let k=0;k<u.length;k+=1)a(u[k])}a(r.hostEl,{childList:r.params.observeSlideChildren}),a(r.wrapperEl,{attributes:!1})}},o=()=>{n.forEach(u=>{u.disconnect()}),n.splice(0,n.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),t("init",l),t("destroy",o)}var Wn={on(r,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;const n=t?"unshift":"push";return r.split(" ").forEach(s=>{i.eventsListeners[s]||(i.eventsListeners[s]=[]),i.eventsListeners[s][n](e)}),i},once(r,e,t){const i=this;if(!i.eventsListeners||i.destroyed||typeof e!="function")return i;function n(...s){i.off(r,n),n.__emitterProxy&&delete n.__emitterProxy,e.apply(i,s)}return n.__emitterProxy=e,i.on(r,n,t)},onAny(r,e){const t=this;if(!t.eventsListeners||t.destroyed||typeof r!="function")return t;const i=e?"unshift":"push";return t.eventsAnyListeners.indexOf(r)<0&&t.eventsAnyListeners[i](r),t},offAny(r){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const t=e.eventsAnyListeners.indexOf(r);return t>=0&&e.eventsAnyListeners.splice(t,1),e},off(r,e){const t=this;return!t.eventsListeners||t.destroyed||!t.eventsListeners||r.split(" ").forEach(i=>{typeof e>"u"?t.eventsListeners[i]=[]:t.eventsListeners[i]&&t.eventsListeners[i].forEach((n,s)=>{(n===e||n.__emitterProxy&&n.__emitterProxy===e)&&t.eventsListeners[i].splice(s,1)})}),t},emit(...r){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let t,i,n;return typeof r[0]=="string"||Array.isArray(r[0])?(t=r[0],i=r.slice(1,r.length),n=e):(t=r[0].events,i=r[0].data,n=r[0].context||e),i.unshift(n),(Array.isArray(t)?t:t.split(" ")).forEach(a=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(l=>{l.apply(n,[a,...i])}),e.eventsListeners&&e.eventsListeners[a]&&e.eventsListeners[a].forEach(l=>{l.apply(n,i)})}),e}};function Kn(){const r=this;let e,t;const i=r.el;typeof r.params.width<"u"&&r.params.width!==null?e=r.params.width:e=i.clientWidth,typeof r.params.height<"u"&&r.params.height!==null?t=r.params.height:t=i.clientHeight,!(e===0&&r.isHorizontal()||t===0&&r.isVertical())&&(e=e-parseInt(Fe(i,"padding-left")||0,10)-parseInt(Fe(i,"padding-right")||0,10),t=t-parseInt(Fe(i,"padding-top")||0,10)-parseInt(Fe(i,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(t)&&(t=0),Object.assign(r,{width:e,height:t,size:r.isHorizontal()?e:t}))}function Jn(){const r=this;function e(c,w){return parseFloat(c.getPropertyValue(r.getDirectionLabel(w))||0)}const t=r.params,{wrapperEl:i,slidesEl:n,rtlTranslate:s,wrongRTL:a}=r,l=r.virtual&&t.virtual.enabled,o=l?r.virtual.slides.length:r.slides.length,u=De(n,`.${r.params.slideClass}, swiper-slide`),k=l?r.virtual.slides.length:u.length;let b=[];const O=[],S=[];let A=t.slidesOffsetBefore;typeof A=="function"&&(A=t.slidesOffsetBefore.call(r));let E=t.slidesOffsetAfter;typeof E=="function"&&(E=t.slidesOffsetAfter.call(r));const x=r.snapGrid.length,v=r.slidesGrid.length,f=r.size-A-E;let m=t.spaceBetween,d=-A,_=0,h=0;if(typeof f>"u")return;typeof m=="string"&&m.indexOf("%")>=0?m=parseFloat(m.replace("%",""))/100*f:typeof m=="string"&&(m=parseFloat(m)),r.virtualSize=-m-A-E,u.forEach(c=>{s?c.style.marginLeft="":c.style.marginRight="",c.style.marginBottom="",c.style.marginTop=""}),t.centeredSlides&&t.cssMode&&(_t(i,"--swiper-centered-offset-before",""),_t(i,"--swiper-centered-offset-after",""));const y=t.grid&&t.grid.rows>1&&r.grid;y?r.grid.initSlides(u):r.grid&&r.grid.unsetSlides();let p;const g=t.slidesPerView==="auto"&&t.breakpoints&&Object.keys(t.breakpoints).filter(c=>typeof t.breakpoints[c].slidesPerView<"u").length>0;for(let c=0;c<k;c+=1){p=0;const w=u[c];if(!(w&&(y&&r.grid.updateSlide(c,w,u),Fe(w,"display")==="none"))){if(l&&t.slidesPerView==="auto")t.virtual.slidesPerViewAutoSlideSize&&(p=t.virtual.slidesPerViewAutoSlideSize),p&&w&&(t.roundLengths&&(p=Math.floor(p)),w.style[r.getDirectionLabel("width")]=`${p}px`);else if(t.slidesPerView==="auto"){g&&(w.style[r.getDirectionLabel("width")]="");const T=getComputedStyle(w),P=w.style.transform,I=w.style.webkitTransform;if(P&&(w.style.transform="none"),I&&(w.style.webkitTransform="none"),t.roundLengths)p=r.isHorizontal()?dr(w,"width"):dr(w,"height");else{const D=e(T,"width"),B=e(T,"padding-left"),R=e(T,"padding-right"),L=e(T,"margin-left"),$=e(T,"margin-right"),C=T.getPropertyValue("box-sizing");if(C&&C==="border-box")p=D+L+$;else{const{clientWidth:j,offsetWidth:N}=w;p=D+B+R+L+$+(N-j)}}P&&(w.style.transform=P),I&&(w.style.webkitTransform=I),t.roundLengths&&(p=Math.floor(p))}else p=(f-(t.slidesPerView-1)*m)/t.slidesPerView,t.roundLengths&&(p=Math.floor(p)),w&&(w.style[r.getDirectionLabel("width")]=`${p}px`);w&&(w.swiperSlideSize=p),S.push(p),t.centeredSlides?(d=d+p/2+_/2+m,_===0&&c!==0&&(d=d-f/2-m),c===0&&(d=d-f/2-m),Math.abs(d)<1/1e3&&(d=0),t.roundLengths&&(d=Math.floor(d)),h%t.slidesPerGroup===0&&b.push(d),O.push(d)):(t.roundLengths&&(d=Math.floor(d)),(h-Math.min(r.params.slidesPerGroupSkip,h))%r.params.slidesPerGroup===0&&b.push(d),O.push(d),d=d+p+m),r.virtualSize+=p+m,_=p,h+=1}}if(r.virtualSize=Math.max(r.virtualSize,f)+E,s&&a&&(t.effect==="slide"||t.effect==="coverflow")&&(i.style.width=`${r.virtualSize+m}px`),t.setWrapperSize&&(i.style[r.getDirectionLabel("width")]=`${r.virtualSize+m}px`),y&&r.grid.updateWrapperSize(p,b),!t.centeredSlides){const c=[];for(let w=0;w<b.length;w+=1){let T=b[w];t.roundLengths&&(T=Math.floor(T)),b[w]<=r.virtualSize-f&&c.push(T)}b=c,Math.floor(r.virtualSize-f)-Math.floor(b[b.length-1])>1&&b.push(r.virtualSize-f)}if(l&&t.loop){const c=S[0]+m;if(t.slidesPerGroup>1){const w=Math.ceil((r.virtual.slidesBefore+r.virtual.slidesAfter)/t.slidesPerGroup),T=c*t.slidesPerGroup;for(let P=0;P<w;P+=1)b.push(b[b.length-1]+T)}for(let w=0;w<r.virtual.slidesBefore+r.virtual.slidesAfter;w+=1)t.slidesPerGroup===1&&b.push(b[b.length-1]+c),O.push(O[O.length-1]+c),r.virtualSize+=c}if(b.length===0&&(b=[0]),m!==0){const c=r.isHorizontal()&&s?"marginLeft":r.getDirectionLabel("marginRight");u.filter((w,T)=>!t.cssMode||t.loop?!0:T!==u.length-1).forEach(w=>{w.style[c]=`${m}px`})}if(t.centeredSlides&&t.centeredSlidesBounds){let c=0;S.forEach(T=>{c+=T+(m||0)}),c-=m;const w=c>f?c-f:0;b=b.map(T=>T<=0?-A:T>w?w+E:T)}if(t.centerInsufficientSlides){let c=0;S.forEach(T=>{c+=T+(m||0)}),c-=m;const w=(A||0)+(E||0);if(c+w<f){const T=(f-c-w)/2;b.forEach((P,I)=>{b[I]=P-T}),O.forEach((P,I)=>{O[I]=P+T})}}if(Object.assign(r,{slides:u,snapGrid:b,slidesGrid:O,slidesSizesGrid:S}),t.centeredSlides&&t.cssMode&&!t.centeredSlidesBounds){_t(i,"--swiper-centered-offset-before",`${-b[0]}px`),_t(i,"--swiper-centered-offset-after",`${r.size/2-S[S.length-1]/2}px`);const c=-r.snapGrid[0],w=-r.slidesGrid[0];r.snapGrid=r.snapGrid.map(T=>T+c),r.slidesGrid=r.slidesGrid.map(T=>T+w)}if(k!==o&&r.emit("slidesLengthChange"),b.length!==x&&(r.params.watchOverflow&&r.checkOverflow(),r.emit("snapGridLengthChange")),O.length!==v&&r.emit("slidesGridLengthChange"),t.watchSlidesProgress&&r.updateSlidesOffset(),r.emit("slidesUpdated"),!l&&!t.cssMode&&(t.effect==="slide"||t.effect==="fade")){const c=`${t.containerModifierClass}backface-hidden`,w=r.el.classList.contains(c);k<=t.maxBackfaceHiddenSlides?w||r.el.classList.add(c):w&&r.el.classList.remove(c)}}function Yn(r){const e=this,t=[],i=e.virtual&&e.params.virtual.enabled;let n=0,s;typeof r=="number"?e.setTransition(r):r===!0&&e.setTransition(e.params.speed);const a=l=>i?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{t.push(l)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const l=e.activeIndex+s;if(l>e.slides.length&&!i)break;t.push(a(l))}else t.push(a(e.activeIndex));for(s=0;s<t.length;s+=1)if(typeof t[s]<"u"){const l=t[s].offsetHeight;n=l>n?l:n}(n||n===0)&&(e.wrapperEl.style.height=`${n}px`)}function Xn(){const r=this,e=r.slides,t=r.isElement?r.isHorizontal()?r.wrapperEl.offsetLeft:r.wrapperEl.offsetTop:0;for(let i=0;i<e.length;i+=1)e[i].swiperSlideOffset=(r.isHorizontal()?e[i].offsetLeft:e[i].offsetTop)-t-r.cssOverflowAdjustment()}const Ur=(r,e,t)=>{e&&!r.classList.contains(t)?r.classList.add(t):!e&&r.classList.contains(t)&&r.classList.remove(t)};function Qn(r=this&&this.translate||0){const e=this,t=e.params,{slides:i,rtlTranslate:n,snapGrid:s}=e;if(i.length===0)return;typeof i[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-r;n&&(a=r),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=t.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let o=0;o<i.length;o+=1){const u=i[o];let k=u.swiperSlideOffset;t.cssMode&&t.centeredSlides&&(k-=i[0].swiperSlideOffset);const b=(a+(t.centeredSlides?e.minTranslate():0)-k)/(u.swiperSlideSize+l),O=(a-s[0]+(t.centeredSlides?e.minTranslate():0)-k)/(u.swiperSlideSize+l),S=-(a-k),A=S+e.slidesSizesGrid[o],E=S>=0&&S<=e.size-e.slidesSizesGrid[o],x=S>=0&&S<e.size-1||A>1&&A<=e.size||S<=0&&A>=e.size;x&&(e.visibleSlides.push(u),e.visibleSlidesIndexes.push(o)),Ur(u,x,t.slideVisibleClass),Ur(u,E,t.slideFullyVisibleClass),u.progress=n?-b:b,u.originalProgress=n?-O:O}}function Zn(r){const e=this;if(typeof r>"u"){const k=e.rtlTranslate?-1:1;r=e&&e.translate&&e.translate*k||0}const t=e.params,i=e.maxTranslate()-e.minTranslate();let{progress:n,isBeginning:s,isEnd:a,progressLoop:l}=e;const o=s,u=a;if(i===0)n=0,s=!0,a=!0;else{n=(r-e.minTranslate())/i;const k=Math.abs(r-e.minTranslate())<1,b=Math.abs(r-e.maxTranslate())<1;s=k||n<=0,a=b||n>=1,k&&(n=0),b&&(n=1)}if(t.loop){const k=e.getSlideIndexByData(0),b=e.getSlideIndexByData(e.slides.length-1),O=e.slidesGrid[k],S=e.slidesGrid[b],A=e.slidesGrid[e.slidesGrid.length-1],E=Math.abs(r);E>=O?l=(E-O)/A:l=(E+A-S)/A,l>1&&(l-=1)}Object.assign(e,{progress:n,progressLoop:l,isBeginning:s,isEnd:a}),(t.watchSlidesProgress||t.centeredSlides&&t.autoHeight)&&e.updateSlidesProgress(r),s&&!o&&e.emit("reachBeginning toEdge"),a&&!u&&e.emit("reachEnd toEdge"),(o&&!s||u&&!a)&&e.emit("fromEdge"),e.emit("progress",n)}const Xt=(r,e,t)=>{e&&!r.classList.contains(t)?r.classList.add(t):!e&&r.classList.contains(t)&&r.classList.remove(t)};function es(){const r=this,{slides:e,params:t,slidesEl:i,activeIndex:n}=r,s=r.virtual&&t.virtual.enabled,a=r.grid&&t.grid&&t.grid.rows>1,l=b=>De(i,`.${t.slideClass}${b}, swiper-slide${b}`)[0];let o,u,k;if(s)if(t.loop){let b=n-r.virtual.slidesBefore;b<0&&(b=r.virtual.slides.length+b),b>=r.virtual.slides.length&&(b-=r.virtual.slides.length),o=l(`[data-swiper-slide-index="${b}"]`)}else o=l(`[data-swiper-slide-index="${n}"]`);else a?(o=e.find(b=>b.column===n),k=e.find(b=>b.column===n+1),u=e.find(b=>b.column===n-1)):o=e[n];o&&(a||(k=Un(o,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!k&&(k=e[0]),u=Nn(o,`.${t.slideClass}, swiper-slide`)[0],t.loop&&!u===0&&(u=e[e.length-1]))),e.forEach(b=>{Xt(b,b===o,t.slideActiveClass),Xt(b,b===k,t.slideNextClass),Xt(b,b===u,t.slidePrevClass)}),r.emitSlidesClasses()}const jt=(r,e)=>{if(!r||r.destroyed||!r.params)return;const t=()=>r.isElement?"swiper-slide":`.${r.params.slideClass}`,i=e.closest(t());if(i){let n=i.querySelector(`.${r.params.lazyPreloaderClass}`);!n&&r.isElement&&(i.shadowRoot?n=i.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{i.shadowRoot&&(n=i.shadowRoot.querySelector(`.${r.params.lazyPreloaderClass}`),n&&n.remove())})),n&&n.remove()}},Qt=(r,e)=>{if(!r.slides[e])return;const t=r.slides[e].querySelector('[loading="lazy"]');t&&t.removeAttribute("loading")},hr=r=>{if(!r||r.destroyed||!r.params)return;let e=r.params.lazyPreloadPrevNext;const t=r.slides.length;if(!t||!e||e<0)return;e=Math.min(e,t);const i=r.params.slidesPerView==="auto"?r.slidesPerViewDynamic():Math.ceil(r.params.slidesPerView),n=r.activeIndex;if(r.params.grid&&r.params.grid.rows>1){const a=n,l=[a-e];l.push(...Array.from({length:e}).map((o,u)=>a+i+u)),r.slides.forEach((o,u)=>{l.includes(o.column)&&Qt(r,u)});return}const s=n+i-1;if(r.params.rewind||r.params.loop)for(let a=n-e;a<=s+e;a+=1){const l=(a%t+t)%t;(l<n||l>s)&&Qt(r,l)}else for(let a=Math.max(n-e,0);a<=Math.min(s+e,t-1);a+=1)a!==n&&(a>s||a<n)&&Qt(r,a)};function ts(r){const{slidesGrid:e,params:t}=r,i=r.rtlTranslate?r.translate:-r.translate;let n;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?i>=e[s]&&i<e[s+1]-(e[s+1]-e[s])/2?n=s:i>=e[s]&&i<e[s+1]&&(n=s+1):i>=e[s]&&(n=s);return t.normalizeSlideIndex&&(n<0||typeof n>"u")&&(n=0),n}function rs(r){const e=this,t=e.rtlTranslate?e.translate:-e.translate,{snapGrid:i,params:n,activeIndex:s,realIndex:a,snapIndex:l}=e;let o=r,u;const k=S=>{let A=S-e.virtual.slidesBefore;return A<0&&(A=e.virtual.slides.length+A),A>=e.virtual.slides.length&&(A-=e.virtual.slides.length),A};if(typeof o>"u"&&(o=ts(e)),i.indexOf(t)>=0)u=i.indexOf(t);else{const S=Math.min(n.slidesPerGroupSkip,o);u=S+Math.floor((o-S)/n.slidesPerGroup)}if(u>=i.length&&(u=i.length-1),o===s&&!e.params.loop){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}if(o===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=k(o);return}const b=e.grid&&n.grid&&n.grid.rows>1;let O;if(e.virtual&&n.virtual.enabled&&n.loop)O=k(o);else if(b){const S=e.slides.find(E=>E.column===o);let A=parseInt(S.getAttribute("data-swiper-slide-index"),10);Number.isNaN(A)&&(A=Math.max(e.slides.indexOf(S),0)),O=Math.floor(A/n.grid.rows)}else if(e.slides[o]){const S=e.slides[o].getAttribute("data-swiper-slide-index");S?O=parseInt(S,10):O=o}else O=o;Object.assign(e,{previousSnapIndex:l,snapIndex:u,previousRealIndex:a,realIndex:O,previousIndex:s,activeIndex:o}),e.initialized&&hr(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==O&&e.emit("realIndexChange"),e.emit("slideChange"))}function is(r,e){const t=this,i=t.params;let n=r.closest(`.${i.slideClass}, swiper-slide`);!n&&t.isElement&&e&&e.length>1&&e.includes(r)&&[...e.slice(e.indexOf(r)+1,e.length)].forEach(l=>{!n&&l.matches&&l.matches(`.${i.slideClass}, swiper-slide`)&&(n=l)});let s=!1,a;if(n){for(let l=0;l<t.slides.length;l+=1)if(t.slides[l]===n){s=!0,a=l;break}}if(n&&s)t.clickedSlide=n,t.virtual&&t.params.virtual.enabled?t.clickedIndex=parseInt(n.getAttribute("data-swiper-slide-index"),10):t.clickedIndex=a;else{t.clickedSlide=void 0,t.clickedIndex=void 0;return}i.slideToClickedSlide&&t.clickedIndex!==void 0&&t.clickedIndex!==t.activeIndex&&t.slideToClickedSlide()}var ns={updateSize:Kn,updateSlides:Jn,updateAutoHeight:Yn,updateSlidesOffset:Xn,updateSlidesProgress:Qn,updateProgress:Zn,updateSlidesClasses:es,updateActiveIndex:rs,updateClickedSlide:is};function ss(r=this.isHorizontal()?"x":"y"){const e=this,{params:t,rtlTranslate:i,translate:n,wrapperEl:s}=e;if(t.virtualTranslate)return i?-n:n;if(t.cssMode)return n;let a=Mn(s,r);return a+=e.cssOverflowAdjustment(),i&&(a=-a),a||0}function as(r,e){const t=this,{rtlTranslate:i,params:n,wrapperEl:s,progress:a}=t;let l=0,o=0;const u=0;t.isHorizontal()?l=i?-r:r:o=r,n.roundLengths&&(l=Math.floor(l),o=Math.floor(o)),t.previousTranslate=t.translate,t.translate=t.isHorizontal()?l:o,n.cssMode?s[t.isHorizontal()?"scrollLeft":"scrollTop"]=t.isHorizontal()?-l:-o:n.virtualTranslate||(t.isHorizontal()?l-=t.cssOverflowAdjustment():o-=t.cssOverflowAdjustment(),s.style.transform=`translate3d(${l}px, ${o}px, ${u}px)`);let k;const b=t.maxTranslate()-t.minTranslate();b===0?k=0:k=(r-t.minTranslate())/b,k!==a&&t.updateProgress(r),t.emit("setTranslate",t.translate,e)}function os(){return-this.snapGrid[0]}function ls(){return-this.snapGrid[this.snapGrid.length-1]}function us(r=0,e=this.params.speed,t=!0,i=!0,n){const s=this,{params:a,wrapperEl:l}=s;if(s.animating&&a.preventInteractionOnTransition)return!1;const o=s.minTranslate(),u=s.maxTranslate();let k;if(i&&r>o?k=o:i&&r<u?k=u:k=r,s.updateProgress(k),a.cssMode){const b=s.isHorizontal();if(e===0)l[b?"scrollLeft":"scrollTop"]=-k;else{if(!s.support.smoothScroll)return Ti({swiper:s,targetPosition:-k,side:b?"left":"top"}),!0;l.scrollTo({[b?"left":"top"]:-k,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(k),t&&(s.emit("beforeTransitionStart",e,n),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(k),t&&(s.emit("beforeTransitionStart",e,n),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(O){!s||s.destroyed||O.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,t&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var cs={getTranslate:ss,setTranslate:as,minTranslate:os,maxTranslate:ls,translateTo:us};function ds(r,e){const t=this;t.params.cssMode||(t.wrapperEl.style.transitionDuration=`${r}ms`,t.wrapperEl.style.transitionDelay=r===0?"0ms":""),t.emit("setTransition",r,e)}function ji({swiper:r,runCallbacks:e,direction:t,step:i}){const{activeIndex:n,previousIndex:s}=r;let a=t;a||(n>s?a="next":n<s?a="prev":a="reset"),r.emit(`transition${i}`),e&&a==="reset"?r.emit(`slideResetTransition${i}`):e&&n!==s&&(r.emit(`slideChangeTransition${i}`),a==="next"?r.emit(`slideNextTransition${i}`):r.emit(`slidePrevTransition${i}`))}function fs(r=!0,e){const t=this,{params:i}=t;i.cssMode||(i.autoHeight&&t.updateAutoHeight(),ji({swiper:t,runCallbacks:r,direction:e,step:"Start"}))}function hs(r=!0,e){const t=this,{params:i}=t;t.animating=!1,!i.cssMode&&(t.setTransition(0),ji({swiper:t,runCallbacks:r,direction:e,step:"End"}))}var ps={setTransition:ds,transitionStart:fs,transitionEnd:hs};function gs(r=0,e,t=!0,i,n){typeof r=="string"&&(r=parseInt(r,10));const s=this;let a=r;a<0&&(a=0);const{params:l,snapGrid:o,slidesGrid:u,previousIndex:k,activeIndex:b,rtlTranslate:O,wrapperEl:S,enabled:A}=s;if(!A&&!i&&!n||s.destroyed||s.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const E=Math.min(s.params.slidesPerGroupSkip,a);let x=E+Math.floor((a-E)/s.params.slidesPerGroup);x>=o.length&&(x=o.length-1);const v=-o[x];if(l.normalizeSlideIndex)for(let y=0;y<u.length;y+=1){const p=-Math.floor(v*100),g=Math.floor(u[y]*100),c=Math.floor(u[y+1]*100);typeof u[y+1]<"u"?p>=g&&p<c-(c-g)/2?a=y:p>=g&&p<c&&(a=y+1):p>=g&&(a=y)}if(s.initialized&&a!==b&&(!s.allowSlideNext&&(O?v>s.translate&&v>s.minTranslate():v<s.translate&&v<s.minTranslate())||!s.allowSlidePrev&&v>s.translate&&v>s.maxTranslate()&&(b||0)!==a))return!1;a!==(k||0)&&t&&s.emit("beforeSlideChangeStart"),s.updateProgress(v);let f;a>b?f="next":a<b?f="prev":f="reset";const m=s.virtual&&s.params.virtual.enabled;if(!(m&&n)&&(O&&-v===s.translate||!O&&v===s.translate))return s.updateActiveIndex(a),l.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),l.effect!=="slide"&&s.setTranslate(v),f!=="reset"&&(s.transitionStart(t,f),s.transitionEnd(t,f)),!1;if(l.cssMode){const y=s.isHorizontal(),p=O?v:-v;if(e===0)m&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),m&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{S[y?"scrollLeft":"scrollTop"]=p})):S[y?"scrollLeft":"scrollTop"]=p,m&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return Ti({swiper:s,targetPosition:p,side:y?"left":"top"}),!0;S.scrollTo({[y?"left":"top"]:p,behavior:"smooth"})}return!0}const h=Ai().isSafari;return m&&!n&&h&&s.isElement&&s.virtual.update(!1,!1,a),s.setTransition(e),s.setTranslate(v),s.updateActiveIndex(a),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,i),s.transitionStart(t,f),e===0?s.transitionEnd(t,f):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(p){!s||s.destroyed||p.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(t,f))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function ms(r=0,e,t=!0,i){typeof r=="string"&&(r=parseInt(r,10));const n=this;if(n.destroyed)return;typeof e>"u"&&(e=n.params.speed);const s=n.grid&&n.params.grid&&n.params.grid.rows>1;let a=r;if(n.params.loop)if(n.virtual&&n.params.virtual.enabled)a=a+n.virtual.slidesBefore;else{let l;if(s){const E=a*n.params.grid.rows;l=n.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===E).column}else l=n.getSlideIndexByData(a);const o=s?Math.ceil(n.slides.length/n.params.grid.rows):n.slides.length,{centeredSlides:u,slidesOffsetBefore:k,slidesOffsetAfter:b}=n.params,O=u||!!k||!!b;let S=n.params.slidesPerView;S==="auto"?S=n.slidesPerViewDynamic():(S=Math.ceil(parseFloat(n.params.slidesPerView,10)),O&&S%2===0&&(S=S+1));let A=o-l<S;if(O&&(A=A||l<Math.ceil(S/2)),i&&O&&n.params.slidesPerView!=="auto"&&!s&&(A=!1),A){const E=O?l<n.activeIndex?"prev":"next":l-n.activeIndex-1<n.params.slidesPerView?"next":"prev";n.loopFix({direction:E,slideTo:!0,activeSlideIndex:E==="next"?l+1:l-o+1,slideRealIndex:E==="next"?n.realIndex:void 0})}if(s){const E=a*n.params.grid.rows;a=n.slides.find(x=>x.getAttribute("data-swiper-slide-index")*1===E).column}else a=n.getSlideIndexByData(a)}return requestAnimationFrame(()=>{n.slideTo(a,e,t,i)}),n}function vs(r,e=!0,t){const i=this,{enabled:n,params:s,animating:a}=i;if(!n||i.destroyed)return i;typeof r>"u"&&(r=i.params.speed);let l=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(l=Math.max(i.slidesPerViewDynamic("current",!0),1));const o=i.activeIndex<s.slidesPerGroupSkip?1:l,u=i.virtual&&s.virtual.enabled;if(s.loop){if(a&&!u&&s.loopPreventsSliding)return!1;if(i.loopFix({direction:"next"}),i._clientLeft=i.wrapperEl.clientLeft,i.activeIndex===i.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{i.slideTo(i.activeIndex+o,r,e,t)}),!0}return s.rewind&&i.isEnd?i.slideTo(0,r,e,t):i.slideTo(i.activeIndex+o,r,e,t)}function ys(r,e=!0,t){const i=this,{params:n,snapGrid:s,slidesGrid:a,rtlTranslate:l,enabled:o,animating:u}=i;if(!o||i.destroyed)return i;typeof r>"u"&&(r=i.params.speed);const k=i.virtual&&n.virtual.enabled;if(n.loop){if(u&&!k&&n.loopPreventsSliding)return!1;i.loopFix({direction:"prev"}),i._clientLeft=i.wrapperEl.clientLeft}const b=l?i.translate:-i.translate;function O(f){return f<0?-Math.floor(Math.abs(f)):Math.floor(f)}const S=O(b),A=s.map(f=>O(f)),E=n.freeMode&&n.freeMode.enabled;let x=s[A.indexOf(S)-1];if(typeof x>"u"&&(n.cssMode||E)){let f;s.forEach((m,d)=>{S>=m&&(f=d)}),typeof f<"u"&&(x=E?s[f]:s[f>0?f-1:f])}let v=0;if(typeof x<"u"&&(v=a.indexOf(x),v<0&&(v=i.activeIndex-1),n.slidesPerView==="auto"&&n.slidesPerGroup===1&&n.slidesPerGroupAuto&&(v=v-i.slidesPerViewDynamic("previous",!0)+1,v=Math.max(v,0))),n.rewind&&i.isBeginning){const f=i.params.virtual&&i.params.virtual.enabled&&i.virtual?i.virtual.slides.length-1:i.slides.length-1;return i.slideTo(f,r,e,t)}else if(n.loop&&i.activeIndex===0&&n.cssMode)return requestAnimationFrame(()=>{i.slideTo(v,r,e,t)}),!0;return i.slideTo(v,r,e,t)}function bs(r,e=!0,t){const i=this;if(!i.destroyed)return typeof r>"u"&&(r=i.params.speed),i.slideTo(i.activeIndex,r,e,t)}function ws(r,e=!0,t,i=.5){const n=this;if(n.destroyed)return;typeof r>"u"&&(r=n.params.speed);let s=n.activeIndex;const a=Math.min(n.params.slidesPerGroupSkip,s),l=a+Math.floor((s-a)/n.params.slidesPerGroup),o=n.rtlTranslate?n.translate:-n.translate;if(o>=n.snapGrid[l]){const u=n.snapGrid[l],k=n.snapGrid[l+1];o-u>(k-u)*i&&(s+=n.params.slidesPerGroup)}else{const u=n.snapGrid[l-1],k=n.snapGrid[l];o-u<=(k-u)*i&&(s-=n.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,n.slidesGrid.length-1),n.slideTo(s,r,e,t)}function _s(){const r=this;if(r.destroyed)return;const{params:e,slidesEl:t}=r,i=e.slidesPerView==="auto"?r.slidesPerViewDynamic():e.slidesPerView;let n=r.getSlideIndexWhenGrid(r.clickedIndex),s;const a=r.isElement?"swiper-slide":`.${e.slideClass}`,l=r.grid&&r.params.grid&&r.params.grid.rows>1;if(e.loop){if(r.animating)return;s=parseInt(r.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?r.slideToLoop(s):n>(l?(r.slides.length-i)/2-(r.params.grid.rows-1):r.slides.length-i)?(r.loopFix(),n=r.getSlideIndex(De(t,`${a}[data-swiper-slide-index="${s}"]`)[0]),Ei(()=>{r.slideTo(n)})):r.slideTo(n)}else r.slideTo(n)}var ks={slideTo:gs,slideToLoop:ms,slideNext:vs,slidePrev:ys,slideReset:bs,slideToClosest:ws,slideToClickedSlide:_s};function Ss(r,e){const t=this,{params:i,slidesEl:n}=t;if(!i.loop||t.virtual&&t.params.virtual.enabled)return;const s=()=>{De(n,`.${i.slideClass}, swiper-slide`).forEach((A,E)=>{A.setAttribute("data-swiper-slide-index",E)})},a=()=>{const S=De(n,`.${i.slideBlankClass}`);S.forEach(A=>{A.remove()}),S.length>0&&(t.recalcSlides(),t.updateSlides())},l=t.grid&&i.grid&&i.grid.rows>1;i.loopAddBlankSlides&&(i.slidesPerGroup>1||l)&&a();const o=i.slidesPerGroup*(l?i.grid.rows:1),u=t.slides.length%o!==0,k=l&&t.slides.length%i.grid.rows!==0,b=S=>{for(let A=0;A<S;A+=1){const E=t.isElement?Mt("swiper-slide",[i.slideBlankClass]):Mt("div",[i.slideClass,i.slideBlankClass]);t.slidesEl.append(E)}};if(u){if(i.loopAddBlankSlides){const S=o-t.slides.length%o;b(S),t.recalcSlides(),t.updateSlides()}else Lt("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(k){if(i.loopAddBlankSlides){const S=i.grid.rows-t.slides.length%i.grid.rows;b(S),t.recalcSlides(),t.updateSlides()}else Lt("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();const O=i.centeredSlides||!!i.slidesOffsetBefore||!!i.slidesOffsetAfter;t.loopFix({slideRealIndex:r,direction:O?void 0:"next",initial:e})}function Es({slideRealIndex:r,slideTo:e=!0,direction:t,setTranslate:i,activeSlideIndex:n,initial:s,byController:a,byMousewheel:l}={}){const o=this;if(!o.params.loop)return;o.emit("beforeLoopFix");const{slides:u,allowSlidePrev:k,allowSlideNext:b,slidesEl:O,params:S}=o,{centeredSlides:A,slidesOffsetBefore:E,slidesOffsetAfter:x,initialSlide:v}=S,f=A||!!E||!!x;if(o.allowSlidePrev=!0,o.allowSlideNext=!0,o.virtual&&S.virtual.enabled){e&&(!f&&o.snapIndex===0?o.slideTo(o.virtual.slides.length,0,!1,!0):f&&o.snapIndex<S.slidesPerView?o.slideTo(o.virtual.slides.length+o.snapIndex,0,!1,!0):o.snapIndex===o.snapGrid.length-1&&o.slideTo(o.virtual.slidesBefore,0,!1,!0)),o.allowSlidePrev=k,o.allowSlideNext=b,o.emit("loopFix");return}let m=S.slidesPerView;m==="auto"?m=o.slidesPerViewDynamic():(m=Math.ceil(parseFloat(S.slidesPerView,10)),f&&m%2===0&&(m=m+1));const d=S.slidesPerGroupAuto?m:S.slidesPerGroup;let _=f?Math.max(d,Math.ceil(m/2)):d;_%d!==0&&(_+=d-_%d),_+=S.loopAdditionalSlides,o.loopedSlides=_;const h=o.grid&&S.grid&&S.grid.rows>1;u.length<m+_||o.params.effect==="cards"&&u.length<m+_*2?Lt("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):h&&S.grid.fill==="row"&&Lt("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const y=[],p=[],g=h?Math.ceil(u.length/S.grid.rows):u.length,c=s&&g-v<m&&!f;let w=c?v:o.activeIndex;typeof n>"u"?n=o.getSlideIndex(u.find(L=>L.classList.contains(S.slideActiveClass))):w=n;const T=t==="next"||!t,P=t==="prev"||!t;let I=0,D=0;const R=(h?u[n].column:n)+(f&&typeof i>"u"?-m/2+.5:0);if(R<_){I=Math.max(_-R,d);for(let L=0;L<_-R;L+=1){const $=L-Math.floor(L/g)*g;if(h){const C=g-$-1;for(let j=u.length-1;j>=0;j-=1)u[j].column===C&&y.push(j)}else y.push(g-$-1)}}else if(R+m>g-_){D=Math.max(R-(g-_*2),d),c&&(D=Math.max(D,m-g+v+1));for(let L=0;L<D;L+=1){const $=L-Math.floor(L/g)*g;h?u.forEach((C,j)=>{C.column===$&&p.push(j)}):p.push($)}}if(o.__preventObserver__=!0,requestAnimationFrame(()=>{o.__preventObserver__=!1}),o.params.effect==="cards"&&u.length<m+_*2&&(p.includes(n)&&p.splice(p.indexOf(n),1),y.includes(n)&&y.splice(y.indexOf(n),1)),P&&y.forEach(L=>{u[L].swiperLoopMoveDOM=!0,O.prepend(u[L]),u[L].swiperLoopMoveDOM=!1}),T&&p.forEach(L=>{u[L].swiperLoopMoveDOM=!0,O.append(u[L]),u[L].swiperLoopMoveDOM=!1}),o.recalcSlides(),S.slidesPerView==="auto"?o.updateSlides():h&&(y.length>0&&P||p.length>0&&T)&&o.slides.forEach((L,$)=>{o.grid.updateSlide($,L,o.slides)}),S.watchSlidesProgress&&o.updateSlidesOffset(),e){if(y.length>0&&P){if(typeof r>"u"){const L=o.slidesGrid[w],C=o.slidesGrid[w+I]-L;l?o.setTranslate(o.translate-C):(o.slideTo(w+Math.ceil(I),0,!1,!0),i&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-C,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-C))}else if(i){const L=h?y.length/S.grid.rows:y.length;o.slideTo(o.activeIndex+L,0,!1,!0),o.touchEventsData.currentTranslate=o.translate}}else if(p.length>0&&T)if(typeof r>"u"){const L=o.slidesGrid[w],C=o.slidesGrid[w-D]-L;l?o.setTranslate(o.translate-C):(o.slideTo(w-D,0,!1,!0),i&&(o.touchEventsData.startTranslate=o.touchEventsData.startTranslate-C,o.touchEventsData.currentTranslate=o.touchEventsData.currentTranslate-C))}else{const L=h?p.length/S.grid.rows:p.length;o.slideTo(o.activeIndex-L,0,!1,!0)}}if(o.allowSlidePrev=k,o.allowSlideNext=b,o.controller&&o.controller.control&&!a){const L={slideRealIndex:r,direction:t,setTranslate:i,activeSlideIndex:n,byController:!0};Array.isArray(o.controller.control)?o.controller.control.forEach($=>{!$.destroyed&&$.params.loop&&$.loopFix({...L,slideTo:$.params.slidesPerView===S.slidesPerView?e:!1})}):o.controller.control instanceof o.constructor&&o.controller.control.params.loop&&o.controller.control.loopFix({...L,slideTo:o.controller.control.params.slidesPerView===S.slidesPerView?e:!1})}o.emit("loopFix")}function Ts(){const r=this,{params:e,slidesEl:t}=r;if(!e.loop||!t||r.virtual&&r.params.virtual.enabled)return;r.recalcSlides();const i=[];r.slides.forEach(n=>{const s=typeof n.swiperSlideIndex>"u"?n.getAttribute("data-swiper-slide-index")*1:n.swiperSlideIndex;i[s]=n}),r.slides.forEach(n=>{n.removeAttribute("data-swiper-slide-index")}),i.forEach(n=>{t.append(n)}),r.recalcSlides(),r.slideTo(r.realIndex,0)}var xs={loopCreate:Ss,loopFix:Es,loopDestroy:Ts};function Os(r){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const t=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),t.style.cursor="move",t.style.cursor=r?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Ps(){const r=this;r.params.watchOverflow&&r.isLocked||r.params.cssMode||(r.isElement&&(r.__preventObserver__=!0),r[r.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",r.isElement&&requestAnimationFrame(()=>{r.__preventObserver__=!1}))}var Cs={setGrabCursor:Os,unsetGrabCursor:Ps};function As(r,e=this){function t(i){if(!i||i===$e()||i===Te())return null;i.assignedSlot&&(i=i.assignedSlot);const n=i.closest(r);return!n&&!i.getRootNode?null:n||t(i.getRootNode().host)}return t(e)}function Fr(r,e,t){const i=Te(),{params:n}=r,s=n.edgeSwipeDetection,a=n.edgeSwipeThreshold;return s&&(t<=a||t>=i.innerWidth-a)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function js(r){const e=this,t=$e();let i=r;i.originalEvent&&(i=i.originalEvent);const n=e.touchEventsData;if(i.type==="pointerdown"){if(n.pointerId!==null&&n.pointerId!==i.pointerId)return;n.pointerId=i.pointerId}else i.type==="touchstart"&&i.targetTouches.length===1&&(n.touchId=i.targetTouches[0].identifier);if(i.type==="touchstart"){Fr(e,i,i.targetTouches[0].pageX);return}const{params:s,touches:a,enabled:l}=e;if(!l||!s.simulateTouch&&i.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let o=i.target;if(s.touchEventsTarget==="wrapper"&&!Bn(o,e.wrapperEl)||"which"in i&&i.which===3||"button"in i&&i.button>0||n.isTouched&&n.isMoved)return;const u=!!s.noSwipingClass&&s.noSwipingClass!=="",k=i.composedPath?i.composedPath():i.path;u&&i.target&&i.target.shadowRoot&&k&&(o=k[0]);const b=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,O=!!(i.target&&i.target.shadowRoot);if(s.noSwiping&&(O?As(b,o):o.closest(b))){e.allowClick=!0;return}if(s.swipeHandler&&!o.closest(s.swipeHandler))return;a.currentX=i.pageX,a.currentY=i.pageY;const S=a.currentX,A=a.currentY;if(!Fr(e,i,S))return;Object.assign(n,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=S,a.startY=A,n.touchStartTime=Rt(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(n.allowThresholdMove=!1);let E=!0;o.matches(n.focusableElements)&&(E=!1,o.nodeName==="SELECT"&&(n.isTouched=!1)),t.activeElement&&t.activeElement.matches(n.focusableElements)&&t.activeElement!==o&&(i.pointerType==="mouse"||i.pointerType!=="mouse"&&!o.matches(n.focusableElements))&&t.activeElement.blur();const x=E&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||x)&&!o.isContentEditable&&i.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",i)}function Is(r){const e=$e(),t=this,i=t.touchEventsData,{params:n,touches:s,rtlTranslate:a,enabled:l}=t;if(!l||!n.simulateTouch&&r.pointerType==="mouse")return;let o=r;if(o.originalEvent&&(o=o.originalEvent),o.type==="pointermove"&&(i.touchId!==null||o.pointerId!==i.pointerId))return;let u;if(o.type==="touchmove"){if(u=[...o.changedTouches].find(_=>_.identifier===i.touchId),!u||u.identifier!==i.touchId)return}else u=o;if(!i.isTouched){i.startMoving&&i.isScrolling&&t.emit("touchMoveOpposite",o);return}const k=u.pageX,b=u.pageY;if(o.preventedByNestedSwiper){s.startX=k,s.startY=b;return}if(!t.allowTouchMove){o.target.matches(i.focusableElements)||(t.allowClick=!1),i.isTouched&&(Object.assign(s,{startX:k,startY:b,currentX:k,currentY:b}),i.touchStartTime=Rt());return}if(n.touchReleaseOnEdges&&!n.loop)if(t.isVertical()){if(b<s.startY&&t.translate<=t.maxTranslate()||b>s.startY&&t.translate>=t.minTranslate()){i.isTouched=!1,i.isMoved=!1;return}}else{if(a&&(k>s.startX&&-t.translate<=t.maxTranslate()||k<s.startX&&-t.translate>=t.minTranslate()))return;if(!a&&(k<s.startX&&t.translate<=t.maxTranslate()||k>s.startX&&t.translate>=t.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(i.focusableElements)&&e.activeElement!==o.target&&o.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&o.target===e.activeElement&&o.target.matches(i.focusableElements)){i.isMoved=!0,t.allowClick=!1;return}i.allowTouchCallbacks&&t.emit("touchMove",o),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=k,s.currentY=b;const O=s.currentX-s.startX,S=s.currentY-s.startY;if(t.params.threshold&&Math.sqrt(O**2+S**2)<t.params.threshold)return;if(typeof i.isScrolling>"u"){let _;t.isHorizontal()&&s.currentY===s.startY||t.isVertical()&&s.currentX===s.startX?i.isScrolling=!1:O*O+S*S>=25&&(_=Math.atan2(Math.abs(S),Math.abs(O))*180/Math.PI,i.isScrolling=t.isHorizontal()?_>n.touchAngle:90-_>n.touchAngle)}if(i.isScrolling&&t.emit("touchMoveOpposite",o),typeof i.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(i.startMoving=!0),i.isScrolling||o.type==="touchmove"&&i.preventTouchMoveFromPointerMove){i.isTouched=!1;return}if(!i.startMoving)return;t.allowClick=!1,!n.cssMode&&o.cancelable&&o.preventDefault(),n.touchMoveStopPropagation&&!n.nested&&o.stopPropagation();let A=t.isHorizontal()?O:S,E=t.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;n.oneWayMovement&&(A=Math.abs(A)*(a?1:-1),E=Math.abs(E)*(a?1:-1)),s.diff=A,A*=n.touchRatio,a&&(A=-A,E=-E);const x=t.touchesDirection;t.swipeDirection=A>0?"prev":"next",t.touchesDirection=E>0?"prev":"next";const v=t.params.loop&&!n.cssMode,f=t.touchesDirection==="next"&&t.allowSlideNext||t.touchesDirection==="prev"&&t.allowSlidePrev;if(!i.isMoved){if(v&&f&&t.loopFix({direction:t.swipeDirection}),i.startTranslate=t.getTranslate(),t.setTransition(0),t.animating){const _=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});t.wrapperEl.dispatchEvent(_)}i.allowMomentumBounce=!1,n.grabCursor&&(t.allowSlideNext===!0||t.allowSlidePrev===!0)&&t.setGrabCursor(!0),t.emit("sliderFirstMove",o)}if(new Date().getTime(),n._loopSwapReset!==!1&&i.isMoved&&i.allowThresholdMove&&x!==t.touchesDirection&&v&&f&&Math.abs(A)>=1){Object.assign(s,{startX:k,startY:b,currentX:k,currentY:b,startTranslate:i.currentTranslate}),i.loopSwapReset=!0,i.startTranslate=i.currentTranslate;return}t.emit("sliderMove",o),i.isMoved=!0,i.currentTranslate=A+i.startTranslate;let m=!0,d=n.resistanceRatio;if(n.touchReleaseOnEdges&&(d=0),A>0?(v&&f&&i.allowThresholdMove&&i.currentTranslate>(n.centeredSlides?t.minTranslate()-t.slidesSizesGrid[t.activeIndex+1]-(n.slidesPerView!=="auto"&&t.slides.length-n.slidesPerView>=2?t.slidesSizesGrid[t.activeIndex+1]+t.params.spaceBetween:0)-t.params.spaceBetween:t.minTranslate())&&t.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),i.currentTranslate>t.minTranslate()&&(m=!1,n.resistance&&(i.currentTranslate=t.minTranslate()-1+(-t.minTranslate()+i.startTranslate+A)**d))):A<0&&(v&&f&&i.allowThresholdMove&&i.currentTranslate<(n.centeredSlides?t.maxTranslate()+t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween+(n.slidesPerView!=="auto"&&t.slides.length-n.slidesPerView>=2?t.slidesSizesGrid[t.slidesSizesGrid.length-1]+t.params.spaceBetween:0):t.maxTranslate())&&t.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:t.slides.length-(n.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(parseFloat(n.slidesPerView,10)))}),i.currentTranslate<t.maxTranslate()&&(m=!1,n.resistance&&(i.currentTranslate=t.maxTranslate()+1-(t.maxTranslate()-i.startTranslate-A)**d))),m&&(o.preventedByNestedSwiper=!0),!t.allowSlideNext&&t.swipeDirection==="next"&&i.currentTranslate<i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&t.swipeDirection==="prev"&&i.currentTranslate>i.startTranslate&&(i.currentTranslate=i.startTranslate),!t.allowSlidePrev&&!t.allowSlideNext&&(i.currentTranslate=i.startTranslate),n.threshold>0)if(Math.abs(A)>n.threshold||i.allowThresholdMove){if(!i.allowThresholdMove){i.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,i.currentTranslate=i.startTranslate,s.diff=t.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{i.currentTranslate=i.startTranslate;return}!n.followFinger||n.cssMode||((n.freeMode&&n.freeMode.enabled&&t.freeMode||n.watchSlidesProgress)&&(t.updateActiveIndex(),t.updateSlidesClasses()),n.freeMode&&n.freeMode.enabled&&t.freeMode&&t.freeMode.onTouchMove(),t.updateProgress(i.currentTranslate),t.setTranslate(i.currentTranslate))}function Rs(r){const e=this,t=e.touchEventsData;let i=r;i.originalEvent&&(i=i.originalEvent);let n;if(i.type==="touchend"||i.type==="touchcancel"){if(n=[...i.changedTouches].find(_=>_.identifier===t.touchId),!n||n.identifier!==t.touchId)return}else{if(t.touchId!==null||i.pointerId!==t.pointerId)return;n=i}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(i.type)&&!(["pointercancel","contextmenu"].includes(i.type)&&(e.browser.isSafari||e.browser.isWebView)))return;t.pointerId=null,t.touchId=null;const{params:a,touches:l,rtlTranslate:o,slidesGrid:u,enabled:k}=e;if(!k||!a.simulateTouch&&i.pointerType==="mouse")return;if(t.allowTouchCallbacks&&e.emit("touchEnd",i),t.allowTouchCallbacks=!1,!t.isTouched){t.isMoved&&a.grabCursor&&e.setGrabCursor(!1),t.isMoved=!1,t.startMoving=!1;return}a.grabCursor&&t.isMoved&&t.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const b=Rt(),O=b-t.touchStartTime;if(e.allowClick){const _=i.path||i.composedPath&&i.composedPath();e.updateClickedSlide(_&&_[0]||i.target,_),e.emit("tap click",i),O<300&&b-t.lastClickTime<300&&e.emit("doubleTap doubleClick",i)}if(t.lastClickTime=Rt(),Ei(()=>{e.destroyed||(e.allowClick=!0)}),!t.isTouched||!t.isMoved||!e.swipeDirection||l.diff===0&&!t.loopSwapReset||t.currentTranslate===t.startTranslate&&!t.loopSwapReset){t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;return}t.isTouched=!1,t.isMoved=!1,t.startMoving=!1;let S;if(a.followFinger?S=o?e.translate:-e.translate:S=-t.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:S});return}const A=S>=-e.maxTranslate()&&!e.params.loop;let E=0,x=e.slidesSizesGrid[0];for(let _=0;_<u.length;_+=_<a.slidesPerGroupSkip?1:a.slidesPerGroup){const h=_<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof u[_+h]<"u"?(A||S>=u[_]&&S<u[_+h])&&(E=_,x=u[_+h]-u[_]):(A||S>=u[_])&&(E=_,x=u[u.length-1]-u[u.length-2])}let v=null,f=null;a.rewind&&(e.isBeginning?f=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(v=0));const m=(S-u[E])/x,d=E<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(O>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(m>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?v:E+d):e.slideTo(E)),e.swipeDirection==="prev"&&(m>1-a.longSwipesRatio?e.slideTo(E+d):f!==null&&m<0&&Math.abs(m)>a.longSwipesRatio?e.slideTo(f):e.slideTo(E))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(i.target===e.navigation.nextEl||i.target===e.navigation.prevEl)?i.target===e.navigation.nextEl?e.slideTo(E+d):e.slideTo(E):(e.swipeDirection==="next"&&e.slideTo(v!==null?v:E+d),e.swipeDirection==="prev"&&e.slideTo(f!==null?f:E))}}function Vr(){const r=this,{params:e,el:t}=r;if(t&&t.offsetWidth===0)return;e.breakpoints&&r.setBreakpoint();const{allowSlideNext:i,allowSlidePrev:n,snapGrid:s}=r,a=r.virtual&&r.params.virtual.enabled;r.allowSlideNext=!0,r.allowSlidePrev=!0,r.updateSize(),r.updateSlides(),r.updateSlidesClasses();const l=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&r.isEnd&&!r.isBeginning&&!r.params.centeredSlides&&!l?r.slideTo(r.slides.length-1,0,!1,!0):r.params.loop&&!a?r.slideToLoop(r.realIndex,0,!1,!0):r.slideTo(r.activeIndex,0,!1,!0),r.autoplay&&r.autoplay.running&&r.autoplay.paused&&(clearTimeout(r.autoplay.resizeTimeout),r.autoplay.resizeTimeout=setTimeout(()=>{r.autoplay&&r.autoplay.running&&r.autoplay.paused&&r.autoplay.resume()},500)),r.allowSlidePrev=n,r.allowSlideNext=i,r.params.watchOverflow&&s!==r.snapGrid&&r.checkOverflow()}function Ls(r){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&r.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(r.stopPropagation(),r.stopImmediatePropagation())))}function Ms(){const r=this,{wrapperEl:e,rtlTranslate:t,enabled:i}=r;if(!i)return;r.previousTranslate=r.translate,r.isHorizontal()?r.translate=-e.scrollLeft:r.translate=-e.scrollTop,r.translate===0&&(r.translate=0),r.updateActiveIndex(),r.updateSlidesClasses();let n;const s=r.maxTranslate()-r.minTranslate();s===0?n=0:n=(r.translate-r.minTranslate())/s,n!==r.progress&&r.updateProgress(t?-r.translate:r.translate),r.emit("setTranslate",r.translate,!1)}function Ds(r){const e=this;jt(e,r.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function $s(){const r=this;r.documentTouchHandlerProceeded||(r.documentTouchHandlerProceeded=!0,r.params.touchReleaseOnEdges&&(r.el.style.touchAction="auto"))}const Ii=(r,e)=>{const t=$e(),{params:i,el:n,wrapperEl:s,device:a}=r,l=!!i.nested,o=e==="on"?"addEventListener":"removeEventListener",u=e;!n||typeof n=="string"||(t[o]("touchstart",r.onDocumentTouchStart,{passive:!1,capture:l}),n[o]("touchstart",r.onTouchStart,{passive:!1}),n[o]("pointerdown",r.onTouchStart,{passive:!1}),t[o]("touchmove",r.onTouchMove,{passive:!1,capture:l}),t[o]("pointermove",r.onTouchMove,{passive:!1,capture:l}),t[o]("touchend",r.onTouchEnd,{passive:!0}),t[o]("pointerup",r.onTouchEnd,{passive:!0}),t[o]("pointercancel",r.onTouchEnd,{passive:!0}),t[o]("touchcancel",r.onTouchEnd,{passive:!0}),t[o]("pointerout",r.onTouchEnd,{passive:!0}),t[o]("pointerleave",r.onTouchEnd,{passive:!0}),t[o]("contextmenu",r.onTouchEnd,{passive:!0}),(i.preventClicks||i.preventClicksPropagation)&&n[o]("click",r.onClick,!0),i.cssMode&&s[o]("scroll",r.onScroll),i.updateOnWindowResize?r[u](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",Vr,!0):r[u]("observerUpdate",Vr,!0),n[o]("load",r.onLoad,{capture:!0}))};function Bs(){const r=this,{params:e}=r;r.onTouchStart=js.bind(r),r.onTouchMove=Is.bind(r),r.onTouchEnd=Rs.bind(r),r.onDocumentTouchStart=$s.bind(r),e.cssMode&&(r.onScroll=Ms.bind(r)),r.onClick=Ls.bind(r),r.onLoad=Ds.bind(r),Ii(r,"on")}function Ns(){Ii(this,"off")}var Us={attachEvents:Bs,detachEvents:Ns};const Gr=(r,e)=>r.grid&&e.grid&&e.grid.rows>1;function Fs(){const r=this,{realIndex:e,initialized:t,params:i,el:n}=r,s=i.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const a=$e(),l=i.breakpointsBase==="window"||!i.breakpointsBase?i.breakpointsBase:"container",o=["window","container"].includes(i.breakpointsBase)||!i.breakpointsBase?r.el:a.querySelector(i.breakpointsBase),u=r.getBreakpoint(s,l,o);if(!u||r.currentBreakpoint===u)return;const b=(u in s?s[u]:void 0)||r.originalParams,O=Gr(r,i),S=Gr(r,b),A=r.params.grabCursor,E=b.grabCursor,x=i.enabled;O&&!S?(n.classList.remove(`${i.containerModifierClass}grid`,`${i.containerModifierClass}grid-column`),r.emitContainerClasses()):!O&&S&&(n.classList.add(`${i.containerModifierClass}grid`),(b.grid.fill&&b.grid.fill==="column"||!b.grid.fill&&i.grid.fill==="column")&&n.classList.add(`${i.containerModifierClass}grid-column`),r.emitContainerClasses()),A&&!E?r.unsetGrabCursor():!A&&E&&r.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(h=>{if(typeof b[h]>"u")return;const y=i[h]&&i[h].enabled,p=b[h]&&b[h].enabled;y&&!p&&r[h].disable(),!y&&p&&r[h].enable()});const v=b.direction&&b.direction!==i.direction,f=i.loop&&(b.slidesPerView!==i.slidesPerView||v),m=i.loop;v&&t&&r.changeDirection(),Pe(r.params,b);const d=r.params.enabled,_=r.params.loop;Object.assign(r,{allowTouchMove:r.params.allowTouchMove,allowSlideNext:r.params.allowSlideNext,allowSlidePrev:r.params.allowSlidePrev}),x&&!d?r.disable():!x&&d&&r.enable(),r.currentBreakpoint=u,r.emit("_beforeBreakpoint",b),t&&(f?(r.loopDestroy(),r.loopCreate(e),r.updateSlides()):!m&&_?(r.loopCreate(e),r.updateSlides()):m&&!_&&r.loopDestroy()),r.emit("breakpoint",b)}function Vs(r,e="window",t){if(!r||e==="container"&&!t)return;let i=!1;const n=Te(),s=e==="window"?n.innerHeight:t.clientHeight,a=Object.keys(r).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const o=parseFloat(l.substr(1));return{value:s*o,point:l}}return{value:l,point:l}});a.sort((l,o)=>parseInt(l.value,10)-parseInt(o.value,10));for(let l=0;l<a.length;l+=1){const{point:o,value:u}=a[l];e==="window"?n.matchMedia(`(min-width: ${u}px)`).matches&&(i=o):u<=t.clientWidth&&(i=o)}return i||"max"}var Gs={setBreakpoint:Fs,getBreakpoint:Vs};function zs(r,e){const t=[];return r.forEach(i=>{typeof i=="object"?Object.keys(i).forEach(n=>{i[n]&&t.push(e+n)}):typeof i=="string"&&t.push(e+i)}),t}function qs(){const r=this,{classNames:e,params:t,rtl:i,el:n,device:s}=r,a=zs(["initialized",t.direction,{"free-mode":r.params.freeMode&&t.freeMode.enabled},{autoheight:t.autoHeight},{rtl:i},{grid:t.grid&&t.grid.rows>1},{"grid-column":t.grid&&t.grid.rows>1&&t.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":t.cssMode},{centered:t.cssMode&&t.centeredSlides},{"watch-progress":t.watchSlidesProgress}],t.containerModifierClass);e.push(...a),n.classList.add(...e),r.emitContainerClasses()}function Hs(){const r=this,{el:e,classNames:t}=r;!e||typeof e=="string"||(e.classList.remove(...t),r.emitContainerClasses())}var Ws={addClasses:qs,removeClasses:Hs};function Ks(){const r=this,{isLocked:e,params:t}=r,{slidesOffsetBefore:i}=t;if(i){const n=r.slides.length-1,s=r.slidesGrid[n]+r.slidesSizesGrid[n]+i*2;r.isLocked=r.size>s}else r.isLocked=r.snapGrid.length===1;t.allowSlideNext===!0&&(r.allowSlideNext=!r.isLocked),t.allowSlidePrev===!0&&(r.allowSlidePrev=!r.isLocked),e&&e!==r.isLocked&&(r.isEnd=!1),e!==r.isLocked&&r.emit(r.isLocked?"lock":"unlock")}var Js={checkOverflow:Ks},zr={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Ys(r,e){return function(i={}){const n=Object.keys(i)[0],s=i[n];if(typeof s!="object"||s===null){Pe(e,i);return}if(r[n]===!0&&(r[n]={enabled:!0}),n==="navigation"&&r[n]&&r[n].enabled&&!r[n].prevEl&&!r[n].nextEl&&(r[n].auto=!0),["pagination","scrollbar"].indexOf(n)>=0&&r[n]&&r[n].enabled&&!r[n].el&&(r[n].auto=!0),!(n in r&&"enabled"in s)){Pe(e,i);return}typeof r[n]=="object"&&!("enabled"in r[n])&&(r[n].enabled=!0),r[n]||(r[n]={enabled:!1}),Pe(e,i)}}const Zt={eventsEmitter:Wn,update:ns,translate:cs,transition:ps,slide:ks,loop:xs,grabCursor:Cs,events:Us,breakpoints:Gs,checkOverflow:Js,classes:Ws},er={};class xe{constructor(...e){let t,i;e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?i=e[0]:[t,i]=e,i||(i={}),i=Pe({},i),t&&!i.el&&(i.el=t);const n=$e();if(i.el&&typeof i.el=="string"&&n.querySelectorAll(i.el).length>1){const o=[];return n.querySelectorAll(i.el).forEach(u=>{const k=Pe({},i,{el:u});o.push(new xe(k))}),o}const s=this;s.__swiper__=!0,s.support=Pi(),s.device=Ci({userAgent:i.userAgent}),s.browser=Ai(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],i.modules&&Array.isArray(i.modules)&&s.modules.push(...i.modules);const a={};s.modules.forEach(o=>{o({params:i,swiper:s,extendParams:Ys(i,a),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const l=Pe({},zr,a);return s.params=Pe({},l,er,i),s.originalParams=Pe({},s.params),s.passedParams=Pe({},i),s.params&&s.params.on&&Object.keys(s.params.on).forEach(o=>{s.on(o,s.params.on[o])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),Object.assign(s,{enabled:s.params.enabled,el:t,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:t,params:i}=this,n=De(t,`.${i.slideClass}, swiper-slide`),s=Dt(n[0]);return Dt(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(t=>t.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:t,params:i}=e;e.slides=De(t,`.${i.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,t){const i=this;e=Math.min(Math.max(e,0),1);const n=i.minTranslate(),a=(i.maxTranslate()-n)*e+n;i.translateTo(a,typeof t>"u"?0:t),i.updateActiveIndex(),i.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=e.el.className.split(" ").filter(i=>i.indexOf("swiper")===0||i.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",t.join(" "))}getSlideClasses(e){const t=this;return t.destroyed?"":e.className.split(" ").filter(i=>i.indexOf("swiper-slide")===0||i.indexOf(t.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const t=[];e.slides.forEach(i=>{const n=e.getSlideClasses(i);t.push({slideEl:i,classNames:n}),e.emit("_slideClass",i,n)}),e.emit("_slideClasses",t)}slidesPerViewDynamic(e="current",t=!1){const i=this,{params:n,slides:s,slidesGrid:a,slidesSizesGrid:l,size:o,activeIndex:u}=i;let k=1;if(typeof n.slidesPerView=="number")return n.slidesPerView;if(n.centeredSlides){let b=s[u]?Math.ceil(s[u].swiperSlideSize):0,O;for(let S=u+1;S<s.length;S+=1)s[S]&&!O&&(b+=Math.ceil(s[S].swiperSlideSize),k+=1,b>o&&(O=!0));for(let S=u-1;S>=0;S-=1)s[S]&&!O&&(b+=s[S].swiperSlideSize,k+=1,b>o&&(O=!0))}else if(e==="current")for(let b=u+1;b<s.length;b+=1)(t?a[b]+l[b]-a[u]<o:a[b]-a[u]<o)&&(k+=1);else for(let b=u-1;b>=0;b-=1)a[u]-a[b]<o&&(k+=1);return k}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:t,params:i}=e;i.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&jt(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function n(){const a=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(i.freeMode&&i.freeMode.enabled&&!i.cssMode)n(),i.autoHeight&&e.updateAutoHeight();else{if((i.slidesPerView==="auto"||i.slidesPerView>1)&&e.isEnd&&!i.centeredSlides){const a=e.virtual&&i.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(a.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||n()}i.watchOverflow&&t!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,t=!0){const i=this,n=i.params.direction;return e||(e=n==="horizontal"?"vertical":"horizontal"),e===n||e!=="horizontal"&&e!=="vertical"||(i.el.classList.remove(`${i.params.containerModifierClass}${n}`),i.el.classList.add(`${i.params.containerModifierClass}${e}`),i.emitContainerClasses(),i.params.direction=e,i.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),i.emit("changeDirection"),t&&i.update()),i}changeLanguageDirection(e){const t=this;t.rtl&&e==="rtl"||!t.rtl&&e==="ltr"||(t.rtl=e==="rtl",t.rtlTranslate=t.params.direction==="horizontal"&&t.rtl,t.rtl?(t.el.classList.add(`${t.params.containerModifierClass}rtl`),t.el.dir="rtl"):(t.el.classList.remove(`${t.params.containerModifierClass}rtl`),t.el.dir="ltr"),t.update())}mount(e){const t=this;if(t.mounted)return!0;let i=e||t.params.el;if(typeof i=="string"&&(i=document.querySelector(i)),!i)return!1;i.swiper=t,i.parentNode&&i.parentNode.host&&i.parentNode.host.nodeName===t.params.swiperElementNodeName.toUpperCase()&&(t.isElement=!0);const n=()=>`.${(t.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=i&&i.shadowRoot&&i.shadowRoot.querySelector?i.shadowRoot.querySelector(n()):De(i,n())[0];return!a&&t.params.createElements&&(a=Mt("div",t.params.wrapperClass),i.append(a),De(i,`.${t.params.slideClass}`).forEach(l=>{a.append(l)})),Object.assign(t,{el:i,wrapperEl:a,slidesEl:t.isElement&&!i.parentNode.host.slideSlots?i.parentNode.host:a,hostEl:t.isElement?i.parentNode.host:i,mounted:!0,rtl:i.dir.toLowerCase()==="rtl"||Fe(i,"direction")==="rtl",rtlTranslate:t.params.direction==="horizontal"&&(i.dir.toLowerCase()==="rtl"||Fe(i,"direction")==="rtl"),wrongRTL:Fe(a,"display")==="-webkit-box"}),!0}init(e){const t=this;if(t.initialized||t.mount(e)===!1)return t;t.emit("beforeInit"),t.params.breakpoints&&t.setBreakpoint(),t.addClasses(),t.updateSize(),t.updateSlides(),t.params.watchOverflow&&t.checkOverflow(),t.params.grabCursor&&t.enabled&&t.setGrabCursor(),t.params.loop&&t.virtual&&t.params.virtual.enabled?t.slideTo(t.params.initialSlide+t.virtual.slidesBefore,0,t.params.runCallbacksOnInit,!1,!0):t.slideTo(t.params.initialSlide,0,t.params.runCallbacksOnInit,!1,!0),t.params.loop&&t.loopCreate(void 0,!0),t.attachEvents();const n=[...t.el.querySelectorAll('[loading="lazy"]')];return t.isElement&&n.push(...t.hostEl.querySelectorAll('[loading="lazy"]')),n.forEach(s=>{s.complete?jt(t,s):s.addEventListener("load",a=>{jt(t,a.target)})}),hr(t),t.initialized=!0,hr(t),t.emit("init"),t.emit("afterInit"),t}destroy(e=!0,t=!0){const i=this,{params:n,el:s,wrapperEl:a,slides:l}=i;return typeof i.params>"u"||i.destroyed||(i.emit("beforeDestroy"),i.initialized=!1,i.detachEvents(),n.loop&&i.loopDestroy(),t&&(i.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),a&&a.removeAttribute("style"),l&&l.length&&l.forEach(o=>{o.classList.remove(n.slideVisibleClass,n.slideFullyVisibleClass,n.slideActiveClass,n.slideNextClass,n.slidePrevClass),o.removeAttribute("style"),o.removeAttribute("data-swiper-slide-index")})),i.emit("destroy"),Object.keys(i.eventsListeners).forEach(o=>{i.off(o)}),e!==!1&&(i.el&&typeof i.el!="string"&&(i.el.swiper=null),Rn(i)),i.destroyed=!0),null}static extendDefaults(e){Pe(er,e)}static get extendedDefaults(){return er}static get defaults(){return zr}static installModule(e){xe.prototype.__modules__||(xe.prototype.__modules__=[]);const t=xe.prototype.__modules__;typeof e=="function"&&t.indexOf(e)<0&&t.push(e)}static use(e){return Array.isArray(e)?(e.forEach(t=>xe.installModule(t)),xe):(xe.installModule(e),xe)}}Object.keys(Zt).forEach(r=>{Object.keys(Zt[r]).forEach(e=>{xe.prototype[e]=Zt[r][e]})});xe.use([qn,Hn]);function Ri(r,e,t,i){return r.params.createElements&&Object.keys(i).forEach(n=>{if(!t[n]&&t.auto===!0){let s=De(r.el,`.${i[n]}`)[0];s||(s=Mt("div",i[n]),s.className=i[n],r.el.append(s)),t[n]=s,e[n]=s}}),t}const qr='<svg class="swiper-navigation-icon" width="11" height="20" viewBox="0 0 11 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.38296 20.0762C0.111788 19.805 0.111788 19.3654 0.38296 19.0942L9.19758 10.2796L0.38296 1.46497C0.111788 1.19379 0.111788 0.754138 0.38296 0.482966C0.654131 0.211794 1.09379 0.211794 1.36496 0.482966L10.4341 9.55214C10.8359 9.9539 10.8359 10.6053 10.4341 11.007L1.36496 20.0762C1.09379 20.3474 0.654131 20.3474 0.38296 20.0762Z" fill="currentColor"/></svg>';function tr({swiper:r,extendParams:e,on:t,emit:i}){e({navigation:{nextEl:null,prevEl:null,addIcons:!0,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),r.navigation={nextEl:null,prevEl:null,arrowSvg:qr};function n(S){let A;return S&&typeof S=="string"&&r.isElement&&(A=r.el.querySelector(S)||r.hostEl.querySelector(S),A)?A:(S&&(typeof S=="string"&&(A=[...document.querySelectorAll(S)]),r.params.uniqueNavElements&&typeof S=="string"&&A&&A.length>1&&r.el.querySelectorAll(S).length===1?A=r.el.querySelector(S):A&&A.length===1&&(A=A[0])),S&&!A?S:A)}function s(S,A){const E=r.params.navigation;S=_e(S),S.forEach(x=>{x&&(x.classList[A?"add":"remove"](...E.disabledClass.split(" ")),x.tagName==="BUTTON"&&(x.disabled=A),r.params.watchOverflow&&r.enabled&&x.classList[r.isLocked?"add":"remove"](E.lockClass))})}function a(){const{nextEl:S,prevEl:A}=r.navigation;if(r.params.loop){s(A,!1),s(S,!1);return}s(A,r.isBeginning&&!r.params.rewind),s(S,r.isEnd&&!r.params.rewind)}function l(S){S.preventDefault(),!(r.isBeginning&&!r.params.loop&&!r.params.rewind)&&(r.slidePrev(),i("navigationPrev"))}function o(S){S.preventDefault(),!(r.isEnd&&!r.params.loop&&!r.params.rewind)&&(r.slideNext(),i("navigationNext"))}function u(){const S=r.params.navigation;if(r.params.navigation=Ri(r,r.originalParams.navigation,r.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(S.nextEl||S.prevEl))return;let A=n(S.nextEl),E=n(S.prevEl);Object.assign(r.navigation,{nextEl:A,prevEl:E}),A=_e(A),E=_e(E);const x=(v,f)=>{if(v){if(S.addIcons&&v.matches(".swiper-button-next,.swiper-button-prev")&&!v.querySelector("svg")){const m=document.createElement("div");fr(m,qr),v.appendChild(m.querySelector("svg")),m.remove()}v.addEventListener("click",f==="next"?o:l)}!r.enabled&&v&&v.classList.add(...S.lockClass.split(" "))};A.forEach(v=>x(v,"next")),E.forEach(v=>x(v,"prev"))}function k(){let{nextEl:S,prevEl:A}=r.navigation;S=_e(S),A=_e(A);const E=(x,v)=>{x.removeEventListener("click",v==="next"?o:l),x.classList.remove(...r.params.navigation.disabledClass.split(" "))};S.forEach(x=>E(x,"next")),A.forEach(x=>E(x,"prev"))}t("init",()=>{r.params.navigation.enabled===!1?O():(u(),a())}),t("toEdge fromEdge lock unlock",()=>{a()}),t("destroy",()=>{k()}),t("enable disable",()=>{let{nextEl:S,prevEl:A}=r.navigation;if(S=_e(S),A=_e(A),r.enabled){a();return}[...S,...A].filter(E=>!!E).forEach(E=>E.classList.add(r.params.navigation.lockClass))}),t("click",(S,A)=>{let{nextEl:E,prevEl:x}=r.navigation;E=_e(E),x=_e(x);const v=A.target;let f=x.includes(v)||E.includes(v);if(r.isElement&&!f){const m=A.path||A.composedPath&&A.composedPath();m&&(f=m.find(d=>E.includes(d)||x.includes(d)))}if(r.params.navigation.hideOnClick&&!f){if(r.pagination&&r.params.pagination&&r.params.pagination.clickable&&(r.pagination.el===v||r.pagination.el.contains(v)))return;let m;E.length?m=E[0].classList.contains(r.params.navigation.hiddenClass):x.length&&(m=x[0].classList.contains(r.params.navigation.hiddenClass)),i(m===!0?"navigationShow":"navigationHide"),[...E,...x].filter(d=>!!d).forEach(d=>d.classList.toggle(r.params.navigation.hiddenClass))}});const b=()=>{r.el.classList.remove(...r.params.navigation.navigationDisabledClass.split(" ")),u(),a()},O=()=>{r.el.classList.add(...r.params.navigation.navigationDisabledClass.split(" ")),k()};Object.assign(r.navigation,{enable:b,disable:O,update:a,init:u,destroy:k})}function lt(r=""){return`.${r.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Hr({swiper:r,extendParams:e,on:t,emit:i}){const n="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:v=>v,formatFractionTotal:v=>v,bulletClass:`${n}-bullet`,bulletActiveClass:`${n}-bullet-active`,modifierClass:`${n}-`,currentClass:`${n}-current`,totalClass:`${n}-total`,hiddenClass:`${n}-hidden`,progressbarFillClass:`${n}-progressbar-fill`,progressbarOppositeClass:`${n}-progressbar-opposite`,clickableClass:`${n}-clickable`,lockClass:`${n}-lock`,horizontalClass:`${n}-horizontal`,verticalClass:`${n}-vertical`,paginationDisabledClass:`${n}-disabled`}}),r.pagination={el:null,bullets:[]};let s,a=0;function l(){return!r.params.pagination.el||!r.pagination.el||Array.isArray(r.pagination.el)&&r.pagination.el.length===0}function o(v,f){const{bulletActiveClass:m}=r.params.pagination;v&&(v=v[`${f==="prev"?"previous":"next"}ElementSibling`],v&&(v.classList.add(`${m}-${f}`),v=v[`${f==="prev"?"previous":"next"}ElementSibling`],v&&v.classList.add(`${m}-${f}-${f}`)))}function u(v,f,m){if(v=v%m,f=f%m,f===v+1)return"next";if(f===v-1)return"previous"}function k(v){const f=v.target.closest(lt(r.params.pagination.bulletClass));if(!f)return;v.preventDefault();const m=Dt(f)*r.params.slidesPerGroup;if(r.params.loop){if(r.realIndex===m)return;const d=u(r.realIndex,m,r.slides.length);d==="next"?r.slideNext():d==="previous"?r.slidePrev():r.slideToLoop(m)}else r.slideTo(m)}function b(){const v=r.rtl,f=r.params.pagination;if(l())return;let m=r.pagination.el;m=_e(m);let d,_;const h=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.slides.length,y=r.params.loop?Math.ceil(h/r.params.slidesPerGroup):r.snapGrid.length;if(r.params.loop?(_=r.previousRealIndex||0,d=r.params.slidesPerGroup>1?Math.floor(r.realIndex/r.params.slidesPerGroup):r.realIndex):typeof r.snapIndex<"u"?(d=r.snapIndex,_=r.previousSnapIndex):(_=r.previousIndex||0,d=r.activeIndex||0),f.type==="bullets"&&r.pagination.bullets&&r.pagination.bullets.length>0){const p=r.pagination.bullets;let g,c,w;if(f.dynamicBullets&&(s=dr(p[0],r.isHorizontal()?"width":"height"),m.forEach(T=>{T.style[r.isHorizontal()?"width":"height"]=`${s*(f.dynamicMainBullets+4)}px`}),f.dynamicMainBullets>1&&_!==void 0&&(a+=d-(_||0),a>f.dynamicMainBullets-1?a=f.dynamicMainBullets-1:a<0&&(a=0)),g=Math.max(d-a,0),c=g+(Math.min(p.length,f.dynamicMainBullets)-1),w=(c+g)/2),p.forEach(T=>{const P=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(I=>`${f.bulletActiveClass}${I}`)].map(I=>typeof I=="string"&&I.includes(" ")?I.split(" "):I).flat();T.classList.remove(...P)}),m.length>1)p.forEach(T=>{const P=Dt(T);P===d?T.classList.add(...f.bulletActiveClass.split(" ")):r.isElement&&T.setAttribute("part","bullet"),f.dynamicBullets&&(P>=g&&P<=c&&T.classList.add(...`${f.bulletActiveClass}-main`.split(" ")),P===g&&o(T,"prev"),P===c&&o(T,"next"))});else{const T=p[d];if(T&&T.classList.add(...f.bulletActiveClass.split(" ")),r.isElement&&p.forEach((P,I)=>{P.setAttribute("part",I===d?"bullet-active":"bullet")}),f.dynamicBullets){const P=p[g],I=p[c];for(let D=g;D<=c;D+=1)p[D]&&p[D].classList.add(...`${f.bulletActiveClass}-main`.split(" "));o(P,"prev"),o(I,"next")}}if(f.dynamicBullets){const T=Math.min(p.length,f.dynamicMainBullets+4),P=(s*T-s)/2-w*s,I=v?"right":"left";p.forEach(D=>{D.style[r.isHorizontal()?I:"top"]=`${P}px`})}}m.forEach((p,g)=>{if(f.type==="fraction"&&(p.querySelectorAll(lt(f.currentClass)).forEach(c=>{c.textContent=f.formatFractionCurrent(d+1)}),p.querySelectorAll(lt(f.totalClass)).forEach(c=>{c.textContent=f.formatFractionTotal(y)})),f.type==="progressbar"){let c;f.progressbarOpposite?c=r.isHorizontal()?"vertical":"horizontal":c=r.isHorizontal()?"horizontal":"vertical";const w=(d+1)/y;let T=1,P=1;c==="horizontal"?T=w:P=w,p.querySelectorAll(lt(f.progressbarFillClass)).forEach(I=>{I.style.transform=`translate3d(0,0,0) scaleX(${T}) scaleY(${P})`,I.style.transitionDuration=`${r.params.speed}ms`})}f.type==="custom"&&f.renderCustom?(fr(p,f.renderCustom(r,d+1,y)),g===0&&i("paginationRender",p)):(g===0&&i("paginationRender",p),i("paginationUpdate",p)),r.params.watchOverflow&&r.enabled&&p.classList[r.isLocked?"add":"remove"](f.lockClass)})}function O(){const v=r.params.pagination;if(l())return;const f=r.virtual&&r.params.virtual.enabled?r.virtual.slides.length:r.grid&&r.params.grid.rows>1?r.slides.length/Math.ceil(r.params.grid.rows):r.slides.length;let m=r.pagination.el;m=_e(m);let d="";if(v.type==="bullets"){let _=r.params.loop?Math.ceil(f/r.params.slidesPerGroup):r.snapGrid.length;r.params.freeMode&&r.params.freeMode.enabled&&_>f&&(_=f);for(let h=0;h<_;h+=1)v.renderBullet?d+=v.renderBullet.call(r,h,v.bulletClass):d+=`<${v.bulletElement} ${r.isElement?'part="bullet"':""} class="${v.bulletClass}"></${v.bulletElement}>`}v.type==="fraction"&&(v.renderFraction?d=v.renderFraction.call(r,v.currentClass,v.totalClass):d=`<span class="${v.currentClass}"></span> / <span class="${v.totalClass}"></span>`),v.type==="progressbar"&&(v.renderProgressbar?d=v.renderProgressbar.call(r,v.progressbarFillClass):d=`<span class="${v.progressbarFillClass}"></span>`),r.pagination.bullets=[],m.forEach(_=>{v.type!=="custom"&&fr(_,d||""),v.type==="bullets"&&r.pagination.bullets.push(..._.querySelectorAll(lt(v.bulletClass)))}),v.type!=="custom"&&i("paginationRender",m[0])}function S(){r.params.pagination=Ri(r,r.originalParams.pagination,r.params.pagination,{el:"swiper-pagination"});const v=r.params.pagination;if(!v.el)return;let f;typeof v.el=="string"&&r.isElement&&(f=r.el.querySelector(v.el)),!f&&typeof v.el=="string"&&(f=[...document.querySelectorAll(v.el)]),f||(f=v.el),!(!f||f.length===0)&&(r.params.uniqueNavElements&&typeof v.el=="string"&&Array.isArray(f)&&f.length>1&&(f=[...r.el.querySelectorAll(v.el)],f.length>1&&(f=f.find(m=>Oi(m,".swiper")[0]===r.el))),Array.isArray(f)&&f.length===1&&(f=f[0]),Object.assign(r.pagination,{el:f}),f=_e(f),f.forEach(m=>{v.type==="bullets"&&v.clickable&&m.classList.add(...(v.clickableClass||"").split(" ")),m.classList.add(v.modifierClass+v.type),m.classList.add(r.isHorizontal()?v.horizontalClass:v.verticalClass),v.type==="bullets"&&v.dynamicBullets&&(m.classList.add(`${v.modifierClass}${v.type}-dynamic`),a=0,v.dynamicMainBullets<1&&(v.dynamicMainBullets=1)),v.type==="progressbar"&&v.progressbarOpposite&&m.classList.add(v.progressbarOppositeClass),v.clickable&&m.addEventListener("click",k),r.enabled||m.classList.add(v.lockClass)}))}function A(){const v=r.params.pagination;if(l())return;let f=r.pagination.el;f&&(f=_e(f),f.forEach(m=>{m.classList.remove(v.hiddenClass),m.classList.remove(v.modifierClass+v.type),m.classList.remove(r.isHorizontal()?v.horizontalClass:v.verticalClass),v.clickable&&(m.classList.remove(...(v.clickableClass||"").split(" ")),m.removeEventListener("click",k))})),r.pagination.bullets&&r.pagination.bullets.forEach(m=>m.classList.remove(...v.bulletActiveClass.split(" ")))}t("changeDirection",()=>{if(!r.pagination||!r.pagination.el)return;const v=r.params.pagination;let{el:f}=r.pagination;f=_e(f),f.forEach(m=>{m.classList.remove(v.horizontalClass,v.verticalClass),m.classList.add(r.isHorizontal()?v.horizontalClass:v.verticalClass)})}),t("init",()=>{r.params.pagination.enabled===!1?x():(S(),O(),b())}),t("activeIndexChange",()=>{typeof r.snapIndex>"u"&&b()}),t("snapIndexChange",()=>{b()}),t("snapGridLengthChange",()=>{O(),b()}),t("destroy",()=>{A()}),t("enable disable",()=>{let{el:v}=r.pagination;v&&(v=_e(v),v.forEach(f=>f.classList[r.enabled?"remove":"add"](r.params.pagination.lockClass)))}),t("lock unlock",()=>{b()}),t("click",(v,f)=>{const m=f.target,d=_e(r.pagination.el);if(r.params.pagination.el&&r.params.pagination.hideOnClick&&d&&d.length>0&&!m.classList.contains(r.params.pagination.bulletClass)){if(r.navigation&&(r.navigation.nextEl&&m===r.navigation.nextEl||r.navigation.prevEl&&m===r.navigation.prevEl))return;const _=d[0].classList.contains(r.params.pagination.hiddenClass);i(_===!0?"paginationShow":"paginationHide"),d.forEach(h=>h.classList.toggle(r.params.pagination.hiddenClass))}});const E=()=>{r.el.classList.remove(r.params.pagination.paginationDisabledClass);let{el:v}=r.pagination;v&&(v=_e(v),v.forEach(f=>f.classList.remove(r.params.pagination.paginationDisabledClass))),S(),O(),b()},x=()=>{r.el.classList.add(r.params.pagination.paginationDisabledClass);let{el:v}=r.pagination;v&&(v=_e(v),v.forEach(f=>f.classList.add(r.params.pagination.paginationDisabledClass))),A()};Object.assign(r.pagination,{enable:E,disable:x,render:O,update:b,init:S,destroy:A})}function Xs({swiper:r,extendParams:e,on:t,emit:i,params:n}){r.autoplay={running:!1,paused:!1,timeLeft:0},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let s,a,l=n&&n.autoplay?n.autoplay.delay:3e3,o=n&&n.autoplay?n.autoplay.delay:3e3,u,k=new Date().getTime(),b,O,S,A,E,x,v;function f(R){!r||r.destroyed||!r.wrapperEl||R.target===r.wrapperEl&&(r.wrapperEl.removeEventListener("transitionend",f),!(v||R.detail&&R.detail.bySwiperTouchMove)&&g())}const m=()=>{if(r.destroyed||!r.autoplay.running)return;r.autoplay.paused?b=!0:b&&(o=u,b=!1);const R=r.autoplay.paused?u:k+o-new Date().getTime();r.autoplay.timeLeft=R,i("autoplayTimeLeft",R,R/l),a=requestAnimationFrame(()=>{m()})},d=()=>{let R;return r.virtual&&r.params.virtual.enabled?R=r.slides.find($=>$.classList.contains("swiper-slide-active")):R=r.slides[r.activeIndex],R?parseInt(R.getAttribute("data-swiper-autoplay"),10):void 0},_=R=>{if(r.destroyed||!r.autoplay.running)return;cancelAnimationFrame(a),m();let L=typeof R>"u"?r.params.autoplay.delay:R;l=r.params.autoplay.delay,o=r.params.autoplay.delay;const $=d();!Number.isNaN($)&&$>0&&typeof R>"u"&&(L=$,l=$,o=$),u=L;const C=r.params.speed,j=()=>{!r||r.destroyed||(r.params.autoplay.reverseDirection?!r.isBeginning||r.params.loop||r.params.rewind?(r.slidePrev(C,!0,!0),i("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(r.slides.length-1,C,!0,!0),i("autoplay")):!r.isEnd||r.params.loop||r.params.rewind?(r.slideNext(C,!0,!0),i("autoplay")):r.params.autoplay.stopOnLastSlide||(r.slideTo(0,C,!0,!0),i("autoplay")),r.params.cssMode&&(k=new Date().getTime(),requestAnimationFrame(()=>{_()})))};return L>0?(clearTimeout(s),s=setTimeout(()=>{j()},L)):requestAnimationFrame(()=>{j()}),L},h=()=>{k=new Date().getTime(),r.autoplay.running=!0,_(),i("autoplayStart")},y=()=>{r.autoplay.running=!1,clearTimeout(s),cancelAnimationFrame(a),i("autoplayStop")},p=(R,L)=>{if(r.destroyed||!r.autoplay.running)return;clearTimeout(s),R||(x=!0);const $=()=>{i("autoplayPause"),r.params.autoplay.waitForTransition?r.wrapperEl.addEventListener("transitionend",f):g()};if(r.autoplay.paused=!0,L){E&&(u=r.params.autoplay.delay),E=!1,$();return}u=(u||r.params.autoplay.delay)-(new Date().getTime()-k),!(r.isEnd&&u<0&&!r.params.loop)&&(u<0&&(u=0),$())},g=()=>{r.isEnd&&u<0&&!r.params.loop||r.destroyed||!r.autoplay.running||(k=new Date().getTime(),x?(x=!1,_(u)):_(),r.autoplay.paused=!1,i("autoplayResume"))},c=()=>{if(r.destroyed||!r.autoplay.running)return;const R=$e();R.visibilityState==="hidden"&&(x=!0,p(!0)),R.visibilityState==="visible"&&g()},w=R=>{R.pointerType==="mouse"&&(x=!0,v=!0,!(r.animating||r.autoplay.paused)&&p(!0))},T=R=>{R.pointerType==="mouse"&&(v=!1,r.autoplay.paused&&g())},P=()=>{r.params.autoplay.pauseOnMouseEnter&&(r.el.addEventListener("pointerenter",w),r.el.addEventListener("pointerleave",T))},I=()=>{r.el&&typeof r.el!="string"&&(r.el.removeEventListener("pointerenter",w),r.el.removeEventListener("pointerleave",T))},D=()=>{$e().addEventListener("visibilitychange",c)},B=()=>{$e().removeEventListener("visibilitychange",c)};t("init",()=>{r.params.autoplay.enabled&&(P(),D(),h())}),t("destroy",()=>{I(),B(),r.autoplay.running&&y()}),t("_freeModeStaticRelease",()=>{(S||x)&&g()}),t("_freeModeNoMomentumRelease",()=>{r.params.autoplay.disableOnInteraction?y():p(!0,!0)}),t("beforeTransitionStart",(R,L,$)=>{r.destroyed||!r.autoplay.running||($||!r.params.autoplay.disableOnInteraction?p(!0,!0):y())}),t("sliderFirstMove",()=>{if(!(r.destroyed||!r.autoplay.running)){if(r.params.autoplay.disableOnInteraction){y();return}O=!0,S=!1,x=!1,A=setTimeout(()=>{x=!0,S=!0,p(!0)},200)}}),t("touchEnd",()=>{if(!(r.destroyed||!r.autoplay.running||!O)){if(clearTimeout(A),clearTimeout(s),r.params.autoplay.disableOnInteraction){S=!1,O=!1;return}S&&r.params.cssMode&&g(),S=!1,O=!1}}),t("slideChange",()=>{r.destroyed||!r.autoplay.running||(E=!0)}),Object.assign(r.autoplay,{start:h,stop:y,pause:p,resume:g})}function Qs(r){const{effect:e,swiper:t,on:i,setTranslate:n,setTransition:s,overwriteParams:a,perspective:l,recreateShadows:o,getEffectParams:u}=r;i("beforeInit",()=>{if(t.params.effect!==e)return;t.classNames.push(`${t.params.containerModifierClass}${e}`),l&&l()&&t.classNames.push(`${t.params.containerModifierClass}3d`);const b=a?a():{};Object.assign(t.params,b),Object.assign(t.originalParams,b)}),i("setTranslate _virtualUpdated",()=>{t.params.effect===e&&n()}),i("setTransition",(b,O)=>{t.params.effect===e&&s(O)}),i("transitionEnd",()=>{if(t.params.effect===e&&o){if(!u||!u().slideShadows)return;t.slides.forEach(b=>{b.querySelectorAll(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").forEach(O=>O.remove())}),o()}});let k;i("virtualUpdate",()=>{t.params.effect===e&&(t.slides.length||(k=!0),requestAnimationFrame(()=>{k&&t.slides&&t.slides.length&&(n(),k=!1)}))})}function Zs(r,e){const t=xi(e);return t!==e&&(t.style.backfaceVisibility="hidden",t.style["-webkit-backface-visibility"]="hidden"),t}function ea({swiper:r,duration:e,transformElements:t,allSlides:i}){const{activeIndex:n}=r;if(r.params.virtualTranslate&&e!==0){let s=!1,a;a=t,a.forEach(l=>{Fn(l,()=>{if(s||!r||r.destroyed)return;s=!0,r.animating=!1;const o=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0});r.wrapperEl.dispatchEvent(o)})})}}function ta({swiper:r,extendParams:e,on:t}){e({fadeEffect:{crossFade:!1}}),Qs({effect:"fade",swiper:r,on:t,setTranslate:()=>{const{slides:s}=r,a=r.params.fadeEffect;for(let l=0;l<s.length;l+=1){const o=r.slides[l];let k=-o.swiperSlideOffset;r.params.virtualTranslate||(k-=r.translate);let b=0;r.isHorizontal()||(b=k,k=0);const O=r.params.fadeEffect.crossFade?Math.max(1-Math.abs(o.progress),0):1+Math.min(Math.max(o.progress,-1),0),S=Zs(a,o);S.style.opacity=O,S.style.transform=`translate3d(${k}px, ${b}px, 0px)`}},setTransition:s=>{const a=r.slides.map(l=>xi(l));a.forEach(l=>{l.style.transitionDuration=`${s}ms`}),ea({swiper:r,duration:s,transformElements:a,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!r.params.cssMode})})}var pr=function(r,e){return pr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])},pr(r,e)};function Li(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pr(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var $t=function(){return $t=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++){t=arguments[i];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},$t.apply(this,arguments)};function st(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(r);n<i.length;n++)e.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(r,i[n])&&(t[i[n]]=r[i[n]]);return t}function Mi(r,e,t,i){var n=arguments.length,s=n<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,e,t,i);else for(var l=r.length-1;l>=0;l--)(a=r[l])&&(s=(n<3?a(s):n>3?a(e,t,s):a(e,t))||s);return n>3&&s&&Object.defineProperty(e,t,s),s}function Di(r,e){return function(t,i){e(t,i,r)}}function $i(r,e,t,i,n,s){function a(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=i.kind,o=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&r?i.static?r:r.prototype:null,k=e||(u?Object.getOwnPropertyDescriptor(u,i.name):{}),b,O=!1,S=t.length-1;S>=0;S--){var A={};for(var E in i)A[E]=E==="access"?{}:i[E];for(var E in i.access)A.access[E]=i.access[E];A.addInitializer=function(v){if(O)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(v||null))};var x=(0,t[S])(l==="accessor"?{get:k.get,set:k.set}:k[o],A);if(l==="accessor"){if(x===void 0)continue;if(x===null||typeof x!="object")throw new TypeError("Object expected");(b=a(x.get))&&(k.get=b),(b=a(x.set))&&(k.set=b),(b=a(x.init))&&n.unshift(b)}else(b=a(x))&&(l==="field"?n.unshift(b):k[o]=b)}u&&Object.defineProperty(u,i.name,k),O=!0}function Bi(r,e,t){for(var i=arguments.length>2,n=0;n<e.length;n++)t=i?e[n].call(r,t):e[n].call(r);return i?t:void 0}function Ni(r){return typeof r=="symbol"?r:"".concat(r)}function Ui(r,e,t){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(r,"name",{configurable:!0,value:t?"".concat(t," ",e):e})}function Fi(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)}function re(r,e,t,i){function n(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(k){try{u(i.next(k))}catch(b){a(b)}}function o(k){try{u(i.throw(k))}catch(b){a(b)}}function u(k){k.done?s(k.value):n(k.value).then(l,o)}u((i=i.apply(r,e||[])).next())})}function Vi(r,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=l(0),a.throw=l(1),a.return=l(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function l(u){return function(k){return o([u,k])}}function o(u){if(i)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(t=0)),t;)try{if(i=1,n&&(s=u[0]&2?n.return:u[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,u[1])).done)return s;switch(n=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,n=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){t.label=u[1];break}if(u[0]===6&&t.label<s[1]){t.label=s[1],s=u;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(u);break}s[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(k){u=[6,k],n=0}finally{i=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Vt=Object.create?(function(r,e,t,i){i===void 0&&(i=t);var n=Object.getOwnPropertyDescriptor(e,t);(!n||("get"in n?!e.__esModule:n.writable||n.configurable))&&(n={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,i,n)}):(function(r,e,t,i){i===void 0&&(i=t),r[i]=e[t]});function Gi(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Vt(e,r,t)}function Bt(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],i=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&i>=r.length&&(r=void 0),{value:r&&r[i++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pr(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var i=t.call(r),n,s=[],a;try{for(;(e===void 0||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(l){a={error:l}}finally{try{n&&!n.done&&(t=i.return)&&t.call(i)}finally{if(a)throw a.error}}return s}function zi(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Pr(arguments[e]));return r}function qi(){for(var r=0,e=0,t=arguments.length;e<t;e++)r+=arguments[e].length;for(var i=Array(r),n=0,e=0;e<t;e++)for(var s=arguments[e],a=0,l=s.length;a<l;a++,n++)i[n]=s[a];return i}function Hi(r,e,t){if(t||arguments.length===2)for(var i=0,n=e.length,s;i<n;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return r.concat(s||Array.prototype.slice.call(e))}function nt(r){return this instanceof nt?(this.v=r,this):new nt(r)}function Wi(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(r,e||[]),n,s=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),n[Symbol.asyncIterator]=function(){return this},n;function a(S){return function(A){return Promise.resolve(A).then(S,b)}}function l(S,A){i[S]&&(n[S]=function(E){return new Promise(function(x,v){s.push([S,E,x,v])>1||o(S,E)})},A&&(n[S]=A(n[S])))}function o(S,A){try{u(i[S](A))}catch(E){O(s[0][3],E)}}function u(S){S.value instanceof nt?Promise.resolve(S.value.v).then(k,b):O(s[0][2],S)}function k(S){o("next",S)}function b(S){o("throw",S)}function O(S,A){S(A),s.shift(),s.length&&o(s[0][0],s[0][1])}}function Ki(r){var e,t;return e={},i("next"),i("throw",function(n){throw n}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(n,s){e[n]=r[n]?function(a){return(t=!t)?{value:nt(r[n](a)),done:!1}:s?s(a):a}:s}}function Ji(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof Bt=="function"?Bt(r):r[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=r[s]&&function(a){return new Promise(function(l,o){a=r[s](a),n(l,o,a.done,a.value)})}}function n(s,a,l,o){Promise.resolve(o).then(function(u){s({value:u,done:l})},a)}}function Yi(r,e){return Object.defineProperty?Object.defineProperty(r,"raw",{value:e}):r.raw=e,r}var ra=Object.create?(function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}):function(r,e){r.default=e},gr=function(r){return gr=Object.getOwnPropertyNames||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[t.length]=i);return t},gr(r)};function Xi(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t=gr(r),i=0;i<t.length;i++)t[i]!=="default"&&Vt(e,r,t[i]);return ra(e,r),e}function Qi(r){return r&&r.__esModule?r:{default:r}}function Zi(r,e,t,i){if(t==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?r!==e||!i:!e.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?i:t==="a"?i.call(r):i?i.value:e.get(r)}function en(r,e,t,i,n){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?r!==e||!n:!e.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?n.call(r,t):n?n.value=t:e.set(r,t),t}function tn(r,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof r=="function"?e===r:r.has(e)}function rn(r,e,t){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,n;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],t&&(n=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");n&&(i=function(){try{n.call(this)}catch(s){return Promise.reject(s)}}),r.stack.push({value:e,dispose:i,async:t})}else t&&r.stack.push({async:!0});return e}var ia=typeof SuppressedError=="function"?SuppressedError:function(r,e,t){var i=new Error(t);return i.name="SuppressedError",i.error=r,i.suppressed=e,i};function nn(r){function e(s){r.error=r.hasError?new ia(s,r.error,"An error was suppressed during disposal."):s,r.hasError=!0}var t,i=0;function n(){for(;t=r.stack.pop();)try{if(!t.async&&i===1)return i=0,r.stack.push(t),Promise.resolve().then(n);if(t.dispose){var s=t.dispose.call(t.value);if(t.async)return i|=2,Promise.resolve(s).then(n,function(a){return e(a),n()})}else i|=1}catch(a){e(a)}if(i===1)return r.hasError?Promise.reject(r.error):Promise.resolve();if(r.hasError)throw r.error}return n()}function sn(r,e){return typeof r=="string"&&/^\.\.?\//.test(r)?r.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,i,n,s,a){return i?e?".jsx":".js":n&&(!s||!a)?t:n+s+"."+a.toLowerCase()+"js"}):r}const na={__extends:Li,__assign:$t,__rest:st,__decorate:Mi,__param:Di,__esDecorate:$i,__runInitializers:Bi,__propKey:Ni,__setFunctionName:Ui,__metadata:Fi,__awaiter:re,__generator:Vi,__createBinding:Vt,__exportStar:Gi,__values:Bt,__read:Pr,__spread:zi,__spreadArrays:qi,__spreadArray:Hi,__await:nt,__asyncGenerator:Wi,__asyncDelegator:Ki,__asyncValues:Ji,__makeTemplateObject:Yi,__importStar:Xi,__importDefault:Qi,__classPrivateFieldGet:Zi,__classPrivateFieldSet:en,__classPrivateFieldIn:tn,__addDisposableResource:rn,__disposeResources:nn,__rewriteRelativeImportExtension:sn},sa=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:rn,get __assign(){return $t},__asyncDelegator:Ki,__asyncGenerator:Wi,__asyncValues:Ji,__await:nt,__awaiter:re,__classPrivateFieldGet:Zi,__classPrivateFieldIn:tn,__classPrivateFieldSet:en,__createBinding:Vt,__decorate:Mi,__disposeResources:nn,__esDecorate:$i,__exportStar:Gi,__extends:Li,__generator:Vi,__importDefault:Qi,__importStar:Xi,__makeTemplateObject:Yi,__metadata:Fi,__param:Di,__propKey:Ni,__read:Pr,__rest:st,__rewriteRelativeImportExtension:sn,__runInitializers:Bi,__setFunctionName:Ui,__spread:zi,__spreadArray:Hi,__spreadArrays:qi,__values:Bt,default:na},Symbol.toStringTag,{value:"Module"})),aa=r=>r?(...e)=>r(...e):(...e)=>fetch(...e);class Cr extends Error{constructor(e,t="FunctionsError",i){super(e),this.name=t,this.context=i}}class Wr extends Cr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Kr extends Cr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Jr extends Cr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mr;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(mr||(mr={}));class oa{constructor(e,{headers:t={},customFetch:i,region:n=mr.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=aa(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return re(this,arguments,void 0,function*(t,i={}){var n;try{const{headers:s,method:a,body:l,signal:o}=i;let u={},{region:k}=i;k||(k=this.region);const b=new URL(`${this.url}/${t}`);k&&k!=="any"&&(u["x-region"]=k,b.searchParams.set("forceFunctionRegion",k));let O;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",O=l):typeof l=="string"?(u["Content-Type"]="text/plain",O=l):typeof FormData<"u"&&l instanceof FormData?O=l:(u["Content-Type"]="application/json",O=JSON.stringify(l)):O=l;const S=yield this.fetch(b.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),s),body:O,signal:o}).catch(v=>{throw v.name==="AbortError"?v:new Wr(v)}),A=S.headers.get("x-relay-error");if(A&&A==="true")throw new Kr(S);if(!S.ok)throw new Jr(S);let E=((n=S.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return E==="application/json"?x=yield S.json():E==="application/octet-stream"||E==="application/pdf"?x=yield S.blob():E==="text/event-stream"?x=S:E==="multipart/form-data"?x=yield S.formData():x=yield S.text(),{data:x,error:null,response:S}}catch(s){return s instanceof Error&&s.name==="AbortError"?{data:null,error:new Wr(s)}:{data:null,error:s,response:s instanceof Jr||s instanceof Kr?s.context:void 0}}})}}function an(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function la(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){var n=!1;try{n=this instanceof i}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var n=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,n.get?n:{enumerable:!0,get:function(){return r[i]}})}),t}var Se={};const at=la(sa);var kt={},St={},Et={},Tt={},xt={},Ot={},Yr;function on(){if(Yr)return Ot;Yr=1,Object.defineProperty(Ot,"__esModule",{value:!0});class r extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Ot.default=r,Ot}var Xr;function ln(){if(Xr)return xt;Xr=1,Object.defineProperty(xt,"__esModule",{value:!0});const e=at.__importDefault(on());class t{constructor(n){var s,a;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(s=n.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=n.signal,this.isMaybeSingle=(a=n.isMaybeSingle)!==null&&a!==void 0?a:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,s){return this.headers=new Headers(this.headers),this.headers.set(n,s),this}then(n,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var u,k,b,O;let S=null,A=null,E=null,x=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){const _=await o.text();_===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?A=_:A=JSON.parse(_))}const m=(k=this.headers.get("Prefer"))===null||k===void 0?void 0:k.match(/count=(exact|planned|estimated)/),d=(b=o.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");m&&d&&d.length>1&&(E=parseInt(d[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(A)&&(A.length>1?(S={code:"PGRST116",details:`Results contain ${A.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},A=null,E=null,x=406,v="Not Acceptable"):A.length===1?A=A[0]:A=null)}else{const m=await o.text();try{S=JSON.parse(m),Array.isArray(S)&&o.status===404&&(A=[],S=null,x=200,v="OK")}catch{o.status===404&&m===""?(x=204,v="No Content"):S={message:m}}if(S&&this.isMaybeSingle&&(!((O=S?.details)===null||O===void 0)&&O.includes("0 rows"))&&(S=null,x=200,v="OK"),S&&this.shouldThrowOnError)throw new e.default(S)}return{error:S,data:A,count:E,status:x,statusText:v}});return this.shouldThrowOnError||(l=l.catch(o=>{var u,k,b;return{error:{message:`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,details:`${(k=o?.stack)!==null&&k!==void 0?k:""}`,hint:"",code:`${(b=o?.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),l.then(n,s)}returns(){return this}overrideTypes(){return this}}return xt.default=t,xt}var Qr;function un(){if(Qr)return Tt;Qr=1,Object.defineProperty(Tt,"__esModule",{value:!0});const e=at.__importDefault(ln());class t extends e.default{select(n){let s=!1;const a=(n??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:s=!0,nullsFirst:a,foreignTable:l,referencedTable:o=l}={}){const u=o?`${o}.order`:"order",k=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${k?`${k},`:""}${n}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:s,referencedTable:a=s}={}){const l=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this}range(n,s,{foreignTable:a,referencedTable:l=a}={}){const o=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(u,`${s-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:s=!1,settings:a=!1,buffers:l=!1,wal:o=!1,format:u="text"}={}){var k;const b=[n?"analyze":null,s?"verbose":null,a?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),O=(k=this.headers.get("Accept"))!==null&&k!==void 0?k:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${O}"; options=${b};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}}return Tt.default=t,Tt}var Zr;function Ar(){if(Zr)return Et;Zr=1,Object.defineProperty(Et,"__esModule",{value:!0});const e=at.__importDefault(un()),t=new RegExp("[,()]");class i extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}in(s,a){const l=Array.from(new Set(a)).map(o=>typeof o=="string"&&t.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${l})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:l,type:o}={}){let u="";o==="plain"?u="pl":o==="phrase"?u="ph":o==="websearch"&&(u="w");const k=l===void 0?"":`(${l})`;return this.url.searchParams.append(s,`${u}fts${k}.${a}`),this}match(s){return Object.entries(s).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(s,a,l){return this.url.searchParams.append(s,`not.${a}.${l}`),this}or(s,{foreignTable:a,referencedTable:l=a}={}){const o=l?`${l}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,a,l){return this.url.searchParams.append(s,`${a}.${l}`),this}}return Et.default=i,Et}var ei;function cn(){if(ei)return St;ei=1,Object.defineProperty(St,"__esModule",{value:!0});const e=at.__importDefault(Ar());class t{constructor(n,{headers:s={},schema:a,fetch:l}){this.url=n,this.headers=new Headers(s),this.schema=a,this.fetch=l}select(n,s){const{head:a=!1,count:l}=s??{},o=a?"HEAD":"GET";let u=!1;const k=(n??"*").split("").map(b=>/\s/.test(b)&&!u?"":(b==='"'&&(u=!u),b)).join("");return this.url.searchParams.set("select",k),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(n,{count:s,defaultToNull:a=!0}={}){var l;const o="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const u=n.reduce((k,b)=>k.concat(Object.keys(b)),[]);if(u.length>0){const k=[...new Set(u)].map(b=>`"${b}"`);this.url.searchParams.set("columns",k.join(","))}}return new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(n,{onConflict:s,ignoreDuplicates:a=!1,count:l,defaultToNull:o=!0}={}){var u;const k="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(n)){const b=n.reduce((O,S)=>O.concat(Object.keys(S)),[]);if(b.length>0){const O=[...new Set(b)].map(S=>`"${S}"`);this.url.searchParams.set("columns",O.join(","))}}return new e.default({method:k,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:s}={}){var a;const l="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:n}={}){var s;const a="DELETE";return n&&this.headers.append("Prefer",`count=${n}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return St.default=t,St}var ti;function ua(){if(ti)return kt;ti=1,Object.defineProperty(kt,"__esModule",{value:!0});const r=at,e=r.__importDefault(cn()),t=r.__importDefault(Ar());class i{constructor(s,{headers:a={},schema:l,fetch:o}={}){this.url=s,this.headers=new Headers(a),this.schemaName=l,this.fetch=o}from(s){const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new i(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:l=!1,get:o=!1,count:u}={}){var k;let b;const O=new URL(`${this.url}/rpc/${s}`);let S;l||o?(b=l?"HEAD":"GET",Object.entries(a).filter(([E,x])=>x!==void 0).map(([E,x])=>[E,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([E,x])=>{O.searchParams.append(E,x)})):(b="POST",S=a);const A=new Headers(this.headers);return u&&A.set("Prefer",`count=${u}`),new t.default({method:b,url:O,headers:A,schema:this.schemaName,body:S,fetch:(k=this.fetch)!==null&&k!==void 0?k:fetch})}}return kt.default=i,kt}var ri;function ca(){if(ri)return Se;ri=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;const r=at,e=r.__importDefault(ua());Se.PostgrestClient=e.default;const t=r.__importDefault(cn());Se.PostgrestQueryBuilder=t.default;const i=r.__importDefault(Ar());Se.PostgrestFilterBuilder=i.default;const n=r.__importDefault(un());Se.PostgrestTransformBuilder=n.default;const s=r.__importDefault(ln());Se.PostgrestBuilder=s.default;const a=r.__importDefault(on());return Se.PostgrestError=a.default,Se.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:s.default,PostgrestError:a.default},Se}var dn=ca();const fn=an(dn),da=An({__proto__:null,default:fn},[dn]),{PostgrestClient:fa,PostgrestQueryBuilder:Il,PostgrestFilterBuilder:Rl,PostgrestTransformBuilder:Ll,PostgrestBuilder:Ml,PostgrestError:Dl}=fn||da;class ha{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const t=process.versions;if(t&&t.node){const i=t.node,n=parseInt(i.replace(/^v/,"").split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),new Error(t)}static createWebSocket(e,t){const i=this.getWebSocketConstructor();return new i(e,t)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const pa="2.80.0",ga=`realtime-js/${pa}`,ma="1.0.0",vr=1e4,va=1e3,ya=100;var ct;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(ct||(ct={}));var we;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(we||(we={}));var Me;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Me||(Me={}));var yr;(function(r){r.websocket="websocket"})(yr||(yr={}));var We;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(We||(We={}));class ba{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,t,i)}_decodeBroadcast(e,t,i){const n=t.getUint8(1),s=t.getUint8(2);let a=this.HEADER_LENGTH+2;const l=i.decode(e.slice(a,a+n));a=a+n;const o=i.decode(e.slice(a,a+s));a=a+s;const u=JSON.parse(i.decode(e.slice(a,e.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class hn{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var he;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(he||(he={}));const ii=(r,e,t={})=>{var i;const n=(i=t.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=wa(a,r,e,n),s),{}):{}},wa=(r,e,t,i)=>{const n=e.find(l=>l.name===r),s=n?.type,a=t[r];return s&&!i.includes(s)?pn(s,a):br(a)},pn=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return Ea(e,t)}switch(r){case he.bool:return _a(e);case he.float4:case he.float8:case he.int2:case he.int4:case he.int8:case he.numeric:case he.oid:return ka(e);case he.json:case he.jsonb:return Sa(e);case he.timestamp:return Ta(e);case he.abstime:case he.date:case he.daterange:case he.int4range:case he.int8range:case he.money:case he.reltime:case he.text:case he.time:case he.timestamptz:case he.timetz:case he.tsrange:case he.tstzrange:return br(e);default:return br(e)}},br=r=>r,_a=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},ka=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},Sa=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},Ea=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,i=r[t];if(r[0]==="{"&&i==="}"){let s;const a=r.slice(1,t);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>pn(e,l))}return r},Ta=r=>typeof r=="string"?r.replace(" ","T"):r,gn=r=>{const e=new URL(r);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class rr{constructor(e,t,i={},n=vr){this.channel=e,this.event=t,this.payload=i,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var i;return this._hasReceived(e)&&t((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ni;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(ni||(ni={}));class dt{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},n=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dt.syncState(this.state,n,s,a),this.pendingDiffs.forEach(o=>{this.state=dt.syncDiff(this.state,o,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(i.diff,{},n=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=dt.syncDiff(this.state,n,s,a),l())}),this.onJoin((n,s,a)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:s,newPresences:a})}),this.onLeave((n,s,a)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,i,n){const s=this.cloneDeep(e),a=this.transformState(t),l={},o={};return this.map(s,(u,k)=>{a[u]||(o[u]=k)}),this.map(a,(u,k)=>{const b=s[u];if(b){const O=k.map(x=>x.presence_ref),S=b.map(x=>x.presence_ref),A=k.filter(x=>S.indexOf(x.presence_ref)<0),E=b.filter(x=>O.indexOf(x.presence_ref)<0);A.length>0&&(l[u]=A),E.length>0&&(o[u]=E)}else l[u]=k}),this.syncDiff(s,{joins:l,leaves:o},i,n)}static syncDiff(e,t,i,n){const{joins:s,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return i||(i=()=>{}),n||(n=()=>{}),this.map(s,(l,o)=>{var u;const k=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(o),k.length>0){const b=e[l].map(S=>S.presence_ref),O=k.filter(S=>b.indexOf(S.presence_ref)<0);e[l].unshift(...O)}i(l,k,o)}),this.map(a,(l,o)=>{let u=e[l];if(!u)return;const k=o.map(b=>b.presence_ref);u=u.filter(b=>k.indexOf(b.presence_ref)<0),e[l]=u,n(l,u,o),u.length===0&&delete e[l]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(i=>t(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,i)=>{const n=e[i];return"metas"in n?t[i]=n.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):t[i]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var si;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(si||(si={}));var ft;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(ft||(ft={}));var Be;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Be||(Be={}));class jr{constructor(e,t={config:{}},i){var n,s;if(this.topic=e,this.params=t,this.socket=i,this.bindings={},this.state=we.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new rr(this,Me.join,this.params,this.timeout),this.rejoinTimer=new hn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=we.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=we.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=we.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Me.reply,{},(a,l)=>{this._trigger(this._replyEventName(l),a)}),this.presence=new dt(this),this.broadcastEndpointURL=gn(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(n=this.params.config)===null||n===void 0?void 0:n.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var i,n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==we.closed){const{config:{broadcast:a,presence:l,private:o}}=this.params,u=(n=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&n!==void 0?n:[],k=!!this.bindings[ft.PRESENCE]&&this.bindings[ft.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,b={},O={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:k}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>e?.(Be.CHANNEL_ERROR,S)),this._onClose(()=>e?.(Be.CLOSED)),this.updateJoinPayload(Object.assign({config:O},b)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:S})=>{var A;if(this.socket.setAuth(),S===void 0){e?.(Be.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,x=(A=E?.length)!==null&&A!==void 0?A:0,v=[];for(let f=0;f<x;f++){const m=E[f],{filter:{event:d,schema:_,table:h,filter:y}}=m,p=S&&S[f];if(p&&p.event===d&&p.schema===_&&p.table===h&&p.filter===y)v.push(Object.assign(Object.assign({},m),{id:p.id}));else{this.unsubscribe(),this.state=we.errored,e?.(Be.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Be.SUBSCRIBED);return}}).receive("error",S=>{this.state=we.errored,e?.(Be.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{e?.(Be.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,i){return this.state===we.joined&&e===ft.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,t,i)}async httpSend(e,t,i={}){var n;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(t==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=i.timeout)!==null&&n!==void 0?n:this.timeout);if(l.status===202)return{success:!0};let o=l.statusText;try{const u=await l.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(e,t={}){var i,n;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return await((n=u.body)===null||n===void 0?void 0:n.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,o;const u=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((o=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=we.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Me.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(n=>{i=new rr(this,Me.leave,{},e),i.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=we.closed,this.bindings={}}async _fetchWithTimeout(e,t,i){const n=new AbortController,s=setTimeout(()=>n.abort(),i),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(s),a}_push(e,t,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new rr(this,e,t,i);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>ya){const t=this.pushBuffer.shift();t&&(t.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${t.event}`,t.payload))}}_onMessage(e,t,i){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,i){var n,s;const a=e.toLocaleLowerCase(),{close:l,error:o,leave:u,join:k}=Me;if(i&&[l,o,u,k].indexOf(a)>=0&&i!==this._joinRef())return;let O=this._onMessage(a,t,i);if(t&&!O)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(S=>{var A,E,x;return((A=S.filter)===null||A===void 0?void 0:A.event)==="*"||((x=(E=S.filter)===null||E===void 0?void 0:E.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(S=>S.callback(O,i)):(s=this.bindings[a])===null||s===void 0||s.filter(S=>{var A,E,x,v,f,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in S){const d=S.id,_=(A=S.filter)===null||A===void 0?void 0:A.event;return d&&((E=t.ids)===null||E===void 0?void 0:E.includes(d))&&(_==="*"||_?.toLocaleLowerCase()===((x=t.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const d=(f=(v=S?.filter)===null||v===void 0?void 0:v.event)===null||f===void 0?void 0:f.toLocaleLowerCase();return d==="*"||d===((m=t?.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===a}).map(S=>{if(typeof O=="object"&&"ids"in O){const A=O.data,{schema:E,table:x,commit_timestamp:v,type:f,errors:m}=A;O=Object.assign(Object.assign({},{schema:E,table:x,commit_timestamp:v,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(A))}S.callback(O,i)})}_isClosed(){return this.state===we.closed}_isJoined(){return this.state===we.joined}_isJoining(){return this.state===we.joining}_isLeaving(){return this.state===we.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,i){const n=e.toLocaleLowerCase(),s={type:n,filter:t,callback:i};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(e,t){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(n=>{var s;return!(((s=n.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===i&&jr.isEqual(n.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Me.close,{},e)}_onError(e){this._on(Me.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=we.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=ii(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=ii(e.columns,e.old_record)),t}}const ir=()=>{},Pt={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},xa=[1e3,2e3,5e3,1e4],Oa=1e4,Pa=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ca{constructor(e,t){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=vr,this.transport=null,this.heartbeatIntervalMs=Pt.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ir,this.ref=0,this.reconnectTimer=null,this.logger=ir,this.conn=null,this.sendBuffer=[],this.serializer=new ba,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>n?(...s)=>n(...s):(...s)=>fetch(...s),!(!((i=t?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${yr.websocket}`,this.httpEndpoint=gn(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(t?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ha.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const t=e.message;throw t.includes("Node.js")?new Error(`${t}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${t}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ma}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,t??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,i){this.logger(e,t,i)}connectionState(){switch(this.conn&&this.conn.readyState){case ct.connecting:return We.Connecting;case ct.open:return We.Open;case ct.closing:return We.Closing;default:return We.Closed}}isConnected(){return this.connectionState()===We.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,t={config:{}}){const i=`realtime:${e}`,n=this.getChannels().find(s=>s.topic===i);if(n)return n;{const s=new jr(`realtime:${e}`,t,this);return this.channels.push(s),s}}push(e){const{topic:t,event:i,payload:n,ref:s}=e,a=()=>{this.encode(e,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${t} ${i} (${s})`,n),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(t){this.log("error","error in heartbeat callback",t)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(t){this.log("error","error in heartbeat callback",t)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(va,"heartbeat timeout"),setTimeout(()=>{var t;this.isConnected()||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout()},Pt.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(t){this.log("error","error in heartbeat callback",t)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,t=>{if(t.topic==="phoenix"&&t.event==="phx_reply")try{this.heartbeatCallback(t.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}t.ref&&t.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:n,payload:s,ref:a}=t,l=a?`(${a})`:"",o=s.status||"";this.log("receive",`${o} ${i} ${n} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(i)).forEach(u=>u._trigger(n,s,a)),this._triggerStateCallbacks("message",t)})}_clearTimer(e){var t;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((t=this.reconnectTimer)===null||t===void 0||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(t=this.reconnectTimer)===null||t===void 0||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Me.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const i=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${i}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{const i=new Blob([Pa],{type:"application/javascript"});t=URL.createObjectURL(i)}return t}_setConnectionState(e,t=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t;e?t=e:this.accessToken?t=await this.accessToken():t=this.accessTokenValue,this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(i=>{const n={access_token:t,version:ga};t&&i.updateJoinPayload(n),i.joinedOnce&&i._isJoined()&&i._push(Me.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(t=>{this.log("error",`error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(t)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new hn(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pt.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var t,i,n,s,a,l,o,u,k;if(this.transport=(t=e?.transport)!==null&&t!==void 0?t:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:vr,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:Pt.HEARTBEAT_INTERVAL,this.worker=(s=e?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=e?.heartbeatCallback)!==null&&l!==void 0?l:ir,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=e?.reconnectAfterMs)!==null&&o!==void 0?o:(b=>xa[b-1]||Oa),this.encode=(u=e?.encode)!==null&&u!==void 0?u:((b,O)=>O(JSON.stringify(b))),this.decode=(k=e?.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class Ir extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function me(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Aa extends Ir{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wr extends Ir{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}const Rr=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),ja=()=>Response,_r=r=>{if(Array.isArray(r))return r.map(t=>_r(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,i])=>{const n=t.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[n]=_r(i)}),e},Ia=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},nr=r=>{var e;return r.msg||r.message||r.error_description||(typeof r.error=="string"?r.error:(e=r.error)===null||e===void 0?void 0:e.message)||JSON.stringify(r)},Ra=(r,e,t)=>re(void 0,void 0,void 0,function*(){const i=yield ja();r instanceof i&&!t?.noResolveJson?r.json().then(n=>{const s=r.status||500,a=n?.statusCode||s+"";e(new Aa(nr(n),s,a))}).catch(n=>{e(new wr(nr(n),n))}):e(new wr(nr(r),r))}),La=(r,e,t,i)=>{const n={method:r,headers:e?.headers||{}};return r==="GET"||!i?n:(Ia(i)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(i)):n.body=i,e?.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),t))};function mt(r,e,t,i,n,s){return re(this,void 0,void 0,function*(){return new Promise((a,l)=>{r(t,La(e,i,n,s)).then(o=>{if(!o.ok)throw o;return i?.noResolveJson?o:o.json()}).then(o=>a(o)).catch(o=>Ra(o,l,i))})})}function ht(r,e,t,i){return re(this,void 0,void 0,function*(){return mt(r,"GET",e,t,i)})}function Le(r,e,t,i,n){return re(this,void 0,void 0,function*(){return mt(r,"POST",e,i,n,t)})}function kr(r,e,t,i,n){return re(this,void 0,void 0,function*(){return mt(r,"PUT",e,i,n,t)})}function Ma(r,e,t,i){return re(this,void 0,void 0,function*(){return mt(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),i)})}function Lr(r,e,t,i,n){return re(this,void 0,void 0,function*(){return mt(r,"DELETE",e,i,n,t)})}class Da{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}execute(){return re(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}}var mn;class $a{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[mn]="BlobDownloadBuilder",this.promise=null}asStream(){return new Da(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return re(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(me(e))return{data:null,error:e};throw e}})}}mn=Symbol.toStringTag;const Ba={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ai={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Na{constructor(e,t={},i,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=Rr(n)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,t,i,n){return re(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},ai),n);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const o=a.metadata;typeof Blob<"u"&&i instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",i)):typeof FormData<"u"&&i instanceof FormData?(s=i,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),o&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(o))):(s=i,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),n?.headers&&(l=Object.assign(Object.assign({},l),n.headers));const u=this._removeEmptyFolders(t),k=this._getFinalPath(u),b=yield(e=="PUT"?kr:Le)(this.fetch,`${this.url}/object/${k}`,s,Object.assign({headers:l},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:b.Id,fullPath:b.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(me(s))return{data:null,error:s};throw s}})}upload(e,t,i){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,i)})}uploadToSignedUrl(e,t,i,n){return re(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",t);try{let o;const u=Object.assign({upsert:ai.upsert},n),k=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&i instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",i)):typeof FormData<"u"&&i instanceof FormData?(o=i,o.append("cacheControl",u.cacheControl)):(o=i,k["cache-control"]=`max-age=${u.cacheControl}`,k["content-type"]=u.contentType);const b=yield kr(this.fetch,l.toString(),o,{headers:k});return{data:{path:s,fullPath:b.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(me(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(e,t){return re(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const n=Object.assign({},this.headers);t?.upsert&&(n["x-upsert"]="true");const s=yield Le(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:n}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new Ir("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:l},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}update(e,t,i){return re(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,i)})}move(e,t,i){return re(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}copy(e,t,i){return re(this,void 0,void 0,function*(){try{return{data:{path:(yield Le(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}createSignedUrl(e,t,i){return re(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),s=yield Le(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:this.headers});const a=i?.download?`&download=${i.download===!0?"":i.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}createSignedUrls(e,t,i){return re(this,void 0,void 0,function*(){try{const n=yield Le(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),s=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:n.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}download(e,t){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(t?.transform||{}),a=s?`?${s}`:"",l=this._getFinalPath(e),o=()=>ht(this.fetch,`${this.url}/${n}/${l}${a}`,{headers:this.headers,noResolveJson:!0});return new $a(o,this.shouldThrowOnError)}info(e){return re(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const i=yield ht(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:_r(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}exists(e){return re(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield Ma(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i)&&i instanceof wr){const n=i.originalError;if([400,404].includes(n?.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,t){const i=this._getFinalPath(e),n=[],s=t?.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const l=typeof t?.transform<"u"?"render/image":"object",o=this.transformOptsToQueryString(t?.transform||{});o!==""&&n.push(o);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${i}${u}`)}}}remove(e){return re(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(me(t))return{data:null,error:t};throw t}})}list(e,t,i){return re(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Ba),t),{prefix:e||""});return{data:yield Le(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},i),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}listV2(e,t){return re(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Le(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},t),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const vn="2.80.0",yn={"X-Client-Info":`storage-js/${vn}`};class Ua{constructor(e,t={},i,n){this.shouldThrowOnError=!1;const s=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yn),t),this.fetch=Rr(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return re(this,void 0,void 0,function*(){try{const t=this.listBucketOptionsToQueryString(e);return{data:yield ht(this.fetch,`${this.url}/bucket${t}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(me(t))return{data:null,error:t};throw t}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(me(t))return{data:null,error:t};throw t}})}createBucket(e){return re(this,arguments,void 0,function*(t,i={public:!1}){try{return{data:yield Le(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(me(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return re(this,void 0,void 0,function*(){try{return{data:yield kr(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(me(i))return{data:null,error:i};throw i}})}emptyBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(me(t))return{data:null,error:t};throw t}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(me(t))return{data:null,error:t};throw t}})}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}}class Fa{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},yn),t),this.fetch=Rr(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Le(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(me(t))return{data:null,error:t};throw t}})}listBuckets(e){return re(this,void 0,void 0,function*(){try{const t=new URLSearchParams;e?.limit!==void 0&&t.set("limit",e.limit.toString()),e?.offset!==void 0&&t.set("offset",e.offset.toString()),e?.sortColumn&&t.set("sortColumn",e.sortColumn),e?.sortOrder&&t.set("sortOrder",e.sortOrder),e?.search&&t.set("search",e.search);const i=t.toString(),n=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield ht(this.fetch,n,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(me(t))return{data:null,error:t};throw t}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Lr(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(me(t))return{data:null,error:t};throw t}})}}const Mr={"X-Client-Info":`storage-js/${vn}`,"Content-Type":"application/json"};class bn extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Ce(r){return typeof r=="object"&&r!==null&&"__isStorageVectorsError"in r}class sr extends bn{constructor(e,t,i){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Va extends bn{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}}var oi;(function(r){r.InternalError="InternalError",r.S3VectorConflictException="S3VectorConflictException",r.S3VectorNotFoundException="S3VectorNotFoundException",r.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",r.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",r.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(oi||(oi={}));const Dr=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Ga=r=>{if(typeof r!="object"||r===null)return!1;const e=Object.getPrototypeOf(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},li=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),za=(r,e,t)=>re(void 0,void 0,void 0,function*(){if(r&&typeof r=="object"&&"status"in r&&"ok"in r&&typeof r.status=="number"&&!t?.noResolveJson){const n=r.status||500,s=r;if(typeof s.json=="function")s.json().then(a=>{const l=a?.statusCode||a?.code||n+"";e(new sr(li(a),n,l))}).catch(()=>{const a=n+"",l=s.statusText||`HTTP ${n} error`;e(new sr(l,n,a))});else{const a=n+"",l=s.statusText||`HTTP ${n} error`;e(new sr(l,n,a))}}else e(new Va(li(r),r))}),qa=(r,e,t,i)=>{const n={method:r,headers:e?.headers||{}};return i?(Ga(i)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(i)):n.body=i,Object.assign(Object.assign({},n),t)):n};function Ha(r,e,t,i,n,s){return re(this,void 0,void 0,function*(){return new Promise((a,l)=>{r(t,qa(e,i,n,s)).then(o=>{if(!o.ok)throw o;if(i?.noResolveJson)return o;const u=o.headers.get("content-type");return!u||!u.includes("application/json")?{}:o.json()}).then(o=>a(o)).catch(o=>za(o,l,i))})})}function Ae(r,e,t,i,n){return re(this,void 0,void 0,function*(){return Ha(r,"POST",e,i,n,t)})}class Wa{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mr),t),this.fetch=Dr(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}})}getIndex(e,t){return re(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}})}listIndexes(e){return re(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}})}deleteIndex(e,t){return re(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ce(i))return{data:null,error:i};throw i}})}}class Ka{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mr),t),this.fetch=Dr(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return re(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ae(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}})}getVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}})}listVectors(e){return re(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ae(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}})}queryVectors(e){return re(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}})}deleteVectors(e){return re(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ae(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}})}}class Ja{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Mr),t),this.fetch=Dr(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}})}getBucket(e){return re(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}})}listBuckets(){return re(this,arguments,void 0,function*(e={}){try{return{data:yield Ae(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}})}deleteBucket(e){return re(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ce(t))return{data:null,error:t};throw t}})}}class Ya extends Ja{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Xa(this.url,this.headers,e,this.fetch)}}class Xa extends Wa{constructor(e,t,i,n){super(e,t,n),this.vectorBucketName=i}createIndex(e){const t=Object.create(null,{createIndex:{get:()=>super.createIndex}});return re(this,void 0,void 0,function*(){return t.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return re(this,arguments,void 0,function*(t={}){return e.listIndexes.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const t=Object.create(null,{getIndex:{get:()=>super.getIndex}});return re(this,void 0,void 0,function*(){return t.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const t=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return re(this,void 0,void 0,function*(){return t.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Qa(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Qa extends Ka{constructor(e,t,i,n,s){super(e,t,s),this.vectorBucketName=i,this.indexName=n}putVectors(e){const t=Object.create(null,{putVectors:{get:()=>super.putVectors}});return re(this,void 0,void 0,function*(){return t.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const t=Object.create(null,{getVectors:{get:()=>super.getVectors}});return re(this,void 0,void 0,function*(){return t.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return re(this,arguments,void 0,function*(t={}){return e.listVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const t=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return re(this,void 0,void 0,function*(){return t.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const t=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return re(this,void 0,void 0,function*(){return t.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Za extends Ua{constructor(e,t={},i,n){super(e,t,i,n)}from(e){return new Na(this.url,this.headers,e,this.fetch)}get vectors(){return new Ya(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fa(this.url+"/iceberg",this.headers,this.fetch)}}const eo="2.80.0";let ut="";typeof Deno<"u"?ut="deno":typeof document<"u"?ut="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ut="react-native":ut="node";const to={"X-Client-Info":`supabase-js-${ut}/${eo}`},ro={headers:to},io={schema:"public"},no={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},so={},ao=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),oo=()=>Headers,lo=(r,e,t)=>{const i=ao(t),n=oo();return async(s,a)=>{var l;const o=(l=await e())!==null&&l!==void 0?l:r;let u=new n(a?.headers);return u.has("apikey")||u.set("apikey",r),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),i(s,Object.assign(Object.assign({},a),{headers:u}))}};function uo(r){return r.endsWith("/")?r:r+"/"}function co(r,e){var t,i;const{db:n,auth:s,realtime:a,global:l}=r,{db:o,auth:u,realtime:k,global:b}=e,O={db:Object.assign(Object.assign({},o),n),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},k),a),storage:{},global:Object.assign(Object.assign(Object.assign({},b),l),{headers:Object.assign(Object.assign({},(t=b?.headers)!==null&&t!==void 0?t:{}),(i=l?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return r.accessToken?O.accessToken=r.accessToken:delete O.accessToken,O}function fo(r){const e=r?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uo(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const wn="2.80.0",tt=30*1e3,Sr=3,ar=Sr*tt,ho="http://localhost:9999",po="supabase.auth.token",go={"X-Client-Info":`gotrue-js/${wn}`},Er="X-Supabase-Api-Version",_n={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mo=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vo=600*1e3;class pt extends Error{constructor(e,t,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=i}}function ie(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class yo extends pt{constructor(e,t,i){super(e,t,i),this.name="AuthApiError",this.status=t,this.code=i}}function bo(r){return ie(r)&&r.name==="AuthApiError"}class Ke extends pt{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ve extends pt{constructor(e,t,i,n){super(e,i,n),this.name=t,this.status=i}}class Ie extends Ve{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wo(r){return ie(r)&&r.name==="AuthSessionMissingError"}class Ye extends Ve{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ct extends Ve{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class At extends Ve{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _o(r){return ie(r)&&r.name==="AuthImplicitGrantRedirectError"}class ui extends Ve{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tr extends Ve{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function or(r){return ie(r)&&r.name==="AuthRetryableFetchError"}class ci extends Ve{constructor(e,t,i){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=i}}class xr extends Ve{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),di=` 	
\r=`.split(""),ko=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<di.length;e+=1)r[di[e].charCodeAt(0)]=-2;for(let e=0;e<Nt.length;e+=1)r[Nt[e].charCodeAt(0)]=e;return r})();function fi(r,e,t){if(r!==null)for(e.queue=e.queue<<8|r,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Nt[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;t(Nt[i]),e.queuedBits-=6}}function kn(r,e,t){const i=ko[r];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function hi(r){const e=[],t=a=>{e.push(String.fromCodePoint(a))},i={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},s=a=>{To(a,i,t)};for(let a=0;a<r.length;a+=1)kn(r.charCodeAt(a),n,s);return e.join("")}function So(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function Eo(r,e){for(let t=0;t<r.length;t+=1){let i=r.charCodeAt(t);if(i>55295&&i<=56319){const n=(i-55296)*1024&65535;i=(r.charCodeAt(t+1)-56320&65535|n)+65536,t+=1}So(i,e)}}function To(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let i=1;i<6;i+=1)if((r>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function it(r){const e=[],t={queue:0,queuedBits:0},i=n=>{e.push(n)};for(let n=0;n<r.length;n+=1)kn(r.charCodeAt(n),t,i);return new Uint8Array(e)}function xo(r){const e=[];return Eo(r,t=>e.push(t)),new Uint8Array(e)}function Je(r){const e=[],t={queue:0,queuedBits:0},i=n=>{e.push(n)};return r.forEach(n=>fi(n,t,i)),fi(null,t,i),e.join("")}function Oo(r){return Math.round(Date.now()/1e3)+r}function Po(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ee=()=>typeof window<"u"&&typeof document<"u",ze={tested:!1,writable:!1},Sn=()=>{if(!Ee())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ze.tested)return ze.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ze.tested=!0,ze.writable=!0}catch{ze.tested=!0,ze.writable=!1}return ze.writable};function Co(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((n,s)=>{e[s]=n})}catch{}return t.searchParams.forEach((i,n)=>{e[n]=i}),e}const En=r=>r?(...e)=>r(...e):(...e)=>fetch(...e),Ao=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",rt=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},qe=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Ne=async(r,e)=>{await r.removeItem(e)};class Gt{constructor(){this.promise=new Gt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Gt.promiseConstructor=Promise;function lr(r){const e=r.split(".");if(e.length!==3)throw new xr("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!mo.test(e[i]))throw new xr("JWT not in base64url format");return{header:JSON.parse(hi(e[0])),payload:JSON.parse(hi(e[1])),signature:it(e[2]),raw:{header:e[0],payload:e[1]}}}async function jo(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function Io(r,e){return new Promise((i,n)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await r(s);if(!e(s,null,a)){i(a);return}}catch(a){if(!e(s,a)){n(a);return}}})()})}function Ro(r){return("0"+r.toString(16)).substr(-2)}function Lo(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=t.length;let n="";for(let s=0;s<56;s++)n+=t.charAt(Math.floor(Math.random()*i));return n}return crypto.getRandomValues(e),Array.from(e,Ro).join("")}async function Mo(r){const t=new TextEncoder().encode(r),i=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(i);return Array.from(n).map(s=>String.fromCharCode(s)).join("")}async function Do(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await Mo(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Xe(r,e,t=!1){const i=Lo();let n=i;t&&(n+="/PASSWORD_RECOVERY"),await rt(r,`${e}-code-verifier`,n);const s=await Do(i);return[s,i===s?"plain":"s256"]}const $o=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Bo(r){const e=r.headers.get(Er);if(!e||!e.match($o))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function No(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Uo(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fo=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qe(r){if(!Fo.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ur(){const r={};return new Proxy(r,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const i=t.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vo(r,e){return new Proxy(r,{get:(t,i,n)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const s=i.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(t,i,n)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(t,i,n)}})}function pi(r){return JSON.parse(JSON.stringify(r))}const He=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Go=[502,503,504];async function gi(r){var e;if(!Ao(r))throw new Tr(He(r),0);if(Go.includes(r.status))throw new Tr(He(r),r.status);let t;try{t=await r.json()}catch(s){throw new Ke(He(s),s)}let i;const n=Bo(r);if(n&&n.getTime()>=_n["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?i=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(i=t.error_code),i){if(i==="weak_password")throw new ci(He(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ie}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new ci(He(t),r.status,t.weak_password.reasons);throw new yo(He(t),r.status||500,i)}const zo=(r,e,t,i)=>{const n={method:r,headers:e?.headers||{}};return r==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(i),Object.assign(Object.assign({},n),t))};async function oe(r,e,t,i){var n;const s=Object.assign({},i?.headers);s[Er]||(s[Er]=_n["2024-01-01"].name),i?.jwt&&(s.Authorization=`Bearer ${i.jwt}`);const a=(n=i?.query)!==null&&n!==void 0?n:{};i?.redirectTo&&(a.redirect_to=i.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",o=await qo(r,e,t+l,{headers:s,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(o):{data:Object.assign({},o),error:null}}async function qo(r,e,t,i,n,s){const a=zo(e,i,n,s);let l;try{l=await r(t,Object.assign({},a))}catch(o){throw console.error(o),new Tr(He(o),0)}if(l.ok||await gi(l),i?.noResolveJson)return l;try{return await l.json()}catch(o){await gi(o)}}function Re(r){var e;let t=null;Ko(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=Oo(r.expires_in)));const i=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:i},error:null}}function mi(r){const e=Re(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,i)=>t&&typeof i=="string",!0)&&(e.data.weak_password=r.weak_password),e}function Ue(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Ho(r){return{data:r,error:null}}function Wo(r){const{action_link:e,email_otp:t,hashed_token:i,redirect_to:n,verification_type:s}=r,a=st(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:t,hashed_token:i,redirect_to:n,verification_type:s},o=Object.assign({},a);return{data:{properties:l,user:o},error:null}}function vi(r){return r}function Ko(r){return r.access_token&&r.refresh_token&&r.expires_in}const cr=["global","local","others"];class Jo{constructor({url:e="",headers:t={},fetch:i}){this.url=e,this.headers=t,this.fetch=En(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=cr[0]){if(cr.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${cr.join(", ")}`);try{return await oe(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ie(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,t={}){try{return await oe(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ue})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:t}=e,i=st(e,["options"]),n=Object.assign(Object.assign({},i),t);return"newEmail"in i&&(n.new_email=i?.newEmail,delete n.newEmail),await oe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Wo,redirectTo:t?.redirectTo})}catch(t){if(ie(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await oe(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ue})}catch(t){if(ie(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,i,n,s,a,l,o;try{const u={nextPage:null,lastPage:0,total:0},k=await oe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(s=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:""},xform:vi});if(k.error)throw k.error;const b=await k.json(),O=(a=k.headers.get("x-total-count"))!==null&&a!==void 0?a:0,S=(o=(l=k.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return S.length>0&&(S.forEach(A=>{const E=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(A.split(";")[1].split("=")[1]);u[`${x}Page`]=E}),u.total=parseInt(O)),{data:Object.assign(Object.assign({},b),u),error:null}}catch(u){if(ie(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Qe(e);try{return await oe(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ue})}catch(t){if(ie(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Qe(e);try{return await oe(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Ue})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,t=!1){Qe(e);try{return await oe(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ue})}catch(i){if(ie(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Qe(e.userId);try{const{data:t,error:i}=await oe(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:t,error:i}}catch(t){if(ie(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Qe(e.userId),Qe(e.id);try{return{data:await oe(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(ie(t))return{data:null,error:t};throw t}}async _listOAuthClients(e){var t,i,n,s,a,l,o;try{const u={nextPage:null,lastPage:0,total:0},k=await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&i!==void 0?i:"",per_page:(s=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:""},xform:vi});if(k.error)throw k.error;const b=await k.json(),O=(a=k.headers.get("x-total-count"))!==null&&a!==void 0?a:0,S=(o=(l=k.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return S.length>0&&(S.forEach(A=>{const E=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(A.split(";")[1].split("=")[1]);u[`${x}Page`]=E}),u.total=parseInt(O)),{data:Object.assign(Object.assign({},b),u),error:null}}catch(u){if(ie(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ie(t))return{data:null,error:t};throw t}}async _getOAuthClient(e){try{return await oe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ie(t))return{data:null,error:t};throw t}}async _updateOAuthClient(e,t){try{return await oe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ie(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await oe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(t){if(ie(t))return{data:null,error:t};throw t}}async _regenerateOAuthClientSecret(e){try{return await oe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:t=>({data:t,error:null})})}catch(t){if(ie(t))return{data:null,error:t};throw t}}}function yi(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}const Ze={debug:!!(globalThis&&Sn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tn extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Yo extends Tn{}async function Xo(r,e,t){Ze.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),Ze.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async n=>{if(n){Ze.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,n.name);try{return await t()}finally{Ze.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,n.name)}}else{if(e===0)throw Ze.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Yo(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(Ze.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}function Qo(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xn(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function Zo(r){return parseInt(r,16)}function el(r){const e=new TextEncoder().encode(r);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function tl(r){var e;const{chainId:t,domain:i,expirationTime:n,issuedAt:s=new Date,nonce:a,notBefore:l,requestId:o,resources:u,scheme:k,uri:b,version:O}=r;{if(!Number.isInteger(t))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${t}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(O!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${O}`);if(!((e=r.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const S=xn(r.address),A=k?`${k}://${i}`:i,E=r.statement?`${r.statement}
`:"",x=`${A} wants you to sign in with your Ethereum account:
${S}

${E}`;let v=`URI: ${b}
Version: ${O}
Chain ID: ${t}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(n&&(v+=`
Expiration Time: ${n.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),o&&(v+=`
Request ID: ${o}`),u){let f=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);f+=`
- ${m}`}v+=f}return`${x}
${v}`}class be extends Error{constructor({message:e,code:t,cause:i,name:n}){var s;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(s=n??(i instanceof Error?i.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=t}}class Ut extends be{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}function rl({error:r,options:e}){var t,i,n;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new be({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else if(r.name==="ConstraintError"){if(((t=s.authenticatorSelection)===null||t===void 0?void 0:t.requireResidentKey)===!0)return new be({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:r});if(e.mediation==="conditional"&&((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new be({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:r});if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new be({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:r})}else{if(r.name==="InvalidStateError")return new be({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:r});if(r.name==="NotAllowedError")return new be({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="NotSupportedError")return s.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new be({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:r}):new be({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:r});if(r.name==="SecurityError"){const a=window.location.hostname;if(On(a)){if(s.rp.id!==a)return new be({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new be({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:r})}else if(r.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}function il({error:r,options:e}){const{publicKey:t}=e;if(!t)throw Error("options was missing required publicKey property");if(r.name==="AbortError"){if(e.signal instanceof AbortSignal)return new be({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:r})}else{if(r.name==="NotAllowedError")return new be({message:r.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r});if(r.name==="SecurityError"){const i=window.location.hostname;if(On(i)){if(t.rpId!==i)return new be({message:`The RP ID "${t.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:r})}else return new be({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:r})}else if(r.name==="UnknownError")return new be({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:r})}return new be({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r})}class nl{createNewAbortSignal(){if(this.controller){const t=new Error("Cancelling existing WebAuthn API call for new one");t.name="AbortError",this.controller.abort(t)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const sl=new nl;function al(r){if(!r)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(r);const{challenge:e,user:t,excludeCredentials:i}=r,n=st(r,["challenge","user","excludeCredentials"]),s=it(e).buffer,a=Object.assign(Object.assign({},t),{id:it(t.id).buffer}),l=Object.assign(Object.assign({},n),{challenge:s,user:a});if(i&&i.length>0){l.excludeCredentials=new Array(i.length);for(let o=0;o<i.length;o++){const u=i[o];l.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:it(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function ol(r){if(!r)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(r);const{challenge:e,allowCredentials:t}=r,i=st(r,["challenge","allowCredentials"]),n=it(e).buffer,s=Object.assign(Object.assign({},i),{challenge:n});if(t&&t.length>0){s.allowCredentials=new Array(t.length);for(let a=0;a<t.length;a++){const l=t[a];s.allowCredentials[a]=Object.assign(Object.assign({},l),{id:it(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function ll(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r;return{id:r.id,rawId:r.id,response:{attestationObject:Je(new Uint8Array(r.response.attestationObject)),clientDataJSON:Je(new Uint8Array(r.response.clientDataJSON))},type:"public-key",clientExtensionResults:r.getClientExtensionResults(),authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ul(r){var e;if("toJSON"in r&&typeof r.toJSON=="function")return r.toJSON();const t=r,i=r.getClientExtensionResults(),n=r.response;return{id:r.id,rawId:r.id,response:{authenticatorData:Je(new Uint8Array(n.authenticatorData)),clientDataJSON:Je(new Uint8Array(n.clientDataJSON)),signature:Je(new Uint8Array(n.signature)),userHandle:n.userHandle?Je(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=t.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function On(r){return r==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(r)}function bi(){var r,e;return!!(Ee()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function cl(r){try{const e=await navigator.credentials.create(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ut("Browser returned unexpected credential type",e)}:{data:null,error:new Ut("Empty credential response",e)}}catch(e){return{data:null,error:rl({error:e,options:r})}}}async function dl(r){try{const e=await navigator.credentials.get(r);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ut("Browser returned unexpected credential type",e)}:{data:null,error:new Ut("Empty credential response",e)}}catch(e){return{data:null,error:il({error:e,options:r})}}}const fl={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},hl={userVerification:"preferred",hints:["security-key"]};function Ft(...r){const e=n=>n!==null&&typeof n=="object"&&!Array.isArray(n),t=n=>n instanceof ArrayBuffer||ArrayBuffer.isView(n),i={};for(const n of r)if(n)for(const s in n){const a=n[s];if(a!==void 0)if(Array.isArray(a))i[s]=a;else if(t(a))i[s]=a;else if(e(a)){const l=i[s];e(l)?i[s]=Ft(l,a):i[s]=Ft(a)}else i[s]=a}return i}function pl(r,e){return Ft(fl,r,e||{})}function gl(r,e){return Ft(hl,r,e||{})}class ml{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:i,signal:n},s){try{const{data:a,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!a)return{data:null,error:l};const o=n??sl.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${i}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=pl(a.webauthn.credential_options.publicKey,s?.create),{data:k,error:b}=await cl({publicKey:u,signal:o});return k?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:k}},error:null}:{data:null,error:b}}case"request":{const u=gl(a.webauthn.credential_options.publicKey,s?.request),{data:k,error:b}=await dl(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:o}));return k?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:k}},error:null}:{data:null,error:b}}}}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new Ke("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:t,webauthn:i}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:n}},s){if(!t)return{data:null,error:new pt("rpId is required for WebAuthn authentication")};try{if(!bi())return{data:null,error:new Ke("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:i},signal:n},{request:s});if(!a)return{data:null,error:l};const{webauthn:o}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:o.type,rpId:t,rpOrigins:i,credential_response:o.credential_response}})}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new Ke("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,rpId:t=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:n},s){if(!t)return{data:null,error:new pt("rpId is required for WebAuthn registration")};try{if(!bi())return{data:null,error:new Ke("Browser does not support WebAuthn",null)};const{data:a,error:l}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(k=>{var b;return(b=k.data)===null||b===void 0?void 0:b.all.find(O=>O.factor_type==="webauthn"&&O.friendly_name===e&&O.status!=="unverified")}).then(k=>k?this.client.mfa.unenroll({factorId:k?.id}):void 0),{data:null,error:l};const{data:o,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:t,rpOrigins:i},signal:n},{create:s});return o?this._verify({factorId:a.id,challengeId:o.challengeId,webauthn:{rpId:t,rpOrigins:i,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(a){return ie(a)?{data:null,error:a}:{data:null,error:new Ke("Unexpected error in register",a)}}}}Qo();const vl={url:ho,storageKey:po,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:go,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function wi(r,e,t){return await t()}const et={};class gt{get jwks(){var e,t;return(t=(e=et[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){et[this.storageKey]=Object.assign(Object.assign({},et[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=et[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){et[this.storageKey]=Object.assign(Object.assign({},et[this.storageKey]),{cachedAt:e})}constructor(e){var t,i,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},vl),e);if(this.storageKey=s.storageKey,this.instanceID=(t=gt.nextInstanceID[this.storageKey])!==null&&t!==void 0?t:0,gt.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Ee()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Jo({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=En(s.fetch),this.lock=s.lock||wi,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Ee()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Xo:this.lock=wi,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ml(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Sn()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yi(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=yi(this.memoryStorage)),Ee()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wn}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let t={},i="none";if(Ee()&&(t=Co(window.location.href),this._isImplicitGrantCallback(t)?i="implicit":await this._isPKCECallback(t)&&(i="pkce")),Ee()&&this.detectSessionInUrl&&i!=="none"){const{data:n,error:s}=await this._getSessionFromURL(t,i);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),_o(s)){const o=(e=s.details)===null||e===void 0?void 0:e.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=n;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ie(t)?this._returnResult({error:t}):this._returnResult({error:new Ke("Unexpected error during initialization",t)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,i,n;try{const s=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(t=e?.options)===null||t===void 0?void 0:t.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:Re}),{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const o=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var t,i,n;try{let s;if("email"in e){const{email:k,password:b,options:O}=e;let S=null,A=null;this.flowType==="pkce"&&([S,A]=await Xe(this.storage,this.storageKey)),s=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:O?.emailRedirectTo,body:{email:k,password:b,data:(t=O?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:O?.captchaToken},code_challenge:S,code_challenge_method:A},xform:Re})}else if("phone"in e){const{phone:k,password:b,options:O}=e;s=await oe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:k,password:b,data:(i=O?.data)!==null&&i!==void 0?i:{},channel:(n=O?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:O?.captchaToken}},xform:Re})}else throw new Ct("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return this._returnResult({data:{user:null,session:null},error:l});const o=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let t;if("email"in e){const{email:s,password:a,options:l}=e;t=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:mi})}else if("phone"in e){const{phone:s,password:a,options:l}=e;t=await oe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:mi})}else throw new Ct("You must provide either an email or phone number and a password");const{data:i,error:n}=t;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!i||!i.session||!i.user){const s=new Ye;return this._returnResult({data:{user:null,session:null},error:s})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:n})}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOAuth(e){var t,i,n,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,i,n,s,a,l,o,u,k,b,O;let S,A;if("message"in e)S=e.message,A=e.signature;else{const{chain:E,wallet:x,statement:v,options:f}=e;let m;if(Ee())if(typeof x=="object")m=x;else{const g=window;if("ethereum"in g&&typeof g.ethereum=="object"&&"request"in g.ethereum&&typeof g.ethereum.request=="function")m=g.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!f?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=x}const d=new URL((t=f?.url)!==null&&t!==void 0?t:window.location.href),_=await m.request({method:"eth_requestAccounts"}).then(g=>g).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const h=xn(_[0]);let y=(i=f?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!y){const g=await m.request({method:"eth_chainId"});y=Zo(g)}const p={domain:d.host,address:h,statement:v,uri:d.href,version:"1",chainId:y,nonce:(n=f?.signInWithEthereum)===null||n===void 0?void 0:n.nonce,issuedAt:(a=(s=f?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(l=f?.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(o=f?.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=f?.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(k=f?.signInWithEthereum)===null||k===void 0?void 0:k.resources};S=tl(p),A=await m.request({method:"personal_sign",params:[el(S),h]})}try{const{data:E,error:x}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:A},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(O=e.options)===null||O===void 0?void 0:O.captchaToken}}:null),xform:Re});if(x)throw x;if(!E||!E.session||!E.user){const v=new Ye;return this._returnResult({data:{user:null,session:null},error:v})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:x})}catch(E){if(ie(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var t,i,n,s,a,l,o,u,k,b,O,S;let A,E;if("message"in e)A=e.message,E=e.signature;else{const{chain:x,wallet:v,statement:f,options:m}=e;let d;if(Ee())if(typeof v=="object")d=v;else{const h=window;if("solana"in h&&typeof h.solana=="object"&&("signIn"in h.solana&&typeof h.solana.signIn=="function"||"signMessage"in h.solana&&typeof h.solana.signMessage=="function"))d=h.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!m?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");d=v}const _=new URL((t=m?.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in d&&d.signIn){const h=await d.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m?.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),f?{statement:f}:null));let y;if(Array.isArray(h)&&h[0]&&typeof h[0]=="object")y=h[0];else if(h&&typeof h=="object"&&"signedMessage"in h&&"signature"in h)y=h;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in y&&"signature"in y&&(typeof y.signedMessage=="string"||y.signedMessage instanceof Uint8Array)&&y.signature instanceof Uint8Array)A=typeof y.signedMessage=="string"?y.signedMessage:new TextDecoder().decode(y.signedMessage),E=y.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in d)||typeof d.signMessage!="function"||!("publicKey"in d)||typeof d!="object"||!d.publicKey||!("toBase58"in d.publicKey)||typeof d.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");A=[`${_.host} wants you to sign in with your Solana account:`,d.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(n=(i=m?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((s=m?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((o=m?.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((b=(k=m?.signInWithSolana)===null||k===void 0?void 0:k.resources)===null||b===void 0)&&b.length?["Resources",...m.signInWithSolana.resources.map(y=>`- ${y}`)]:[]].join(`
`);const h=await d.signMessage(new TextEncoder().encode(A),"utf8");if(!h||!(h instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=h}}try{const{data:x,error:v}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:A,signature:Je(E)},!((O=e.options)===null||O===void 0)&&O.captchaToken?{gotrue_meta_security:{captcha_token:(S=e.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Re});if(v)throw v;if(!x||!x.session||!x.user){const f=new Ye;return this._returnResult({data:{user:null,session:null},error:f})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:v})}catch(x){if(ie(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(e){const t=await qe(this.storage,`${this.storageKey}-code-verifier`),[i,n]=(t??"").split("/");try{const{data:s,error:a}=await oe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Re});if(await Ne(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const l=new Ye;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:n??null}),error:a})}catch(s){if(ie(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:t,provider:i,token:n,access_token:s,nonce:a}=e,l=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:n,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:Re}),{data:o,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const k=new Ye;return this._returnResult({data:{user:null,session:null},error:k})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:u})}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async signInWithOtp(e){var t,i,n,s,a;try{if("email"in e){const{email:l,options:o}=e;let u=null,k=null;this.flowType==="pkce"&&([u,k]=await Xe(this.storage,this.storageKey));const{error:b}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(t=o?.data)!==null&&t!==void 0?t:{},create_user:(i=o?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:o?.captchaToken},code_challenge:u,code_challenge_method:k},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in e){const{phone:l,options:o}=e,{data:u,error:k}=await oe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(n=o?.data)!==null&&n!==void 0?n:{},create_user:(s=o?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o?.captchaToken},channel:(a=o?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u?.message_id},error:k})}throw new Ct("You must provide either an email or phone number.")}catch(l){if(ie(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var t,i;try{let n,s;"options"in e&&(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo,s=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:a,error:l}=await oe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:n,xform:Re});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,u=a.user;return o?.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithSSO(e){var t,i,n;try{let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Xe(this.storage,this.storageKey));const l=await oe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&i!==void 0?i:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:Ho});return this._returnResult(l)}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:i}=e;if(i)throw i;if(!t)throw new Ie;const{error:n}=await oe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(ie(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:i,type:n,options:s}=e,{error:a}=await oe(this.fetch,"POST",t,{headers:this.headers,body:{email:i,type:n,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:i,type:n,options:s}=e,{data:a,error:l}=await oe(this.fetch,"POST",t,{headers:this.headers,body:{phone:i,type:n,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:l})}throw new Ct("You must provide either an email or phone number and a type")}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await i,await t()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=t();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await qe(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<ar:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const a=await qe(this.userStorage,this.storageKey+"-user");a?.user?e.user=a.user:e.user=ur()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Vo(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:n,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:n},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ue}):await this._useSession(async t=>{var i,n,s;const{data:a,error:l}=t;if(l)throw l;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ie}:await oe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0,xform:Ue})})}catch(t){if(ie(t))return wo(t)&&(await this._removeSession(),await Ne(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:t});throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async i=>{const{data:n,error:s}=i;if(s)throw s;if(!n.session)throw new Ie;const a=n.session;let l=null,o=null;this.flowType==="pkce"&&e.email!=null&&([l,o]=await Xe(this.storage,this.storageKey));const{data:u,error:k}=await oe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:o}),jwt:a.access_token,xform:Ue});if(k)throw k;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(i){if(ie(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ie;const t=Date.now()/1e3;let i=t,n=!0,s=null;const{payload:a}=lr(e.access_token);if(a.exp&&(i=a.exp,n=i<=t),n){const{data:l,error:o}=await this._callRefreshToken(e.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:o}=await this._getUser(e.access_token);if(o)throw o;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:i-t,expires_at:i},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(t){if(ie(t))return this._returnResult({data:{session:null,user:null},error:t});throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var i;if(!e){const{data:a,error:l}=t;if(l)throw l;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Ie;const{data:n,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(t){if(ie(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async _getSessionFromURL(e,t){try{if(!Ee())throw new At("No browser detected.");if(e.error||e.error_description||e.error_code)throw new At(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new ui("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new At("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ui("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const d=new URL(window.location.href);return d.searchParams.delete("code"),window.history.replaceState(window.history.state,"",d.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:n,access_token:s,refresh_token:a,expires_in:l,expires_at:o,token_type:u}=e;if(!s||!l||!a||!u)throw new At("No session defined in URL");const k=Math.round(Date.now()/1e3),b=parseInt(l);let O=k+b;o&&(O=parseInt(o));const S=O-k;S*1e3<=tt&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const A=O-b;k-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,O,k):k-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,O,k);const{data:E,error:x}=await this._getUser(s);if(x)throw x;const v={provider_token:i,provider_refresh_token:n,access_token:s,expires_in:b,expires_at:O,refresh_token:a,token_type:u,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:v,redirectType:e.type},error:null})}catch(i){if(ie(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await qe(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var i;const{data:n,error:s}=t;if(s)return this._returnResult({error:s});const a=(i=n.session)===null||i===void 0?void 0:i.access_token;if(a){const{error:l}=await this.admin.signOut(a,e);if(l&&!(bo(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await Ne(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const t=Po(),i={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async t=>{var i,n;try{const{data:{session:s},error:a}=t;if(a)throw a;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,t={}){let i=null,n=null;this.flowType==="pkce"&&([i,n]=await Xe(this.storage,this.storageKey,!0));try{return await oe(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(s){if(ie(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:t,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{const{data:i,error:n}=await this._useSession(async s=>{var a,l,o,u,k;const{data:b,error:O}=s;if(O)throw O;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await oe(this.fetch,"GET",S,{headers:this.headers,jwt:(k=(u=b.session)===null||u===void 0?void 0:u.access_token)!==null&&k!==void 0?k:void 0})});if(n)throw n;return Ee()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(ie(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var i;try{const{error:n,data:{session:s}}=t;if(n)throw n;const{options:a,provider:l,token:o,access_token:u,nonce:k}=e,b=await oe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=s?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:l,id_token:o,access_token:u,nonce:k,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Re}),{data:O,error:S}=b;return S?this._returnResult({data:{user:null,session:null},error:S}):!O||!O.session||!O.user?this._returnResult({data:{user:null,session:null},error:new Ye}):(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("USER_UPDATED",O.session)),this._returnResult({data:O,error:S}))}catch(n){if(ie(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var i,n;const{data:s,error:a}=t;if(a)throw a;return await oe(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const i=Date.now();return await Io(async n=>(n>0&&await jo(200*Math.pow(2,n-1)),this._debug(t,"refreshing attempt",n),await oe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Re})),(n,s)=>{const a=200*Math.pow(2,n);return s&&or(s)&&Date.now()+a-i<tt})}catch(i){if(this._debug(t,"error",i),ie(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",i),Ee()&&!t.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,t;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const n=await qe(this.storage,this.storageKey);if(n&&this.userStorage){let a=await qe(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:n.user},await rt(this.userStorage,this.storageKey+"-user",a)),n.user=(e=a?.user)!==null&&e!==void 0?e:ur()}else if(n&&!n.user&&!n.user){const a=await qe(this.storage,this.storageKey+"-user");a&&a?.user?(n.user=a.user,await Ne(this.storage,this.storageKey+"-user"),await rt(this.storage,this.storageKey,n)):n.user=ur()}if(this._debug(i,"session from storage",n),!this._isValidSession(n)){this._debug(i,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<ar;if(this._debug(i,`session has${s?"":" not"} expired with margin of ${ar}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),or(a)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(n.access_token);!l&&a?.user?(n.user=a.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(i,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(i,"error",n),console.error(n);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var t,i;if(!e)throw new Ie;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Gt;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Ie;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={data:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(n,"error",s),ie(s)){const a={data:null,error:s};return or(s)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(s),s}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,i=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:t});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,t)}catch(o){s.push(o)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),i=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&t.user&&await rt(this.userStorage,this.storageKey+"-user",{user:t.user});const n=Object.assign({},t);delete n.user;const s=pi(n);await rt(this.storage,this.storageKey,s)}else{const n=pi(t);await rt(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Ne(this.storage,this.storageKey),await Ne(this.storage,this.storageKey+"-code-verifier"),await Ne(this.storage,this.storageKey+"-user"),this.userStorage&&await Ne(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ee()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),tt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:i}}=t;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((i.expires_at*1e3-e)/tt);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${tt}ms, refresh threshold is ${Sr} ticks`),n<=Sr&&await this._callRefreshToken(i.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Tn)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ee()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,i){const n=[`provider=${encodeURIComponent(t)}`];if(i?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&n.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[s,a]=await Xe(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});n.push(l.toString())}if(i?.queryParams){const s=new URLSearchParams(i.queryParams);n.push(s.toString())}return i?.skipBrowserRedirect&&n.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var i;const{data:n,error:s}=t;return s?this._returnResult({data:null,error:s}):await oe(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _enroll(e){try{return await this._useSession(async t=>{var i,n;const{data:s,error:a}=t;if(a)return this._returnResult({data:null,error:a});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:o,error:u}=await oe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&o.type==="totp"&&(!((n=o?.totp)===null||n===void 0)&&n.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:n,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ll(e.webauthn.credential_response):ul(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:o}=await oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:o}))})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var i;const{data:n,error:s}=t;if(s)return this._returnResult({data:null,error:s});const a=await oe(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=n?.session)===null||i===void 0?void 0:i.access_token});if(a.error)return a;const{data:l}=a;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:al(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:ol(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}})}async _challengeAndVerify(e){const{data:t,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;const{data:{user:t},error:i}=await this.getUser();if(i)return{data:null,error:i};const n={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=t?.factors)!==null&&e!==void 0?e:[])n.all.push(s),s.status==="verified"&&n[s.factor_type].push(s);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(){var e,t;const{data:{session:i},error:n}=await this.getSession();if(n)return this._returnResult({data:null,error:n});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=lr(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((t=(e=i.user.factors)===null||e===void 0?void 0:e.filter(k=>k.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(l="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{const{data:{session:i},error:n}=t;return n?this._returnResult({data:null,error:n}):i?await oe(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Ie})})}catch(t){if(ie(t))return this._returnResult({data:null,error:t});throw t}}async _approveAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:n},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!n)return this._returnResult({data:null,error:new Ie});const a=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ee()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,t){try{return await this._useSession(async i=>{const{data:{session:n},error:s}=i;if(s)return this._returnResult({data:null,error:s});if(!n)return this._returnResult({data:null,error:new Ie});const a=await oe(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return a.data&&a.data.redirect_url&&Ee()&&!t?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(e,t={keys:[]}){let i=t.keys.find(l=>l.kid===e);if(i)return i;const n=Date.now();if(i=this.jwks.keys.find(l=>l.kid===e),i&&this.jwks_cached_at+vo>n)return i;const{data:s,error:a}=await oe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=n,i=s.keys.find(l=>l.kid===e),!i)?null:i}async getClaims(e,t={}){try{let i=e;if(!i){const{data:S,error:A}=await this.getSession();if(A||!S.session)return this._returnResult({data:null,error:A});i=S.session.access_token}const{header:n,payload:s,signature:a,raw:{header:l,payload:o}}=lr(i);t?.allowExpired||No(s.exp);const u=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,t?.keys?{keys:t.keys}:t?.jwks);if(!u){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:s,header:n,signature:a},error:null}}const k=Uo(n.alg),b=await crypto.subtle.importKey("jwk",u,k,!0,["verify"]);if(!await crypto.subtle.verify(k,b,a,xo(`${l}.${o}`)))throw new xr("Invalid JWT signature");return{data:{claims:s,header:n,signature:a},error:null}}catch(i){if(ie(i))return this._returnResult({data:null,error:i});throw i}}}gt.nextInstanceID={};const yl=gt;class bl extends yl{constructor(e){super(e)}}class wl{constructor(e,t,i){var n,s,a;this.supabaseUrl=e,this.supabaseKey=t;const l=fo(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:io,realtime:so,auth:Object.assign(Object.assign({},no),{storageKey:o}),global:ro},k=co(i??{},u);this.storageKey=(n=k.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=k.global.headers)!==null&&s!==void 0?s:{},k.accessToken?(this.accessToken=k.accessToken,this.auth=new Proxy({},{get:(b,O)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(O)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=k.auth)!==null&&a!==void 0?a:{},this.headers,k.global.fetch),this.fetch=lo(t,this._getAccessToken.bind(this),k.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},k.realtime)),this.rest=new fa(new URL("rest/v1",l).href,{headers:this.headers,schema:k.db.schema,fetch:this.fetch}),this.storage=new Za(this.storageUrl.href,this.headers,this.fetch,i?.storage),k.accessToken||this._listenForAuthEvents()}get functions(){return new oa(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(t=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:n,userStorage:s,storageKey:a,flowType:l,lock:o,debug:u,throwOnError:k},b,O){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bl({url:this.authUrl.href,headers:Object.assign(Object.assign({},S),b),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:n,userStorage:s,flowType:l,lock:o,debug:u,throwOnError:k,fetch:O,hasCustomAuthorizationHeader:Object.keys(this.headers).some(A=>A.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Ca(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,i)=>{this._handleTokenChanged(t,"CLIENT",i?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _l=(r,e,t)=>new wl(r,e,t);function kl(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const e=r.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kl()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sl=void 0,El=void 0,Tl=_l(Sl,El);async function xl(r={}){const{category:e,limit:t=20,offset:i=0,featured:n=!1}=r;let s=Tl.from("news_articles").select("id, title, slug, excerpt, image_url, category, published_at, is_featured").lte("published_at",new Date().toISOString()).order("published_at",{ascending:!1});e&&(s=s.eq("category",e)),n&&(s=s.eq("is_featured",!0)),t&&(s=s.range(i,i+t-1));const{data:a,error:l}=await s;return l?(console.error("Error fetching news:",l),[]):a}function _i(r){const e=new Date(r),t={year:"numeric",month:"long",day:"numeric"};return e.toLocaleDateString("ru-RU",t)}async function Ol(){const r=document.querySelector(".press .press-list");if(!r)return;const e=await xl({limit:5});e.length!==0&&(r.innerHTML="",e.forEach((t,i)=>{const n=document.createElement("li");i===0?n.innerHTML=`
        <a href="/article.html?slug=${t.slug}"></a>
        <picture>
          <img src="${t.image_url}" alt="${t.title}">
        </picture>
        <p class="badge"></p>
        <h6>${t.title}</h6>
        <div class="row">
          <p class="date">${_i(t.published_at)}</p>
          <p class="link"></p>
        </div>
      `:n.innerHTML=`
        <a href="/article.html?slug=${t.slug}"></a>
        <picture>
          <img src="${t.image_url}" alt="${t.title}">
        </picture>
        <p class="badge"></p>
        <h6>${t.title}</h6>
        <div class="row">
          <p class="date">${_i(t.published_at)}</p>
          <p class="link"></p>
        </div>
      `,r.appendChild(n)}))}document.addEventListener("DOMContentLoaded",function(){Ol();let r=document.querySelectorAll(".header .menu-list .menu-btn"),e=document.querySelectorAll(".header .menu-list .sub-menu .back-btn"),t=document.querySelector(".modal-overlay"),i=document.querySelector("body"),n=document.querySelectorAll(".header .menu-list .sub-menu"),s=document.querySelector(".burger"),a=document.querySelector(".header .menu-list");document.addEventListener("click",A=>{n.forEach(E=>{const x=A.composedPath().includes(a),v=A.composedPath().includes(E);!x&&!v&&(r.forEach(f=>{f.classList.remove("active")}),t.classList.remove("active"),i.classList.remove("freeze"))})}),s.addEventListener("click",()=>{window.scrollTo(0,0),s.classList.toggle("active"),a.classList.toggle("active"),i.classList.toggle("freeze"),t.classList.toggle("active"),r.forEach(A=>{A.classList.remove("active")})}),r.forEach(A=>{A.addEventListener("click",()=>{window.scrollTo(0,0),A.classList.contains("active")?(r.forEach(E=>{E.classList.remove("active")}),A.classList.remove("active"),t.classList.remove("active"),i.classList.remove("freeze")):(r.forEach(E=>{E.classList.remove("active")}),A.classList.add("active"),t.classList.add("active"),i.classList.add("freeze"))})}),e.forEach(A=>{A.addEventListener("click",()=>{A.parentNode.previousElementSibling.classList.remove("active")})}),t.addEventListener("click",()=>{r.forEach(A=>{A.classList.remove("active")}),t.classList.remove("active"),i.classList.remove("freeze")}),document.addEventListener("keydown",function(A){A.keyCode==27&&(r.forEach(E=>{E.classList.remove("active")}),t.classList.remove("active"),i.classList.remove("freeze"))});let l=document.querySelector(".cookie"),o=document.querySelector(".cookie .btn");o&&o.addEventListener("click",()=>{l.remove()}),new xe(".top-slider",{modules:[tr,Hr,Xs,ta],loop:!0,effect:"fade",slidesPerView:1,autoplay:{delay:6e3},navigation:{nextEl:".top-slider-button-next",prevEl:".top-slider-button-prev"},pagination:{el:".top-slider-pagination",clickable:!0,type:"fraction",renderFraction:function(A,E){return'<span class="'+A+'"></span> - <span class="'+E+'"></span>'}}}),new xe(".friends-slider",{modules:[tr,Hr],slidesPerView:"auto",spaceBetween:16,navigation:{nextEl:".friends-slider-button-next",prevEl:".friends-slider-button-prev"},pagination:{el:".friends-slider-pagination",clickable:!0,type:"fraction",renderFraction:function(A,E){return'<span class="'+A+'"></span> - <span class="'+E+'"></span>'}},breakpoints:{1440:{spaceBetween:24}}});let u=document.querySelectorAll(".who-we-help .tabs-wrapper .tabs-list li");u.forEach(A=>{A.addEventListener("click",()=>{u.forEach(E=>{E.classList.remove("active")}),A.classList.add("active")})});const k=window.matchMedia("(min-width: 1200px)");let b;const O=function(){if(k.matches===!0){b!==void 0&&b.destroy(!0,!0);return}else if(k.matches===!1)return S()},S=function(){b=new xe(".help-slider",{modules:[tr],spaceBetween:8,slidesPerView:"auto",navigation:{nextEl:".help-slider-button-next",prevEl:".help-slider-button-prev"},breakpoints:{601:{spaceBetween:24}}})};k.addListener(O),O()});var It={exports:{}};var Pl=It.exports,ki;function Cl(){return ki||(ki=1,(function(r,e){(function(t,i){r.exports=i()})(typeof self<"u"?self:Pl,(function(){return(function(){var t={3976:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(o,u){return typeof u.onBeforeMask=="function"?u.onBeforeMask.call(this,o,u):o},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}}},7392:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default={9:{validator:"[0-9-]",definitionSymbol:"*"},a:{validator:"[A-Za-z--]",definitionSymbol:"*"},"*":{validator:"[0-9-A-Za-z--]"}}},253:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(o,u,k){if(k===void 0)return o.__data?o.__data[u]:null;o.__data=o.__data||{},o.__data[u]=k}},3776:function(a,l,o){Object.defineProperty(l,"__esModule",{value:!0}),l.Event=void 0,l.off=function(f,m){var d,_;return x(this[0])&&f&&(d=this[0].eventRegistry,_=this[0],f.split(" ").forEach((function(h){var y=O(h.split("."),2);(function(p,g){var c,w,T=[];if(p.length>0)if(m===void 0)for(c=0,w=d[p][g].length;c<w;c++)T.push({ev:p,namespace:g&&g.length>0?g:"global",handler:d[p][g][c]});else T.push({ev:p,namespace:g&&g.length>0?g:"global",handler:m});else if(g.length>0){for(var P in d)for(var I in d[P])if(I===g)if(m===void 0)for(c=0,w=d[P][I].length;c<w;c++)T.push({ev:P,namespace:I,handler:d[P][I][c]});else T.push({ev:P,namespace:I,handler:m})}return T})(y[0],y[1]).forEach((function(p){var g=p.ev,c=p.handler;(function(w,T,P){if(w in d==1)if(_.removeEventListener?_.removeEventListener(w,P,!1):_.detachEvent&&_.detachEvent("on".concat(w),P),T==="global")for(var I in d[w])d[w][I].splice(d[w][I].indexOf(P),1);else d[w][T].splice(d[w][T].indexOf(P),1)})(g,p.namespace,c)}))}))),this},l.on=function(f,m){if(x(this[0])){var d=this[0].eventRegistry,_=this[0];f.split(" ").forEach((function(h){var y=O(h.split("."),2),p=y[0],g=y[1];(function(c,w){_.addEventListener?_.addEventListener(c,m,!1):_.attachEvent&&_.attachEvent("on".concat(c),m),d[c]=d[c]||{},d[c][w]=d[c][w]||[],d[c][w].push(m)})(p,g===void 0?"global":g)}))}return this},l.trigger=function(f){var m=arguments;if(x(this[0]))for(var d=this[0].eventRegistry,_=this[0],h=typeof f=="string"?f.split(" "):[f.type],y=0;y<h.length;y++){var p=h[y].split("."),g=p[0],c=p[1]||"global";if(E!==void 0&&c==="global"){var w,T={bubbles:!0,cancelable:!0,composed:!0,detail:arguments[1]};if(E.createEvent){try{g==="input"?(T.inputType="insertText",w=new InputEvent(g,T)):w=new CustomEvent(g,T)}catch{(w=E.createEvent("CustomEvent")).initCustomEvent(g,T.bubbles,T.cancelable,T.detail)}f.type&&(0,k.default)(w,f),_.dispatchEvent(w)}else(w=E.createEventObject()).eventType=g,w.detail=arguments[1],f.type&&(0,k.default)(w,f),_.fireEvent("on"+w.eventType,w)}else if(d[g]!==void 0){arguments[0]=arguments[0].type?arguments[0]:b.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1);var P=d[g];(c==="global"?Object.values(P).flat():P[c]).forEach((function(I){return I.apply(_,m)}))}}return this};var u=A(o(9380)),k=A(o(600)),b=A(o(4963));function O(f,m){return(function(d){if(Array.isArray(d))return d})(f)||(function(d,_){var h=d==null?null:typeof Symbol<"u"&&d[Symbol.iterator]||d["@@iterator"];if(h!=null){var y,p,g,c,w=[],T=!0,P=!1;try{if(g=(h=h.call(d)).next,_!==0)for(;!(T=(y=g.call(h)).done)&&(w.push(y.value),w.length!==_);T=!0);}catch(I){P=!0,p=I}finally{try{if(!T&&h.return!=null&&(c=h.return(),Object(c)!==c))return}finally{if(P)throw p}}return w}})(f,m)||(function(d,_){if(d){if(typeof d=="string")return S(d,_);var h=Object.prototype.toString.call(d).slice(8,-1);if(h==="Object"&&d.constructor&&(h=d.constructor.name),h==="Map"||h==="Set")return Array.from(d);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return S(d,_)}})(f,m)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function S(f,m){(m==null||m>f.length)&&(m=f.length);for(var d=0,_=new Array(m);d<m;d++)_[d]=f[d];return _}function A(f){return f&&f.__esModule?f:{default:f}}var E=u.default.document;function x(f){return f instanceof Element}var v=l.Event=void 0;typeof u.default.CustomEvent=="function"?l.Event=v=u.default.CustomEvent:u.default.Event&&E&&E.createEvent?(l.Event=v=function(f,m){m=m||{bubbles:!1,cancelable:!1,composed:!0,detail:void 0};var d=E.createEvent("CustomEvent");return d.initCustomEvent(f,m.bubbles,m.cancelable,m.detail),d},v.prototype=u.default.Event.prototype):typeof Event<"u"&&(l.Event=v=Event)},600:function(a,l){function o(u){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},o(u)}Object.defineProperty(l,"__esModule",{value:!0}),l.default=function u(){var k,b,O,S,A,E,x=arguments[0]||{},v=1,f=arguments.length,m=!1;for(typeof x=="boolean"&&(m=x,x=arguments[v]||{},v++),o(x)!=="object"&&typeof x!="function"&&(x={});v<f;v++)if((k=arguments[v])!=null)for(b in k)O=x[b],x!==(S=k[b])&&(m&&S&&(Object.prototype.toString.call(S)==="[object Object]"||(A=Array.isArray(S)))?(A?(A=!1,E=O&&Array.isArray(O)?O:[]):E=O&&Object.prototype.toString.call(O)==="[object Object]"?O:{},x[b]=u(m,E,S)):S!==void 0&&(x[b]=S));return x}},4963:function(a,l,o){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u=S(o(9380)),k=S(o(253)),b=o(3776),O=S(o(600));function S(x){return x&&x.__esModule?x:{default:x}}var A=u.default.document;function E(x){return x instanceof E?x:this instanceof E?void(x!=null&&x!==u.default&&(this[0]=x.nodeName?x:x[0]!==void 0&&x[0].nodeName?x[0]:A.querySelector(x),this[0]!==void 0&&this[0]!==null&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new E(x)}E.prototype={on:b.on,off:b.off,trigger:b.trigger},E.extend=O.default,E.data=k.default,E.Event=b.Event,l.default=E},9845:function(a,l,o){Object.defineProperty(l,"__esModule",{value:!0}),l.mobile=l.iphone=l.ie=void 0;var u,k=(u=o(9380))&&u.__esModule?u:{default:u},b=k.default.navigator&&k.default.navigator.userAgent||"";l.ie=b.indexOf("MSIE ")>0||b.indexOf("Trident/")>0,l.mobile=k.default.navigator&&k.default.navigator.userAgentData&&k.default.navigator.userAgentData.mobile||k.default.navigator&&k.default.navigator.maxTouchPoints||"ontouchstart"in k.default,l.iphone=/iphone/i.test(b)},7184:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(u){return u.replace(o,"\\$1")};var o=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(a,l,o){function u(g){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},u(g)}Object.defineProperty(l,"__esModule",{value:!0}),l.EventHandlers=void 0;var k,b=o(9845),O=(k=o(9380))&&k.__esModule?k:{default:k},S=o(7760),A=o(2839),E=o(8711),x=o(7215),v=o(4713);function f(){f=function(){return c};var g,c={},w=Object.prototype,T=w.hasOwnProperty,P=Object.defineProperty||function(Y,U,z){Y[U]=z.value},I=typeof Symbol=="function"?Symbol:{},D=I.iterator||"@@iterator",B=I.asyncIterator||"@@asyncIterator",R=I.toStringTag||"@@toStringTag";function L(Y,U,z){return Object.defineProperty(Y,U,{value:z,enumerable:!0,configurable:!0,writable:!0}),Y[U]}try{L({},"")}catch{L=function(U,z,Q){return U[z]=Q}}function $(Y,U,z,Q){var J=U&&U.prototype instanceof K?U:K,ne=Object.create(J.prototype),de=new ge(Q||[]);return P(ne,"_invoke",{value:se(Y,z,de)}),ne}function C(Y,U,z){try{return{type:"normal",arg:Y.call(U,z)}}catch(Q){return{type:"throw",arg:Q}}}c.wrap=$;var j="suspendedStart",N="suspendedYield",M="executing",V="completed",G={};function K(){}function X(){}function F(){}var q={};L(q,D,(function(){return this}));var te=Object.getPrototypeOf,W=te&&te(te(ke([])));W&&W!==w&&T.call(W,D)&&(q=W);var H=F.prototype=K.prototype=Object.create(q);function ee(Y){["next","throw","return"].forEach((function(U){L(Y,U,(function(z){return this._invoke(U,z)}))}))}function Z(Y,U){function z(J,ne,de,le){var ue=C(Y[J],Y,ne);if(ue.type!=="throw"){var fe=ue.arg,je=fe.value;return je&&u(je)=="object"&&T.call(je,"__await")?U.resolve(je.__await).then((function(pe){z("next",pe,de,le)}),(function(pe){z("throw",pe,de,le)})):U.resolve(je).then((function(pe){fe.value=pe,de(fe)}),(function(pe){return z("throw",pe,de,le)}))}le(ue.arg)}var Q;P(this,"_invoke",{value:function(J,ne){function de(){return new U((function(le,ue){z(J,ne,le,ue)}))}return Q=Q?Q.then(de,de):de()}})}function se(Y,U,z){var Q=j;return function(J,ne){if(Q===M)throw new Error("Generator is already running");if(Q===V){if(J==="throw")throw ne;return{value:g,done:!0}}for(z.method=J,z.arg=ne;;){var de=z.delegate;if(de){var le=ae(de,z);if(le){if(le===G)continue;return le}}if(z.method==="next")z.sent=z._sent=z.arg;else if(z.method==="throw"){if(Q===j)throw Q=V,z.arg;z.dispatchException(z.arg)}else z.method==="return"&&z.abrupt("return",z.arg);Q=M;var ue=C(Y,U,z);if(ue.type==="normal"){if(Q=z.done?V:N,ue.arg===G)continue;return{value:ue.arg,done:z.done}}ue.type==="throw"&&(Q=V,z.method="throw",z.arg=ue.arg)}}}function ae(Y,U){var z=U.method,Q=Y.iterator[z];if(Q===g)return U.delegate=null,z==="throw"&&Y.iterator.return&&(U.method="return",U.arg=g,ae(Y,U),U.method==="throw")||z!=="return"&&(U.method="throw",U.arg=new TypeError("The iterator does not provide a '"+z+"' method")),G;var J=C(Q,Y.iterator,U.arg);if(J.type==="throw")return U.method="throw",U.arg=J.arg,U.delegate=null,G;var ne=J.arg;return ne?ne.done?(U[Y.resultName]=ne.value,U.next=Y.nextLoc,U.method!=="return"&&(U.method="next",U.arg=g),U.delegate=null,G):ne:(U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,G)}function ce(Y){var U={tryLoc:Y[0]};1 in Y&&(U.catchLoc=Y[1]),2 in Y&&(U.finallyLoc=Y[2],U.afterLoc=Y[3]),this.tryEntries.push(U)}function ve(Y){var U=Y.completion||{};U.type="normal",delete U.arg,Y.completion=U}function ge(Y){this.tryEntries=[{tryLoc:"root"}],Y.forEach(ce,this),this.reset(!0)}function ke(Y){if(Y||Y===""){var U=Y[D];if(U)return U.call(Y);if(typeof Y.next=="function")return Y;if(!isNaN(Y.length)){var z=-1,Q=function J(){for(;++z<Y.length;)if(T.call(Y,z))return J.value=Y[z],J.done=!1,J;return J.value=g,J.done=!0,J};return Q.next=Q}}throw new TypeError(u(Y)+" is not iterable")}return X.prototype=F,P(H,"constructor",{value:F,configurable:!0}),P(F,"constructor",{value:X,configurable:!0}),X.displayName=L(F,R,"GeneratorFunction"),c.isGeneratorFunction=function(Y){var U=typeof Y=="function"&&Y.constructor;return!!U&&(U===X||(U.displayName||U.name)==="GeneratorFunction")},c.mark=function(Y){return Object.setPrototypeOf?Object.setPrototypeOf(Y,F):(Y.__proto__=F,L(Y,R,"GeneratorFunction")),Y.prototype=Object.create(H),Y},c.awrap=function(Y){return{__await:Y}},ee(Z.prototype),L(Z.prototype,B,(function(){return this})),c.AsyncIterator=Z,c.async=function(Y,U,z,Q,J){J===void 0&&(J=Promise);var ne=new Z($(Y,U,z,Q),J);return c.isGeneratorFunction(U)?ne:ne.next().then((function(de){return de.done?de.value:ne.next()}))},ee(H),L(H,R,"Generator"),L(H,D,(function(){return this})),L(H,"toString",(function(){return"[object Generator]"})),c.keys=function(Y){var U=Object(Y),z=[];for(var Q in U)z.push(Q);return z.reverse(),function J(){for(;z.length;){var ne=z.pop();if(ne in U)return J.value=ne,J.done=!1,J}return J.done=!0,J}},c.values=ke,ge.prototype={constructor:ge,reset:function(Y){if(this.prev=0,this.next=0,this.sent=this._sent=g,this.done=!1,this.delegate=null,this.method="next",this.arg=g,this.tryEntries.forEach(ve),!Y)for(var U in this)U.charAt(0)==="t"&&T.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=g)},stop:function(){this.done=!0;var Y=this.tryEntries[0].completion;if(Y.type==="throw")throw Y.arg;return this.rval},dispatchException:function(Y){if(this.done)throw Y;var U=this;function z(ue,fe){return ne.type="throw",ne.arg=Y,U.next=ue,fe&&(U.method="next",U.arg=g),!!fe}for(var Q=this.tryEntries.length-1;Q>=0;--Q){var J=this.tryEntries[Q],ne=J.completion;if(J.tryLoc==="root")return z("end");if(J.tryLoc<=this.prev){var de=T.call(J,"catchLoc"),le=T.call(J,"finallyLoc");if(de&&le){if(this.prev<J.catchLoc)return z(J.catchLoc,!0);if(this.prev<J.finallyLoc)return z(J.finallyLoc)}else if(de){if(this.prev<J.catchLoc)return z(J.catchLoc,!0)}else{if(!le)throw new Error("try statement without catch or finally");if(this.prev<J.finallyLoc)return z(J.finallyLoc)}}}},abrupt:function(Y,U){for(var z=this.tryEntries.length-1;z>=0;--z){var Q=this.tryEntries[z];if(Q.tryLoc<=this.prev&&T.call(Q,"finallyLoc")&&this.prev<Q.finallyLoc){var J=Q;break}}J&&(Y==="break"||Y==="continue")&&J.tryLoc<=U&&U<=J.finallyLoc&&(J=null);var ne=J?J.completion:{};return ne.type=Y,ne.arg=U,J?(this.method="next",this.next=J.finallyLoc,G):this.complete(ne)},complete:function(Y,U){if(Y.type==="throw")throw Y.arg;return Y.type==="break"||Y.type==="continue"?this.next=Y.arg:Y.type==="return"?(this.rval=this.arg=Y.arg,this.method="return",this.next="end"):Y.type==="normal"&&U&&(this.next=U),G},finish:function(Y){for(var U=this.tryEntries.length-1;U>=0;--U){var z=this.tryEntries[U];if(z.finallyLoc===Y)return this.complete(z.completion,z.afterLoc),ve(z),G}},catch:function(Y){for(var U=this.tryEntries.length-1;U>=0;--U){var z=this.tryEntries[U];if(z.tryLoc===Y){var Q=z.completion;if(Q.type==="throw"){var J=Q.arg;ve(z)}return J}}throw new Error("illegal catch attempt")},delegateYield:function(Y,U,z){return this.delegate={iterator:ke(Y),resultName:U,nextLoc:z},this.method==="next"&&(this.arg=g),G}},c}function m(g,c){var w=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!w){if(Array.isArray(g)||(w=(function(R,L){if(R){if(typeof R=="string")return d(R,L);var $=Object.prototype.toString.call(R).slice(8,-1);if($==="Object"&&R.constructor&&($=R.constructor.name),$==="Map"||$==="Set")return Array.from(R);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return d(R,L)}})(g))||c){w&&(g=w);var T=0,P=function(){};return{s:P,n:function(){return T>=g.length?{done:!0}:{done:!1,value:g[T++]}},e:function(R){throw R},f:P}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var I,D=!0,B=!1;return{s:function(){w=w.call(g)},n:function(){var R=w.next();return D=R.done,R},e:function(R){B=!0,I=R},f:function(){try{D||w.return==null||w.return()}finally{if(B)throw I}}}}function d(g,c){(c==null||c>g.length)&&(c=g.length);for(var w=0,T=new Array(c);w<c;w++)T[w]=g[w];return T}function _(g,c,w,T,P,I,D){try{var B=g[I](D),R=B.value}catch(L){return void w(L)}B.done?c(R):Promise.resolve(R).then(T,P)}var h,y,p=l.EventHandlers={keyEvent:function(g,c,w,T,P){var I=this.inputmask,D=I.opts,B=I.dependencyLib,R=I.maskset,L=this,$=B(L),C=g.key,j=E.caret.call(I,L),N=D.onKeyDown.call(this,g,E.getBuffer.call(I),j,D);if(N!==void 0)return N;if(C===A.keys.Backspace||C===A.keys.Delete||b.iphone&&C===A.keys.BACKSPACE_SAFARI||g.ctrlKey&&C===A.keys.x&&!("oncut"in L))g.preventDefault(),x.handleRemove.call(I,L,C,j),(0,S.writeBuffer)(L,E.getBuffer.call(I,!0),R.p,g,L.inputmask._valueGet()!==E.getBuffer.call(I).join(""));else if(C===A.keys.End||C===A.keys.PageDown){g.preventDefault();var M=E.seekNext.call(I,E.getLastValidPosition.call(I));E.caret.call(I,L,g.shiftKey?j.begin:M,M,!0)}else C===A.keys.Home&&!g.shiftKey||C===A.keys.PageUp?(g.preventDefault(),E.caret.call(I,L,0,g.shiftKey?j.begin:0,!0)):D.undoOnEscape&&C===A.keys.Escape&&g.altKey!==!0?((0,S.checkVal)(L,!0,!1,I.undoValue.split("")),$.trigger("click")):C!==A.keys.Insert||g.shiftKey||g.ctrlKey||I.userOptions.insertMode!==void 0?D.tabThrough===!0&&C===A.keys.Tab?g.shiftKey===!0?(j.end=E.seekPrevious.call(I,j.end,!0),v.getTest.call(I,j.end-1).match.static===!0&&j.end--,j.begin=E.seekPrevious.call(I,j.end,!0),j.begin>=0&&j.end>0&&(g.preventDefault(),E.caret.call(I,L,j.begin,j.end))):(j.begin=E.seekNext.call(I,j.begin,!0),j.end=E.seekNext.call(I,j.begin,!0),j.end<R.maskLength&&j.end--,j.begin<=R.maskLength&&(g.preventDefault(),E.caret.call(I,L,j.begin,j.end))):g.shiftKey||(D.insertModeVisual&&D.insertMode===!1?C===A.keys.ArrowRight?setTimeout((function(){var V=E.caret.call(I,L);E.caret.call(I,L,V.begin)}),0):C===A.keys.ArrowLeft&&setTimeout((function(){var V=E.translatePosition.call(I,L.inputmask.caretPos.begin);E.translatePosition.call(I,L.inputmask.caretPos.end),I.isRTL?E.caret.call(I,L,V+(V===R.maskLength?0:1)):E.caret.call(I,L,V-(V===0?0:1))}),0):I.keyEventHook===void 0||I.keyEventHook(g)):x.isSelection.call(I,j)?D.insertMode=!D.insertMode:(D.insertMode=!D.insertMode,E.caret.call(I,L,j.begin,j.begin));return I.isComposing=C==A.keys.Process||C==A.keys.Unidentified,I.ignorable=C.length>1&&!(L.tagName.toLowerCase()==="textarea"&&C==A.keys.Enter),p.keypressEvent.call(this,g,c,w,T,P)},keypressEvent:function(g,c,w,T,P){var I=this.inputmask||this,D=I.opts,B=I.dependencyLib,R=I.maskset,L=I.el,$=B(L),C=g.key;if(c===!0||g.ctrlKey&&g.altKey&&!I.ignorable||!(g.ctrlKey||g.metaKey||I.ignorable)){if(C){var j,N=c?{begin:P,end:P}:E.caret.call(I,L);c||(C=D.substitutes[C]||C),R.writeOutBuffer=!0;var M=x.isValid.call(I,N,C,T,void 0,void 0,void 0,c);if(M!==!1&&(E.resetMaskSet.call(I,!0),j=M.caret!==void 0?M.caret:E.seekNext.call(I,M.pos.begin?M.pos.begin:M.pos),R.p=j),j=D.numericInput&&M.caret===void 0?E.seekPrevious.call(I,j):j,w!==!1&&(setTimeout((function(){D.onKeyValidation.call(L,C,M)}),0),R.writeOutBuffer&&M!==!1)){var V=E.getBuffer.call(I);(0,S.writeBuffer)(L,V,j,g,c!==!0)}if(g.preventDefault(),c)return M!==!1&&(M.forwardPosition=j),M}}else C===A.keys.Enter&&I.undoValue!==I._valueGet(!0)&&(I.undoValue=I._valueGet(!0),setTimeout((function(){$.trigger("change")}),0))},pasteEvent:(h=f().mark((function g(c){var w,T,P,I,D,B;return f().wrap((function(R){for(;;)switch(R.prev=R.next){case 0:w=function(L,$,C,j,N){var M=E.caret.call(L,$,void 0,void 0,!0),V=C.substr(0,M.begin),G=C.substr(M.end,C.length);if(V==(L.isRTL?E.getBufferTemplate.call(L).slice().reverse():E.getBufferTemplate.call(L)).slice(0,M.begin).join("")&&(V=""),G==(L.isRTL?E.getBufferTemplate.call(L).slice().reverse():E.getBufferTemplate.call(L)).slice(M.end).join("")&&(G=""),j=V+j+G,L.isRTL&&I.numericInput!==!0){j=j.split("");var K,X=m(E.getBufferTemplate.call(L));try{for(X.s();!(K=X.n()).done;){var F=K.value;j[0]===F&&j.shift()}}catch(te){X.e(te)}finally{X.f()}j=j.reverse().join("")}var q=j;if(typeof N=="function"){if((q=N.call(L,q,I))===!1)return!1;q||(q=C)}(0,S.checkVal)($,!0,!1,q.toString().split(""),c)},T=this,P=this.inputmask,I=P.opts,D=P._valueGet(!0),P.skipInputEvent=!0,c.clipboardData&&c.clipboardData.getData?B=c.clipboardData.getData("text/plain"):O.default.clipboardData&&O.default.clipboardData.getData&&(B=O.default.clipboardData.getData("Text")),w(P,T,D,B,I.onBeforePaste),c.preventDefault();case 7:case"end":return R.stop()}}),g,this)})),y=function(){var g=this,c=arguments;return new Promise((function(w,T){var P=h.apply(g,c);function I(B){_(P,w,T,I,D,"next",B)}function D(B){_(P,w,T,I,D,"throw",B)}I(void 0)}))},function(g){return y.apply(this,arguments)}),inputFallBackEvent:function(g){var c=this.inputmask,w=c.opts,T=c.dependencyLib,P,I=this,D=I.inputmask._valueGet(!0),B=(c.isRTL?E.getBuffer.call(c).slice().reverse():E.getBuffer.call(c)).join(""),R=E.caret.call(c,I,void 0,void 0,!0);if(B!==D){if(P=(function($,C,j){for(var N,M,V,G=$.substr(0,j.begin).split(""),K=$.substr(j.begin).split(""),X=C.substr(0,j.begin).split(""),F=C.substr(j.begin).split(""),q=G.length>=X.length?G.length:X.length,te=K.length>=F.length?K.length:F.length,W="",H=[],ee="~";G.length<q;)G.push(ee);for(;X.length<q;)X.push(ee);for(;K.length<te;)K.unshift(ee);for(;F.length<te;)F.unshift(ee);var Z=G.concat(K),se=X.concat(F);for(M=0,N=Z.length;M<N;M++)switch(V=v.getPlaceholder.call(c,E.translatePosition.call(c,M)),W){case"insertText":se[M-1]===Z[M]&&j.begin==Z.length-1&&H.push(Z[M]),M=N;break;case"insertReplacementText":case"deleteContentBackward":Z[M]===ee?j.end++:M=N;break;default:Z[M]!==se[M]&&(Z[M+1]!==ee&&Z[M+1]!==V&&Z[M+1]!==void 0||(se[M]!==V||se[M+1]!==ee)&&se[M]!==ee?se[M+1]===ee&&se[M]===Z[M+1]?(W="insertText",H.push(Z[M]),j.begin--,j.end--):Z[M]!==V&&Z[M]!==ee&&(Z[M+1]===ee||se[M]!==Z[M]&&se[M+1]===Z[M+1])?(W="insertReplacementText",H.push(Z[M]),j.begin--):Z[M]===ee?(W="deleteContentBackward",(E.isMask.call(c,E.translatePosition.call(c,M),!0)||se[M]===w.radixPoint)&&j.end++):M=N:(W="insertText",H.push(Z[M]),j.begin--,j.end--))}return{action:W,data:H,caret:j}})(D,B,R),(I.inputmask.shadowRoot||I.ownerDocument).activeElement!==I&&I.focus(),(0,S.writeBuffer)(I,E.getBuffer.call(c)),E.caret.call(c,I,R.begin,R.end,!0),!b.mobile&&c.skipNextInsert&&g.inputType==="insertText"&&P.action==="insertText"&&c.isComposing)return!1;switch(g.inputType==="insertCompositionText"&&P.action==="insertText"&&c.isComposing?c.skipNextInsert=!0:c.skipNextInsert=!1,P.action){case"insertText":case"insertReplacementText":P.data.forEach((function($,C){var j=new T.Event("keypress");j.key=$,c.ignorable=!1,p.keypressEvent.call(I,j)})),setTimeout((function(){c.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var L=new T.Event("keydown");L.key=A.keys.Backspace,p.keyEvent.call(I,L);break;default:(0,S.applyInputValue)(I,D),E.caret.call(c,I,R.begin,R.end,!0)}g.preventDefault()}},setValueEvent:function(g){var c=this.inputmask,w=c.dependencyLib,T=this,P=g&&g.detail?g.detail[0]:arguments[1];P===void 0&&(P=T.inputmask._valueGet(!0)),(0,S.applyInputValue)(T,P,new w.Event("input")),(g.detail&&g.detail[1]!==void 0||arguments[2]!==void 0)&&E.caret.call(c,T,g.detail?g.detail[1]:arguments[2])},focusEvent:function(g){var c=this.inputmask,w=c.opts,T=c&&c._valueGet();w.showMaskOnFocus&&T!==E.getBuffer.call(c).join("")&&(0,S.writeBuffer)(this,E.getBuffer.call(c),E.seekNext.call(c,E.getLastValidPosition.call(c))),w.positionCaretOnTab!==!0||c.mouseEnter!==!1||x.isComplete.call(c,E.getBuffer.call(c))&&E.getLastValidPosition.call(c)!==-1||p.clickEvent.apply(this,[g,!0]),c.undoValue=c&&c._valueGet(!0)},invalidEvent:function(g){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var g=this.inputmask,c=g.opts,w=this;g.mouseEnter=!1,c.clearMaskOnLostFocus&&(w.inputmask.shadowRoot||w.ownerDocument).activeElement!==w&&(0,S.HandleNativePlaceholder)(w,g.originalPlaceholder)},clickEvent:function(g,c){var w=this.inputmask;w.clicked++;var T=this;if((T.inputmask.shadowRoot||T.ownerDocument).activeElement===T){var P=E.determineNewCaretPosition.call(w,E.caret.call(w,T),c);P!==void 0&&E.caret.call(w,T,P)}},cutEvent:function(g){var c=this.inputmask,w=c.maskset,T=this,P=E.caret.call(c,T),I=c.isRTL?E.getBuffer.call(c).slice(P.end,P.begin):E.getBuffer.call(c).slice(P.begin,P.end),D=c.isRTL?I.reverse().join(""):I.join("");O.default.navigator&&O.default.navigator.clipboard?O.default.navigator.clipboard.writeText(D):O.default.clipboardData&&O.default.clipboardData.getData&&O.default.clipboardData.setData("Text",D),x.handleRemove.call(c,T,A.keys.Delete,P),(0,S.writeBuffer)(T,E.getBuffer.call(c),w.p,g,c.undoValue!==c._valueGet(!0))},blurEvent:function(g){var c=this.inputmask,w=c.opts,T=c.dependencyLib;c.clicked=0;var P=T(this),I=this;if(I.inputmask){(0,S.HandleNativePlaceholder)(I,c.originalPlaceholder);var D=I.inputmask._valueGet(),B=E.getBuffer.call(c).slice();D!==""&&(w.clearMaskOnLostFocus&&(E.getLastValidPosition.call(c)===-1&&D===E.getBufferTemplate.call(c).join("")?B=[]:S.clearOptionalTail.call(c,B)),x.isComplete.call(c,B)===!1&&(setTimeout((function(){P.trigger("incomplete")}),0),w.clearIncomplete&&(E.resetMaskSet.call(c,!1),B=w.clearMaskOnLostFocus?[]:E.getBufferTemplate.call(c).slice())),(0,S.writeBuffer)(I,B,void 0,g)),D=c._valueGet(!0),c.undoValue!==D&&(D!=""||c.undoValue!=E.getBufferTemplate.call(c).join("")||c.undoValue==E.getBufferTemplate.call(c).join("")&&c.maskset.validPositions.length>0)&&(c.undoValue=D,P.trigger("change"))}},mouseenterEvent:function(){var g=this.inputmask,c=g.opts.showMaskOnHover,w=this;if(g.mouseEnter=!0,(w.inputmask.shadowRoot||w.ownerDocument).activeElement!==w){var T=(g.isRTL?E.getBufferTemplate.call(g).slice().reverse():E.getBufferTemplate.call(g)).join("");c&&(0,S.HandleNativePlaceholder)(w,T)}},submitEvent:function(){var g=this.inputmask,c=g.opts;g.undoValue!==g._valueGet(!0)&&g.$el.trigger("change"),E.getLastValidPosition.call(g)===-1&&g._valueGet&&g._valueGet()===E.getBufferTemplate.call(g).join("")&&g._valueSet(""),c.clearIncomplete&&x.isComplete.call(g,E.getBuffer.call(g))===!1&&g._valueSet(""),c.removeMaskOnSubmit&&(g._valueSet(g.unmaskedvalue(),!0),setTimeout((function(){(0,S.writeBuffer)(g.el,E.getBuffer.call(g))}),0))},resetEvent:function(){var g=this.inputmask;g.refreshValue=!0,setTimeout((function(){(0,S.applyInputValue)(g.el,g._valueGet(!0))}),0)}}},9716:function(a,l,o){Object.defineProperty(l,"__esModule",{value:!0}),l.EventRuler=void 0;var u,k=o(7760),b=(u=o(2394))&&u.__esModule?u:{default:u},O=o(2839),S=o(8711);l.EventRuler={on:function(A,E,x){var v=A.inputmask.dependencyLib,f=function(m){m.originalEvent&&(m=m.originalEvent||m,arguments[0]=m);var d,_=this,h=_.inputmask,y=h?h.opts:void 0;if(h===void 0&&this.nodeName!=="FORM"){var p=v.data(_,"_inputmask_opts");v(_).off(),p&&new b.default(p).mask(_)}else{if(["submit","reset","setvalue"].includes(m.type)||this.nodeName==="FORM"||!(_.disabled||_.readOnly&&!(m.type==="keydown"&&m.ctrlKey&&m.key===O.keys.c||y.tabThrough===!1&&m.key===O.keys.Tab))){switch(m.type){case"input":if(h.skipInputEvent===!0)return h.skipInputEvent=!1,m.preventDefault();break;case"click":case"focus":return h.validationEvent?(h.validationEvent=!1,A.blur(),(0,k.HandleNativePlaceholder)(A,(h.isRTL?S.getBufferTemplate.call(h).slice().reverse():S.getBufferTemplate.call(h)).join("")),setTimeout((function(){A.focus()}),y.validationEventTimeOut),!1):(d=arguments,void setTimeout((function(){A.inputmask&&x.apply(_,d)}),0))}var g=x.apply(_,arguments);return g===!1&&(m.preventDefault(),m.stopPropagation()),g}m.preventDefault()}};["submit","reset"].includes(E)?(f=f.bind(A),A.form!==null&&v(A.form).on(E,f)):v(A).on(E,f),A.inputmask.events[E]=A.inputmask.events[E]||[],A.inputmask.events[E].push(f)},off:function(A,E){if(A.inputmask&&A.inputmask.events){var x=A.inputmask.dependencyLib,v=A.inputmask.events;for(var f in E&&((v=[])[E]=A.inputmask.events[E]),v){for(var m=v[f];m.length>0;){var d=m.pop();["submit","reset"].includes(f)?A.form!==null&&x(A.form).off(f,d):x(A).off(f,d)}delete A.inputmask.events[f]}}}}},219:function(a,l,o){var u=f(o(7184)),k=f(o(2394)),b=o(2839),O=o(8711),S=o(4713);function A(C,j){return(function(N){if(Array.isArray(N))return N})(C)||(function(N,M){var V=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(V!=null){var G,K,X,F,q=[],te=!0,W=!1;try{if(X=(V=V.call(N)).next,M!==0)for(;!(te=(G=X.call(V)).done)&&(q.push(G.value),q.length!==M);te=!0);}catch(H){W=!0,K=H}finally{try{if(!te&&V.return!=null&&(F=V.return(),Object(F)!==F))return}finally{if(W)throw K}}return q}})(C,j)||(function(N,M){if(N){if(typeof N=="string")return E(N,M);var V=Object.prototype.toString.call(N).slice(8,-1);if(V==="Object"&&N.constructor&&(V=N.constructor.name),V==="Map"||V==="Set")return Array.from(N);if(V==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return E(N,M)}})(C,j)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function E(C,j){(j==null||j>C.length)&&(j=C.length);for(var N=0,M=new Array(j);N<j;N++)M[N]=C[N];return M}function x(C){return x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},x(C)}function v(C,j){for(var N=0;N<j.length;N++){var M=j[N];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,(V=M.key,G=void 0,G=(function(K,X){if(x(K)!=="object"||K===null)return K;var F=K[Symbol.toPrimitive];if(F!==void 0){var q=F.call(K,X);if(x(q)!=="object")return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return(X==="string"?String:Number)(K)})(V,"string"),x(G)==="symbol"?G:String(G)),M)}var V,G}function f(C){return C&&C.__esModule?C:{default:C}}o(1313);var m=k.default.dependencyLib,d=(function(){function C(M,V,G,K){(function(X,F){if(!(X instanceof F))throw new TypeError("Cannot call a class as a function")})(this,C),this.mask=M,this.format=V,this.opts=G,this.inputmask=K,this._date=new Date(1,0,1),this.initDateObject(M,this.opts,this.inputmask)}var j,N;return j=C,(N=[{key:"date",get:function(){return this._date===void 0&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts,this.inputmask)),this._date}},{key:"initDateObject",value:function(M,V,G){var K;for(P(V).lastIndex=0;K=P(V).exec(this.format);){var X=/\d+$/.exec(K[0]),F=X?K[0][0]+"x":K[0],q=void 0;if(M!==void 0){if(X){var te=P(V).lastIndex,W=$.call(G,K.index,V,G&&G.maskset);P(V).lastIndex=te,q=M.slice(0,M.indexOf(W.nextMatch[0]))}else{for(var H=K[0][0],ee=K.index;G&&(V.placeholder[S.getTest.call(G,ee).match.placeholder]||S.getTest.call(G,ee).match.placeholder)===H;)ee++;var Z=ee-K.index;q=M.slice(0,Z||p[F]&&p[F][4]||F.length)}M=M.slice(q.length)}Object.prototype.hasOwnProperty.call(p,F)&&this.setValue(this,q,F,p[F][2],p[F][1])}}},{key:"setValue",value:function(M,V,G,K,X){if(V!==void 0)switch(K){case"ampm":M[K]=V,M["raw"+K]=V.replace(/\s/g,"_");break;case"month":if(G==="mmm"||G==="mmmm"){M[K]=B(G==="mmm"?h.monthNames.slice(0,12).findIndex((function(q){return V.toLowerCase()===q.toLowerCase()}))+1:h.monthNames.slice(12,24).findIndex((function(q){return V.toLowerCase()===q.toLowerCase()}))+1,2),M[K]=M[K]==="00"?"":M[K].toString(),M["raw"+K]=M[K];break}default:M[K]=V.replace(/[^0-9]/g,"0"),M["raw"+K]=V.replace(/\s/g,"_")}if(X!==void 0){var F=M[K];(K==="day"&&parseInt(F)===29||K==="month"&&parseInt(F)===2)&&(parseInt(M.day)!==29||parseInt(M.month)!==2||M.year!==""&&M.year!==void 0||M._date.setFullYear(2012,1,29)),K==="day"&&(y=!0,parseInt(F)===0&&(F=1)),K==="month"&&(y=!0),K==="year"&&(y=!0,F.length<p[G][4]&&(F=B(F,p[G][4],!0))),(F!==""&&!isNaN(F)||K==="ampm")&&X.call(M._date,F)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&v(j.prototype,N),Object.defineProperty(j,"prototype",{writable:!1}),C})(),_=new Date().getFullYear(),h=k.default.prototype.i18n,y=!1,p={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return B(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(C){var j=C?parseInt(C):0;return j>0&&j--,Date.prototype.setMonth.call(this,j)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(C){var j=C?parseInt(C):0;return j>0&&j--,Date.prototype.setMonth.call(this,j)},"month",function(){return B(Date.prototype.getMonth.call(this)+1,2)}],mmm:[h.monthNames.slice(0,12).join("|"),function(C){var j=h.monthNames.slice(0,12).findIndex((function(N){return C.toLowerCase()===N.toLowerCase()}));return j!==-1&&Date.prototype.setMonth.call(this,j)},"month",function(){return h.monthNames.slice(0,12)[Date.prototype.getMonth.call(this)]}],mmmm:[h.monthNames.slice(12,24).join("|"),function(C){var j=h.monthNames.slice(12,24).findIndex((function(N){return C.toLowerCase()===N.toLowerCase()}));return j!==-1&&Date.prototype.setMonth.call(this,j)},"month",function(){return h.monthNames.slice(12,24)[Date.prototype.getMonth.call(this)]}],yy:["[0-9]{2}",function(C){var j=new Date().getFullYear().toString().slice(0,2);Date.prototype.setFullYear.call(this,"".concat(j).concat(C))},"year",function(){return B(Date.prototype.getFullYear.call(this),2)},2],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return B(Date.prototype.getFullYear.call(this),4)},4],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return B(Date.prototype.getHours.call(this),2)}],hx:[function(C){return"[0-9]{".concat(C,"}")},Date.prototype.setHours,"hours",function(C){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return B(Date.prototype.getHours.call(this),2)}],Hx:[function(C){return"[0-9]{".concat(C,"}")},Date.prototype.setHours,"hours",function(C){return function(){return B(Date.prototype.getHours.call(this),C)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return B(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return B(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return B(Date.prototype.getMilliseconds.call(this),3)},3],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return B(Date.prototype.getMilliseconds.call(this),2)},2],t:["[ap]",c,"ampm",w,1],tt:["[ap]m",c,"ampm",w,2],T:["[AP]",c,"ampm",w,1],TT:["[AP]M",c,"ampm",w,2],Z:[".*",void 0,"Z",function(){var C=this.toString().match(/\((.+)\)/)[1];return C.includes(" ")&&(C=(C=C.replace("-"," ").toUpperCase()).split(" ").map((function(j){return A(j,1)[0]})).join("")),C}],o:[""],S:[""]},g={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function c(C){var j=this.getHours();C.toLowerCase().includes("p")?this.setHours(j+12):C.toLowerCase().includes("a")&&j>=12&&this.setHours(j-12)}function w(){var C=this.getHours();return(C=C||12)>=12?"PM":"AM"}function T(C){var j=/\d+$/.exec(C[0]);if(j&&j[0]!==void 0){var N=p[C[0][0]+"x"].slice("");return N[0]=N[0](j[0]),N[3]=N[3](j[0]),N}if(p[C[0]])return p[C[0]]}function P(C){if(!C.tokenizer){var j=[],N=[];for(var M in p)if(/\.*x$/.test(M)){var V=M[0]+"\\d+";N.indexOf(V)===-1&&N.push(V)}else j.indexOf(M[0])===-1&&j.push(M[0]);C.tokenizer="("+(N.length>0?N.join("|")+"|":"")+j.join("+|")+")+?|.",C.tokenizer=new RegExp(C.tokenizer,"g")}return C.tokenizer}function I(C,j,N){if(!y)return!0;if(C.rawday===void 0||!isFinite(C.rawday)&&new Date(C.date.getFullYear(),isFinite(C.rawmonth)?C.month:C.date.getMonth()+1,0).getDate()>=C.day||C.day=="29"&&(!isFinite(C.rawyear)||C.rawyear===void 0||C.rawyear==="")||new Date(C.date.getFullYear(),isFinite(C.rawmonth)?C.month:C.date.getMonth()+1,0).getDate()>=C.day)return j;if(C.day=="29"){var M=$.call(this,j.pos,N,this.maskset);if(M.targetMatch&&M.targetMatch[0]==="yyyy"&&j.pos-M.targetMatchIndex==2)return j.remove=j.pos+1,j}else if(C.date.getMonth()==2&&C.day=="30"&&j.c!==void 0)return C.day="03",C.date.setDate(3),C.date.setMonth(1),j.insert=[{pos:j.pos,c:"0"},{pos:j.pos+1,c:j.c}],j.caret=O.seekNext.call(this,j.pos+1),j;return!1}function D(C,j,N,M){var V,G,K="",X=0,F={};for(P(N).lastIndex=0;V=P(N).exec(C);){if(j===void 0)if(G=T(V))K+="("+G[0]+")",N.placeholder&&N.placeholder!==""?(F[X]=N.placeholder[V.index%N.placeholder.length],F[N.placeholder[V.index%N.placeholder.length]]=V[0].charAt(0)):F[X]=V[0].charAt(0);else switch(V[0]){case"[":K+="(";break;case"]":K+=")?";break;default:K+=(0,u.default)(V[0]),F[X]=V[0].charAt(0)}else(G=T(V))?M!==!0&&G[3]?K+=G[3].call(j.date):G[2]?K+=j["raw"+G[2]]:K+=V[0]:K+=V[0];X++}return j===void 0&&(N.placeholder=F),K}function B(C,j,N){for(C=String(C),j=j||2;C.length<j;)C=N?C+"0":"0"+C;return C}function R(C,j,N){return typeof C=="string"?new d(C,j,N,this):C&&x(C)==="object"&&Object.prototype.hasOwnProperty.call(C,"date")?C:void 0}function L(C,j){return D(j.inputFormat,{date:C},j)}function $(C,j,N){var M,V,G=this,K=N&&N.tests[C]?j.placeholder[N.tests[C][0].match.placeholder]||N.tests[C][0].match.placeholder:"",X=0,F=0;for(P(j).lastIndex=0;V=P(j).exec(j.inputFormat);){var q=/\d+$/.exec(V[0]);if(q)F=parseInt(q[0]);else{for(var te=V[0][0],W=X;G&&(j.placeholder[S.getTest.call(G,W).match.placeholder]||S.getTest.call(G,W).match.placeholder)===te;)W++;(F=W-X)===0&&(F=V[0].length)}if(X+=F,V[0].indexOf(K)!=-1||X>=C+1){M=V,V=P(j).exec(j.inputFormat);break}}return{targetMatchIndex:X-F,nextMatch:V,targetMatch:M}}k.default.extendAliases({datetime:{mask:function(C){return C.numericInput=!1,p.S=h.ordinalSuffix.join("|"),C.inputFormat=g[C.inputFormat]||C.inputFormat,C.displayFormat=g[C.displayFormat]||C.displayFormat||C.inputFormat,C.outputFormat=g[C.outputFormat]||C.outputFormat||C.inputFormat,C.regex=D(C.inputFormat,void 0,C),C.min=R(C.min,C.inputFormat,C),C.max=R(C.max,C.inputFormat,C),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",preValidation:function(C,j,N,M,V,G,K,X){if(X)return!0;if(isNaN(N)&&C[j]!==N){var F=$.call(this,j,V,G);if(F.nextMatch&&F.nextMatch[0]===N&&F.targetMatch[0].length>1){var q=T(F.targetMatch)[0];if(new RegExp(q).test("0"+C[j-1]))return C[j]=C[j-1],C[j-1]="0",{fuzzy:!0,buffer:C,refreshFromBuffer:{start:j-1,end:j+1},pos:j+1}}}return!0},postValidation:function(C,j,N,M,V,G,K,X){var F,q,te=this;if(K)return!0;if(M===!1&&(((F=$.call(te,j+1,V,G)).targetMatch&&F.targetMatchIndex===j&&F.targetMatch[0].length>1&&p[F.targetMatch[0]]!==void 0||(F=$.call(te,j+2,V,G)).targetMatch&&F.targetMatchIndex===j+1&&F.targetMatch[0].length>1&&p[F.targetMatch[0]]!==void 0)&&(q=T(F.targetMatch)[0]),q!==void 0&&(G.validPositions[j+1]!==void 0&&new RegExp(q).test(N+"0")?(C[j]=N,C[j+1]="0",M={pos:j+2,caret:j}):new RegExp(q).test("0"+N)&&(C[j]="0",C[j+1]=N,M={pos:j+2})),M===!1))return M;if(M.fuzzy&&(C=M.buffer,j=M.pos),(F=$.call(te,j,V,G)).targetMatch&&F.targetMatch[0]&&p[F.targetMatch[0]]!==void 0){var W=T(F.targetMatch);q=W[0];var H=C.slice(F.targetMatchIndex,F.targetMatchIndex+F.targetMatch[0].length);if(new RegExp(q).test(H.join(""))===!1&&F.targetMatch[0].length===2&&G.validPositions[F.targetMatchIndex]&&G.validPositions[F.targetMatchIndex+1]&&(G.validPositions[F.targetMatchIndex+1].input="0"),W[2]=="year")for(var ee=S.getMaskTemplate.call(te,!1,1,void 0,!0),Z=j+1;Z<C.length;Z++)C[Z]=ee[Z],G.validPositions.splice(j+1,1)}var se=M,ae=R.call(te,C.join(""),V.inputFormat,V);return se&&!isNaN(ae.date.getTime())&&(V.prefillYear&&(se=(function(ce,ve,ge){if(ce.year!==ce.rawyear){var ke=_.toString(),Y=ce.rawyear.replace(/[^0-9]/g,""),U=ke.slice(0,Y.length),z=ke.slice(Y.length);if(Y.length===2&&Y===U){var Q=new Date(_,ce.month-1,ce.day);ce.day==Q.getDate()&&(!ge.max||ge.max.date.getTime()>=Q.getTime())&&(ce.date.setFullYear(_),ce.year=ke,ve.insert=[{pos:ve.pos+1,c:z[0]},{pos:ve.pos+2,c:z[1]}])}}return ve})(ae,se,V)),se=(function(ce,ve,ge,ke,Y){if(!ve)return ve;if(ve&&ge.min&&!isNaN(ge.min.date.getTime())){var U;for(ce.reset(),P(ge).lastIndex=0;U=P(ge).exec(ge.inputFormat);){var z;if((z=T(U))&&z[3]){for(var Q=z[1],J=ce[z[2]],ne=ge.min[z[2]],de=ge.max?ge.max[z[2]]:ne+1,le=[],ue=!1,fe=0;fe<ne.length;fe++)ke.validPositions[fe+U.index]!==void 0||ue?(le[fe]=J[fe],ue=ue||J[fe]>ne[fe]):(fe+U.index==0&&J[fe]<ne[fe]?(le[fe]=J[fe],ue=!0):le[fe]=ne[fe],z[2]==="year"&&J.length-1==fe&&ne!=de&&(le=(parseInt(le.join(""))+1).toString().split("")),z[2]==="ampm"&&ne!=de&&ge.min.date.getTime()>ce.date.getTime()&&(le[fe]=de[fe]));Q.call(ce._date,le.join(""))}}ve=ge.min.date.getTime()<=ce.date.getTime(),ce.reInit()}return ve&&ge.max&&(isNaN(ge.max.date.getTime())||(ve=ge.max.date.getTime()>=ce.date.getTime())),ve})(ae,se=I.call(te,ae,se,V),V,G)),j!==void 0&&se&&M.pos!==j?{buffer:D(V.inputFormat,ae,V).split(""),refreshFromBuffer:{start:j,end:M.pos},pos:M.caret||M.pos}:se},onKeyDown:function(C,j,N,M){C.ctrlKey&&C.key===b.keys.ArrowRight&&(this.inputmask._valueSet(L(new Date,M)),m(this).trigger("setvalue"))},onUnMask:function(C,j,N){return j&&D(N.outputFormat,R.call(this,C,N.inputFormat,N),N,!0)},casing:function(C,j,N,M){if(j.nativeDef.indexOf("[ap]")==0)return C.toLowerCase();if(j.nativeDef.indexOf("[AP]")==0)return C.toUpperCase();var V=S.getTest.call(this,[N-1]);return V.match.def.indexOf("[AP]")==0||N===0||V&&V.input===String.fromCharCode(b.keyCode.Space)||V&&V.match.def===String.fromCharCode(b.keyCode.Space)?C.toUpperCase():C.toLowerCase()},onBeforeMask:function(C,j){return Object.prototype.toString.call(C)==="[object Date]"&&(C=L(C,j)),C},insertMode:!1,insertModeVisual:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},1313:function(a,l,o){var u,k=(u=o(2394))&&u.__esModule?u:{default:u};k.default.dependencyLib.extend(!0,k.default.prototype.i18n,{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]})},3851:function(a,l,o){var u,k=(u=o(2394))&&u.__esModule?u:{default:u},b=o(8711),O=o(4713);function S(v){return(function(f){if(Array.isArray(f))return A(f)})(v)||(function(f){if(typeof Symbol<"u"&&f[Symbol.iterator]!=null||f["@@iterator"]!=null)return Array.from(f)})(v)||(function(f,m){if(f){if(typeof f=="string")return A(f,m);var d=Object.prototype.toString.call(f).slice(8,-1);if(d==="Object"&&f.constructor&&(d=f.constructor.name),d==="Map"||d==="Set")return Array.from(f);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return A(f,m)}})(v)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function A(v,f){(f==null||f>v.length)&&(f=v.length);for(var m=0,d=new Array(f);m<f;m++)d[m]=v[m];return d}k.default.extendDefinitions({A:{validator:"[A-Za-z--]",casing:"upper"},"&":{validator:"[0-9A-Za-z--]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var E=/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/;function x(v,f,m,d,_){if(m-1>-1&&f.buffer[m-1]!=="."?(v=f.buffer[m-1]+v,v=m-2>-1&&f.buffer[m-2]!=="."?f.buffer[m-2]+v:"0"+v):v="00"+v,_.greedy&&parseInt(v)>255&&E.test("00"+v.charAt(2))){var h=[].concat(S(f.buffer.slice(0,m)),[".",v.charAt(2)]);if(h.join("").match(/\./g).length<4)return{refreshFromBuffer:!0,buffer:h,caret:m+2}}return E.test(v)}k.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:x},j:{validator:x},k:{validator:x},l:{validator:x}},onUnMask:function(v,f,m){return v},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(v){var f=v.separator,m=v.quantifier,d="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",_=d;if(f)for(var h=0;h<m;h++)_+="[".concat(f).concat(d,"]");return _},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(v,f){return(v=v.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9-A-Za-z--!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(v,f,m){return v},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(v,f,m,d,_,h,y){var p=O.getMaskTemplate.call(this,!0,b.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(p.join(""))}}})},207:function(a,l,o){var u=S(o(7184)),k=S(o(2394)),b=o(2839),O=o(8711);function S(d){return d&&d.__esModule?d:{default:d}}var A=k.default.dependencyLib;function E(d,_){for(var h="",y=0;y<d.length;y++)k.default.prototype.definitions[d.charAt(y)]||_.definitions[d.charAt(y)]||_.optionalmarker[0]===d.charAt(y)||_.optionalmarker[1]===d.charAt(y)||_.quantifiermarker[0]===d.charAt(y)||_.quantifiermarker[1]===d.charAt(y)||_.groupmarker[0]===d.charAt(y)||_.groupmarker[1]===d.charAt(y)||_.alternatormarker===d.charAt(y)?h+="\\"+d.charAt(y):h+=d.charAt(y);return h}function x(d,_,h,y){if(d.length>0&&_>0&&(!h.digitsOptional||y)){var p=d.indexOf(h.radixPoint),g=!1;h.negationSymbol.back===d[d.length-1]&&(g=!0,d.length--),p===-1&&(d.push(h.radixPoint),p=d.length-1);for(var c=1;c<=_;c++)isFinite(d[p+c])||(d[p+c]="0")}return g&&d.push(h.negationSymbol.back),d}function v(d,_){var h=0;for(var y in d==="+"&&(h=O.seekNext.call(this,_.validPositions.length-1)),_.tests)if((y=parseInt(y))>=h){for(var p=0,g=_.tests[y].length;p<g;p++)if((_.validPositions[y]===void 0||d==="-")&&_.tests[y][p].match.def===d)return y+(_.validPositions[y]!==void 0&&d!=="-"?1:0)}return h}function f(d,_){for(var h=-1,y=0,p=_.validPositions.length;y<p;y++){var g=_.validPositions[y];if(g&&g.match.def===d){h=y;break}}return h}function m(d,_,h,y,p){var g=_.buffer?_.buffer.indexOf(p.radixPoint):-1,c=(g!==-1||y&&p.jitMasking)&&new RegExp(p.definitions[9].validator).test(d);return!y&&p._radixDance&&g!==-1&&c&&_.validPositions[g]==null?{insert:{pos:g===h?g+1:g,c:p.radixPoint},pos:h}:c}k.default.extendAliases({numeric:{mask:function(d){d.repeat=0,d.groupSeparator===d.radixPoint&&d.digits&&d.digits!=="0"&&(d.radixPoint==="."?d.groupSeparator=",":d.radixPoint===","?d.groupSeparator=".":d.groupSeparator=""),d.groupSeparator===" "&&(d.skipOptionalPartCharacter=void 0),d.placeholder.length>1&&(d.placeholder=d.placeholder.charAt(0)),d.positionCaretOnClick==="radixFocus"&&d.placeholder===""&&(d.positionCaretOnClick="lvp");var _="0",h=d.radixPoint;d.numericInput===!0&&d.__financeInput===void 0?(_="1",d.positionCaretOnClick=d.positionCaretOnClick==="radixFocus"?"lvp":d.positionCaretOnClick,d.digitsOptional=!1,isNaN(d.digits)&&(d.digits=2),d._radixDance=!1,h=d.radixPoint===","?"?":"!",d.radixPoint!==""&&d.definitions[h]===void 0&&(d.definitions[h]={},d.definitions[h].validator="["+d.radixPoint+"]",d.definitions[h].placeholder=d.radixPoint,d.definitions[h].static=!0,d.definitions[h].generated=!0)):(d.__financeInput=!1,d.numericInput=!0);var y,p="[+]";if(p+=E(d.prefix,d),d.groupSeparator!==""?(d.definitions[d.groupSeparator]===void 0&&(d.definitions[d.groupSeparator]={},d.definitions[d.groupSeparator].validator="["+d.groupSeparator+"]",d.definitions[d.groupSeparator].placeholder=d.groupSeparator,d.definitions[d.groupSeparator].static=!0,d.definitions[d.groupSeparator].generated=!0),p+=d._mask(d)):p+="9{+}",d.digits!==void 0&&d.digits!==0){var g=d.digits.toString().split(",");isFinite(g[0])&&g[1]&&isFinite(g[1])?p+=h+_+"{"+d.digits+"}":(isNaN(d.digits)||parseInt(d.digits)>0)&&(d.digitsOptional||d.jitMasking?(y=p+h+_+"{0,"+d.digits+"}",d.keepStatic=!0):p+=h+_+"{"+d.digits+"}")}else d.inputmode="numeric";return p+=E(d.suffix,d),p+="[-]",y&&(p=[y+E(d.suffix,d)+"[-]",p]),d.greedy=!1,(function(c){c.parseMinMaxOptions===void 0&&(c.min!==null&&(c.min=c.min.toString().replace(new RegExp((0,u.default)(c.groupSeparator),"g"),""),c.radixPoint===","&&(c.min=c.min.replace(c.radixPoint,".")),c.min=isFinite(c.min)?parseFloat(c.min):NaN,isNaN(c.min)&&(c.min=Number.MIN_VALUE)),c.max!==null&&(c.max=c.max.toString().replace(new RegExp((0,u.default)(c.groupSeparator),"g"),""),c.radixPoint===","&&(c.max=c.max.replace(c.radixPoint,".")),c.max=isFinite(c.max)?parseFloat(c.max):NaN,isNaN(c.max)&&(c.max=Number.MAX_VALUE)),c.parseMinMaxOptions="done")})(d),d.radixPoint!==""&&d.substituteRadixPoint&&(d.substitutes[d.radixPoint=="."?",":"."]=d.radixPoint),p},_mask:function(d){return"("+d.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,substituteRadixPoint:!0,definitions:{0:{validator:m},1:{validator:m,definitionSymbol:"9"},9:{validator:"[0-9---]",definitionSymbol:"*"},"+":{validator:function(d,_,h,y,p){return p.allowMinus&&(d==="-"||d===p.negationSymbol.front)}},"-":{validator:function(d,_,h,y,p){return p.allowMinus&&d===p.negationSymbol.back}}},preValidation:function(d,_,h,y,p,g,c,w){var T=this;if(p.__financeInput!==!1&&h===p.radixPoint)return!1;var P=d.indexOf(p.radixPoint),I=_;if(_=(function($,C,j,N,M){return M._radixDance&&M.numericInput&&C!==M.negationSymbol.back&&$<=j&&(j>0||C==M.radixPoint)&&(N.validPositions[$-1]===void 0||N.validPositions[$-1].input!==M.negationSymbol.back)&&($-=1),$})(_,h,P,g,p),h==="-"||h===p.negationSymbol.front){if(p.allowMinus!==!0)return!1;var D=!1,B=f("+",g),R=f("-",g);return B!==-1&&(D=[B],R!==-1&&D.push(R)),D!==!1?{remove:D,caret:I-p.negationSymbol.back.length}:{insert:[{pos:v.call(T,"+",g),c:p.negationSymbol.front,fromIsValid:!0},{pos:v.call(T,"-",g),c:p.negationSymbol.back,fromIsValid:void 0}],caret:I+p.negationSymbol.back.length}}if(h===p.groupSeparator)return{caret:I};if(w)return!0;if(P!==-1&&p._radixDance===!0&&y===!1&&h===p.radixPoint&&p.digits!==void 0&&(isNaN(p.digits)||parseInt(p.digits)>0)&&P!==_){var L=v.call(T,p.radixPoint,g);return g.validPositions[L]&&(g.validPositions[L].generatedInput=g.validPositions[L].generated||!1),{caret:p._radixDance&&_===P-1?P+1:P}}if(p.__financeInput===!1){if(y){if(p.digitsOptional)return{rewritePosition:c.end};if(!p.digitsOptional){if(c.begin>P&&c.end<=P)return h===p.radixPoint?{insert:{pos:P+1,c:"0",fromIsValid:!0},rewritePosition:P}:{rewritePosition:P+1};if(c.begin<P)return{rewritePosition:c.begin-1}}}else if(!p.showMaskOnHover&&!p.showMaskOnFocus&&!p.digitsOptional&&p.digits>0&&this.__valueGet.call(this.el)==="")return{rewritePosition:P}}return{rewritePosition:_}},postValidation:function(d,_,h,y,p,g,c){if(y===!1)return y;if(c)return!0;if(p.min!==null||p.max!==null){var w=p.onUnMask(d.slice().reverse().join(""),void 0,A.extend({},p,{unmaskAsNumber:!0}));if(p.min!==null&&w<p.min&&(w.toString().length>p.min.toString().length||w<0))return!1;if(p.max!==null&&w>p.max)return!!p.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:x(p.max.toString().replace(".",p.radixPoint).split(""),p.digits,p).reverse()}}return y},onUnMask:function(d,_,h){if(_===""&&h.nullable===!0)return _;var y=d.replace(h.prefix,"");return y=(y=y.replace(h.suffix,"")).replace(new RegExp((0,u.default)(h.groupSeparator),"g"),""),h.placeholder.charAt(0)!==""&&(y=y.replace(new RegExp(h.placeholder.charAt(0),"g"),"0")),h.unmaskAsNumber?(h.radixPoint!==""&&y.indexOf(h.radixPoint)!==-1&&(y=y.replace(u.default.call(this,h.radixPoint),".")),y=(y=y.replace(new RegExp("^"+(0,u.default)(h.negationSymbol.front)),"-")).replace(new RegExp((0,u.default)(h.negationSymbol.back)+"$"),""),Number(y)):y},isComplete:function(d,_){var h=(_.numericInput?d.slice().reverse():d).join("");return h=(h=(h=(h=(h=h.replace(new RegExp("^"+(0,u.default)(_.negationSymbol.front)),"-")).replace(new RegExp((0,u.default)(_.negationSymbol.back)+"$"),"")).replace(_.prefix,"")).replace(_.suffix,"")).replace(new RegExp((0,u.default)(_.groupSeparator)+"([0-9]{3})","g"),"$1"),_.radixPoint===","&&(h=h.replace((0,u.default)(_.radixPoint),".")),isFinite(h)},onBeforeMask:function(d,_){var h;d=(h=d)!==null&&h!==void 0?h:"";var y=_.radixPoint||",";isFinite(_.digits)&&(_.digits=parseInt(_.digits)),typeof d!="number"&&_.inputType!=="number"||y===""||(d=d.toString().replace(".",y));var p=d.charAt(0)==="-"||d.charAt(0)===_.negationSymbol.front,g=d.split(y),c=g[0].replace(/[^\-0-9]/g,""),w=g.length>1?g[1].replace(/[^0-9]/g,""):"",T=g.length>1;d=c+(w!==""?y+w:w);var P=0;if(y!==""&&(P=_.digitsOptional?_.digits<w.length?_.digits:w.length:_.digits,w!==""||!_.digitsOptional)){var I=Math.pow(10,P||1);d=d.replace((0,u.default)(y),"."),isNaN(parseFloat(d))||(d=(_.roundingFN(parseFloat(d)*I)/I).toFixed(P)),d=d.toString().replace(".",y)}if(_.digits===0&&d.indexOf(y)!==-1&&(d=d.substring(0,d.indexOf(y))),_.min!==null||_.max!==null){var D=d.toString().replace(y,".");_.min!==null&&D<_.min?d=_.min.toString().replace(".",y):_.max!==null&&D>_.max&&(d=_.max.toString().replace(".",y))}return p&&d.charAt(0)!=="-"&&(d="-"+d),x(d.toString().split(""),P,_,T).join("")},onBeforeWrite:function(d,_,h,y){function p(R,L){if(y.__financeInput!==!1||L){var $=R.indexOf(y.radixPoint);$!==-1&&R.splice($,1)}if(y.groupSeparator!=="")for(;($=R.indexOf(y.groupSeparator))!==-1;)R.splice($,1);return R}var g,c;if(y.stripLeadingZeroes&&(c=(function(R,L){var $=new RegExp("(^"+(L.negationSymbol.front!==""?(0,u.default)(L.negationSymbol.front)+"?":"")+(0,u.default)(L.prefix)+")(.*)("+(0,u.default)(L.suffix)+(L.negationSymbol.back!=""?(0,u.default)(L.negationSymbol.back)+"?":"")+"$)").exec(R.slice().reverse().join("")),C=$?$[2]:"",j=!1;return C&&(C=C.split(L.radixPoint.charAt(0))[0],j=new RegExp("^[0"+L.groupSeparator+"]*").exec(C)),!(!j||!(j[0].length>1||j[0].length>0&&j[0].length<C.length))&&j})(_,y)))for(var w=_.join("").lastIndexOf(c[0].split("").reverse().join(""))-(c[0]==c.input?0:1),T=c[0]==c.input?1:0,P=c[0].length-T;P>0;P--)this.maskset.validPositions.splice(w+P,1),delete _[w+P];if(d)switch(d.type){case"blur":case"checkval":if(y.min!==null){var I=y.onUnMask(_.slice().reverse().join(""),void 0,A.extend({},y,{unmaskAsNumber:!0}));if(y.min!==null&&I<y.min)return{refreshFromBuffer:!0,buffer:x(y.min.toString().replace(".",y.radixPoint).split(""),y.digits,y).reverse()}}if(_[_.length-1]===y.negationSymbol.front){var D=new RegExp("(^"+(y.negationSymbol.front!=""?(0,u.default)(y.negationSymbol.front)+"?":"")+(0,u.default)(y.prefix)+")(.*)("+(0,u.default)(y.suffix)+(y.negationSymbol.back!=""?(0,u.default)(y.negationSymbol.back)+"?":"")+"$)").exec(p(_.slice(),!0).reverse().join(""));(D?D[2]:"")==0&&(g={refreshFromBuffer:!0,buffer:[0]})}else y.radixPoint!==""&&_.indexOf(y.radixPoint)===y.suffix.length&&(g&&g.buffer?g.buffer.splice(0,1+y.suffix.length):(_.splice(0,1+y.suffix.length),g={refreshFromBuffer:!0,buffer:p(_)}));if(y.enforceDigitsOnBlur){var B=(g=g||{})&&g.buffer||_.slice().reverse();g.refreshFromBuffer=!0,g.buffer=x(B,y.digits,y,!0).reverse()}}return g},onKeyDown:function(d,_,h,y){var p,g=A(this);if(d.location!=3){var c,w=d.key;if((c=y.shortcuts&&y.shortcuts[w])&&c.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(c)),g.trigger("setvalue"),!1}if(d.ctrlKey)switch(d.key){case b.keys.ArrowUp:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(y.step)),g.trigger("setvalue"),!1;case b.keys.ArrowDown:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(y.step)),g.trigger("setvalue"),!1}if(!d.shiftKey&&(d.key===b.keys.Delete||d.key===b.keys.Backspace||d.key===b.keys.BACKSPACE_SAFARI)&&h.begin!==_.length){if(_[d.key===b.keys.Delete?h.begin-1:h.end]===y.negationSymbol.front)return p=_.slice().reverse(),y.negationSymbol.front!==""&&p.shift(),y.negationSymbol.back!==""&&p.pop(),g.trigger("setvalue",[p.join(""),h.begin]),!1;if(y._radixDance===!0){var T,P=_.indexOf(y.radixPoint);if(y.digitsOptional){if(P===0)return(p=_.slice().reverse()).pop(),g.trigger("setvalue",[p.join(""),h.begin>=p.length?p.length:h.begin]),!1}else if(P!==-1&&(h.begin<P||h.end<P||d.key===b.keys.Delete&&(h.begin===P||h.begin-1===P)))return h.begin===h.end&&(d.key===b.keys.Backspace||d.key===b.keys.BACKSPACE_SAFARI?h.begin++:d.key===b.keys.Delete&&h.begin-1===P&&(T=A.extend({},h),h.begin--,h.end--)),(p=_.slice().reverse()).splice(p.length-h.begin,h.begin-h.end+1),p=x(p,y.digits,y).join(""),T&&(h=T),g.trigger("setvalue",[p,h.begin>=p.length?P+1:h.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(d){return"("+d.groupSeparator+"99){*|1}("+d.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var o=!(typeof window>"u"||!window.document||!window.document.createElement);l.default=o?window:{}},7760:function(a,l,o){Object.defineProperty(l,"__esModule",{value:!0}),l.HandleNativePlaceholder=function(m,d){var _=m?m.inputmask:this;if(u.ie){if(m.inputmask._valueGet()!==d&&(m.placeholder!==d||m.placeholder==="")){var h=O.getBuffer.call(_).slice(),y=m.inputmask._valueGet();if(y!==d){var p=O.getLastValidPosition.call(_);p===-1&&y===O.getBufferTemplate.call(_).join("")?h=[]:p!==-1&&x.call(_,h),f(m,h)}}}else m.placeholder!==d&&(m.placeholder=d,m.placeholder===""&&m.removeAttribute("placeholder"))},l.applyInputValue=E,l.checkVal=v,l.clearOptionalTail=x,l.unmaskedvalue=function(m){var d=m?m.inputmask:this,_=d.opts,h=d.maskset;if(m){if(m.inputmask===void 0)return m.value;m.inputmask&&m.inputmask.refreshValue&&E(m,m.inputmask._valueGet(!0))}for(var y=[],p=h.validPositions,g=0,c=p.length;g<c;g++)p[g]&&p[g].match&&(p[g].match.static!=1||Array.isArray(h.metadata)&&p[g].generatedInput!==!0)&&y.push(p[g].input);var w=y.length===0?"":(d.isRTL?y.reverse():y).join("");if(typeof _.onUnMask=="function"){var T=(d.isRTL?O.getBuffer.call(d).slice().reverse():O.getBuffer.call(d)).join("");w=_.onUnMask.call(d,T,w,_)}return w},l.writeBuffer=f;var u=o(9845),k=o(6030),b=o(2839),O=o(8711),S=o(7215),A=o(4713);function E(m,d,_){var h=m?m.inputmask:this,y=h.opts;m.inputmask.refreshValue=!1,typeof y.onBeforeMask=="function"&&(d=y.onBeforeMask.call(h,d,y)||d),v(m,!0,!1,d=(d||"").toString().split(""),_),h.undoValue=h._valueGet(!0),(y.clearMaskOnLostFocus||y.clearIncomplete)&&m.inputmask._valueGet()===O.getBufferTemplate.call(h).join("")&&O.getLastValidPosition.call(h)===-1&&m.inputmask._valueSet("")}function x(m){m.length=0;for(var d,_=A.getMaskTemplate.call(this,!0,0,!0,void 0,!0);(d=_.shift())!==void 0;)m.push(d);return m}function v(m,d,_,h,y){var p,g=m?m.inputmask:this,c=g.maskset,w=g.opts,T=g.dependencyLib,P=h.slice(),I="",D=-1,B=w.skipOptionalPartCharacter;w.skipOptionalPartCharacter="",O.resetMaskSet.call(g,!1),g.clicked=0,D=w.radixPoint?O.determineNewCaretPosition.call(g,{begin:0,end:0},!1,w.__financeInput===!1?"radixFocus":void 0).begin:0,c.p=D,g.caretPos={begin:D};var R=[],L=g.caretPos;if(P.forEach((function(V,G){if(V!==void 0){var K=new T.Event("_checkval");K.key=V,I+=V;var X=O.getLastValidPosition.call(g,void 0,!0);(function(F,q){for(var te=A.getMaskTemplate.call(g,!0,0).slice(F,O.seekNext.call(g,F,!1,!1)).join("").replace(/'/g,""),W=te.indexOf(q);W>0&&te[W-1]===" ";)W--;var H=W===0&&!O.isMask.call(g,F)&&(A.getTest.call(g,F).match.nativeDef===q.charAt(0)||A.getTest.call(g,F).match.static===!0&&A.getTest.call(g,F).match.nativeDef==="'"+q.charAt(0)||A.getTest.call(g,F).match.nativeDef===" "&&(A.getTest.call(g,F+1).match.nativeDef===q.charAt(0)||A.getTest.call(g,F+1).match.static===!0&&A.getTest.call(g,F+1).match.nativeDef==="'"+q.charAt(0)));if(!H&&W>0&&!O.isMask.call(g,F,!1,!0)){var ee=O.seekNext.call(g,F);g.caretPos.begin<ee&&(g.caretPos={begin:ee})}return H})(D,I)?p=k.EventHandlers.keypressEvent.call(g,K,!0,!1,_,X+1):(p=k.EventHandlers.keypressEvent.call(g,K,!0,!1,_,g.caretPos.begin))&&(D=g.caretPos.begin+1,I=""),p?(p.pos!==void 0&&c.validPositions[p.pos]&&c.validPositions[p.pos].match.static===!0&&c.validPositions[p.pos].alternation===void 0&&(R.push(p.pos),g.isRTL||(p.forwardPosition=p.pos+1)),f.call(g,void 0,O.getBuffer.call(g),p.forwardPosition,K,!1),g.caretPos={begin:p.forwardPosition,end:p.forwardPosition},L=g.caretPos):c.validPositions[G]===void 0&&P[G]===A.getPlaceholder.call(g,G)&&O.isMask.call(g,G,!0)?g.caretPos.begin++:g.caretPos=L}})),R.length>0){var $,C,j=O.seekNext.call(g,-1,void 0,!1);if(!S.isComplete.call(g,O.getBuffer.call(g))&&R.length<=j||S.isComplete.call(g,O.getBuffer.call(g))&&R.length>0&&R.length!==j&&R[0]===0){for(var N=j;($=R.shift())!==void 0;)if($<N){var M=new T.Event("_checkval");if((C=c.validPositions[$]).generatedInput=!0,M.key=C.input,(p=k.EventHandlers.keypressEvent.call(g,M,!0,!1,_,N))&&p.pos!==void 0&&p.pos!==$&&c.validPositions[p.pos]&&c.validPositions[p.pos].match.static===!0)R.push(p.pos);else if(!p)break;N++}}}d&&f.call(g,m,O.getBuffer.call(g),p?p.forwardPosition:g.caretPos.begin,y||new T.Event("checkval"),y&&(y.type==="input"&&g.undoValue!==O.getBuffer.call(g).join("")||y.type==="paste")),w.skipOptionalPartCharacter=B}function f(m,d,_,h,y){var p=m?m.inputmask:this,g=p.opts,c=p.dependencyLib;if(h&&typeof g.onBeforeWrite=="function"){var w=g.onBeforeWrite.call(p,h,d,_,g);if(w){if(w.refreshFromBuffer){var T=w.refreshFromBuffer;S.refreshFromBuffer.call(p,T===!0?T:T.start,T.end,w.buffer||d),d=O.getBuffer.call(p,!0)}_!==void 0&&(_=w.caret!==void 0?w.caret:_)}}if(m!==void 0&&(m.inputmask._valueSet(d.join("")),_===void 0||h!==void 0&&h.type==="blur"||O.caret.call(p,m,_,void 0,void 0,h!==void 0&&h.type==="keydown"&&(h.key===b.keys.Delete||h.key===b.keys.Backspace)),m.inputmask.writeBufferHook===void 0||m.inputmask.writeBufferHook(_),y===!0)){var P=c(m),I=m.inputmask._valueGet();m.inputmask.skipInputEvent=!0,P.trigger("input"),setTimeout((function(){I===O.getBufferTemplate.call(p).join("")?P.trigger("cleared"):S.isComplete.call(p,d)===!0&&P.trigger("complete")}),0)}}},2394:function(a,l,o){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u=_(o(3976)),k=_(o(7392)),b=_(o(4963)),O=o(9716),S=_(o(9380)),A=o(7760),E=o(157),x=o(2391),v=o(8711),f=o(7215),m=o(4713);function d(c){return d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},d(c)}function _(c){return c&&c.__esModule?c:{default:c}}var h=S.default.document,y="_inputmask_opts";function p(c,w,T){if(!(this instanceof p))return new p(c,w,T);this.dependencyLib=b.default,this.el=void 0,this.events={},this.maskset=void 0,T!==!0&&(Object.prototype.toString.call(c)==="[object Object]"?w=c:(w=w||{},c&&(w.alias=c)),this.opts=b.default.extend(!0,{},this.defaults,w),this.noMasksCache=w&&w.definitions!==void 0,this.userOptions=w||{},g(this.opts.alias,w,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}function g(c,w,T){var P=p.prototype.aliases[c];return P?(P.alias&&g(P.alias,void 0,T),b.default.extend(!0,T,P),b.default.extend(!0,T,w),!0):(T.mask===null&&(T.mask=c),!1)}p.prototype={dataAttribute:"data-inputmask",defaults:u.default,definitions:k.default,aliases:{},masksCache:{},i18n:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(c){var w=this;return typeof c=="string"&&(c=h.getElementById(c)||h.querySelectorAll(c)),(c=c.nodeName?[c]:Array.isArray(c)?c:[].slice.call(c)).forEach((function(T,P){var I=b.default.extend(!0,{},w.opts);if((function(B,R,L,$){function C(K,X){var F=$===""?K:$+"-"+K;(X=X!==void 0?X:B.getAttribute(F))!==null&&(typeof X=="string"&&(K.indexOf("on")===0?X=S.default[X]:X==="false"?X=!1:X==="true"&&(X=!0)),L[K]=X)}if(R.importDataAttributes===!0){var j,N,M,V,G=B.getAttribute($);if(G&&G!==""&&(G=G.replace(/'/g,'"'),N=JSON.parse("{"+G+"}")),N){for(V in M=void 0,N)if(V.toLowerCase()==="alias"){M=N[V];break}}for(j in C("alias",M),L.alias&&g(L.alias,L,R),R){if(N){for(V in M=void 0,N)if(V.toLowerCase()===j.toLowerCase()){M=N[V];break}}C(j,M)}}return b.default.extend(!0,R,L),(B.dir==="rtl"||R.rightAlign)&&(B.style.textAlign="right"),(B.dir==="rtl"||R.numericInput)&&(B.dir="ltr",B.removeAttribute("dir"),R.isRTL=!0),Object.keys(L).length})(T,I,b.default.extend(!0,{},w.userOptions),w.dataAttribute)){var D=(0,x.generateMaskSet)(I,w.noMasksCache);D!==void 0&&(T.inputmask!==void 0&&(T.inputmask.opts.autoUnmask=!0,T.inputmask.remove()),T.inputmask=new p(void 0,void 0,!0),T.inputmask.opts=I,T.inputmask.noMasksCache=w.noMasksCache,T.inputmask.userOptions=b.default.extend(!0,{},w.userOptions),T.inputmask.el=T,T.inputmask.$el=(0,b.default)(T),T.inputmask.maskset=D,b.default.data(T,y,w.userOptions),E.mask.call(T.inputmask))}})),c&&c[0]&&c[0].inputmask||this},option:function(c,w){return typeof c=="string"?this.opts[c]:d(c)==="object"?(b.default.extend(this.userOptions,c),this.el&&w!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(c){if(this.maskset=this.maskset||(0,x.generateMaskSet)(this.opts,this.noMasksCache),this.el===void 0||c!==void 0){var w=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,c,this.opts)||c).split("");A.checkVal.call(this,void 0,!1,!1,w),typeof this.opts.onBeforeWrite=="function"&&this.opts.onBeforeWrite.call(this,void 0,v.getBuffer.call(this),0,this.opts)}return A.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){b.default.data(this.el,y,null);var c=this.opts.autoUnmask?(0,A.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);c!==v.getBufferTemplate.call(this).join("")?this._valueSet(c,this.opts.autoUnmask):this._valueSet(""),O.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):h.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,x.generateMaskSet)(this.opts,this.noMasksCache),(this.isRTL?v.getBufferTemplate.call(this).reverse():v.getBufferTemplate.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,x.generateMaskSet)(this.opts,this.noMasksCache),f.isComplete.call(this,v.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,x.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var c=m.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(w){return w.mask!==c||(c=w,!1)})),c}return this.maskset.metadata},isValid:function(c){if(this.maskset=this.maskset||(0,x.generateMaskSet)(this.opts,this.noMasksCache),c){var w=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,c,this.opts)||c).split("");A.checkVal.call(this,void 0,!0,!1,w)}else c=this.isRTL?v.getBuffer.call(this).slice().reverse().join(""):v.getBuffer.call(this).join("");for(var T=v.getBuffer.call(this),P=v.determineLastRequiredPosition.call(this),I=T.length-1;I>P&&!v.isMask.call(this,I);I--);return T.splice(P,I+1-P),f.isComplete.call(this,T)&&c===(this.isRTL?v.getBuffer.call(this).slice().reverse().join(""):v.getBuffer.call(this).join(""))},format:function(c,w){this.maskset=this.maskset||(0,x.generateMaskSet)(this.opts,this.noMasksCache);var T=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,c,this.opts)||c).split("");A.checkVal.call(this,void 0,!0,!1,T);var P=this.isRTL?v.getBuffer.call(this).slice().reverse().join(""):v.getBuffer.call(this).join("");return w?{value:P,metadata:this.getmetadata()}:P},setValue:function(c){this.el&&(0,b.default)(this.el).trigger("setvalue",[c])},analyseMask:x.analyseMask},p.extendDefaults=function(c){b.default.extend(!0,p.prototype.defaults,c)},p.extendDefinitions=function(c){b.default.extend(!0,p.prototype.definitions,c)},p.extendAliases=function(c){b.default.extend(!0,p.prototype.aliases,c)},p.format=function(c,w,T){return p(w).format(c,T)},p.unmask=function(c,w){return p(w).unmaskedvalue(c)},p.isValid=function(c,w){return p(w).isValid(c)},p.remove=function(c){typeof c=="string"&&(c=h.getElementById(c)||h.querySelectorAll(c)),(c=c.nodeName?[c]:c).forEach((function(w){w.inputmask&&w.inputmask.remove()}))},p.setValue=function(c,w){typeof c=="string"&&(c=h.getElementById(c)||h.querySelectorAll(c)),(c=c.nodeName?[c]:c).forEach((function(T){T.inputmask?T.inputmask.setValue(w):(0,b.default)(T).trigger("setvalue",[w])}))},p.dependencyLib=b.default,S.default.Inputmask=p,l.default=p},5296:function(a,l,o){function u(h){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},u(h)}var k=m(o(9380)),b=m(o(2394));function O(h,y){for(var p=0;p<y.length;p++){var g=y[p];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(h,(c=g.key,w=void 0,w=(function(T,P){if(u(T)!=="object"||T===null)return T;var I=T[Symbol.toPrimitive];if(I!==void 0){var D=I.call(T,P);if(u(D)!=="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(T)})(c,"string"),u(w)==="symbol"?w:String(w)),g)}var c,w}function S(h){var y=x();return function(){var p,g=f(h);if(y){var c=f(this).constructor;p=Reflect.construct(g,arguments,c)}else p=g.apply(this,arguments);return(function(w,T){if(T&&(u(T)==="object"||typeof T=="function"))return T;if(T!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(P){if(P===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return P})(w)})(this,p)}}function A(h){var y=typeof Map=="function"?new Map:void 0;return A=function(p){if(p===null||!(function(c){try{return Function.toString.call(c).indexOf("[native code]")!==-1}catch{return typeof c=="function"}})(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(y!==void 0){if(y.has(p))return y.get(p);y.set(p,g)}function g(){return E(p,arguments,f(this).constructor)}return g.prototype=Object.create(p.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),v(g,p)},A(h)}function E(h,y,p){return E=x()?Reflect.construct.bind():function(g,c,w){var T=[null];T.push.apply(T,c);var P=new(Function.bind.apply(g,T));return w&&v(P,w.prototype),P},E.apply(null,arguments)}function x(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function v(h,y){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(p,g){return p.__proto__=g,p},v(h,y)}function f(h){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)},f(h)}function m(h){return h&&h.__esModule?h:{default:h}}var d=k.default.document;if(d&&d.head&&d.head.attachShadow&&k.default.customElements&&k.default.customElements.get("input-mask")===void 0){var _=(function(h){(function(w,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(T&&T.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),T&&v(w,T)})(c,h);var y,p,g=S(c);function c(){var w;(function(B,R){if(!(B instanceof R))throw new TypeError("Cannot call a class as a function")})(this,c);var T=(w=g.call(this)).getAttributeNames(),P=w.attachShadow({mode:"closed"});for(var I in w.input=d.createElement("input"),w.input.type="text",P.appendChild(w.input),T)Object.prototype.hasOwnProperty.call(T,I)&&w.input.setAttribute(T[I],w.getAttribute(T[I]));var D=new b.default;return D.dataAttribute="",D.mask(w.input),w.input.inputmask.shadowRoot=P,w}return y=c,(p=[{key:"attributeChangedCallback",value:function(w,T,P){this.input.setAttribute(w,P)}},{key:"value",get:function(){return this.input.value},set:function(w){this.input.value=w}}])&&O(y.prototype,p),Object.defineProperty(y,"prototype",{writable:!1}),c})(A(HTMLElement));k.default.customElements.define("input-mask",_)}},2839:function(a,l){function o(E){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},o(E)}function u(E,x){return(function(v){if(Array.isArray(v))return v})(E)||(function(v,f){var m=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(m!=null){var d,_,h,y,p=[],g=!0,c=!1;try{if(h=(m=m.call(v)).next,f!==0)for(;!(g=(d=h.call(m)).done)&&(p.push(d.value),p.length!==f);g=!0);}catch(w){c=!0,_=w}finally{try{if(!g&&m.return!=null&&(y=m.return(),Object(y)!==y))return}finally{if(c)throw _}}return p}})(E,x)||(function(v,f){if(v){if(typeof v=="string")return k(v,f);var m=Object.prototype.toString.call(v).slice(8,-1);if(m==="Object"&&v.constructor&&(m=v.constructor.name),m==="Map"||m==="Set")return Array.from(v);if(m==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(m))return k(v,f)}})(E,x)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function k(E,x){(x==null||x>E.length)&&(x=E.length);for(var v=0,f=new Array(x);v<x;v++)f[v]=E[v];return f}function b(E,x){var v=Object.keys(E);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(E);x&&(f=f.filter((function(m){return Object.getOwnPropertyDescriptor(E,m).enumerable}))),v.push.apply(v,f)}return v}function O(E,x,v){return(x=(function(f){var m=(function(d,_){if(o(d)!=="object"||d===null)return d;var h=d[Symbol.toPrimitive];if(h!==void 0){var y=h.call(d,_);if(o(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(_==="string"?String:Number)(d)})(f,"string");return o(m)==="symbol"?m:String(m)})(x))in E?Object.defineProperty(E,x,{value:v,enumerable:!0,configurable:!0,writable:!0}):E[x]=v,E}Object.defineProperty(l,"__esModule",{value:!0}),l.keys=l.keyCode=void 0,l.toKey=function(E,x){return A[E]||(x?String.fromCharCode(E):String.fromCharCode(E).toLowerCase())},l.toKeyCode=function(E){return S[E]};var S=l.keyCode=(function(E){for(var x=1;x<arguments.length;x++){var v=arguments[x]!=null?arguments[x]:{};x%2?b(Object(v),!0).forEach((function(f){O(E,f,v[f])})):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(v)):b(Object(v)).forEach((function(f){Object.defineProperty(E,f,Object.getOwnPropertyDescriptor(v,f))}))}return E})({c:67,x:88,z:90,BACKSPACE_SAFARI:127,Enter:13,Meta_LEFT:91,Meta_RIGHT:92,Space:32},{Alt:18,AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,CapsLock:20,Control:17,ContextMenu:93,Dead:221,Delete:46,End:35,Escape:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Home:36,Insert:45,NumLock:144,PageDown:34,PageUp:33,Pause:19,PrintScreen:44,Process:229,Shift:16,ScrollLock:145,Tab:9,Unidentified:229}),A=Object.entries(S).reduce((function(E,x){var v=u(x,2),f=v[0],m=v[1];return E[m]=E[m]===void 0?f:E[m],E}),{});l.keys=Object.entries(S).reduce((function(E,x){var v=u(x,2),f=v[0];return v[1],E[f]=f==="Space"?" ":f,E}),{})},2391:function(a,l,o){Object.defineProperty(l,"__esModule",{value:!0}),l.analyseMask=function(x,v,f){var m,d,_,h,y,p,g=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,c=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,w=!1,T=new O.default,P=[],I=[],D=!1;function B(W,H,ee){ee=ee!==void 0?ee:W.matches.length;var Z=W.matches[ee-1];if(v){if(H.indexOf("[")===0||w&&/\\d|\\s|\\w|\\p/i.test(H)||H==="."){var se=f.casing?"i":"";/\\p\{.*}/i.test(H)&&(se+="u"),W.matches.splice(ee++,0,{fn:new RegExp(H,se),static:!1,optionality:!1,newBlockMarker:Z===void 0?"master":Z.def!==H,casing:null,def:H,placeholder:S(f.placeholder)==="object"?f.placeholder[T.matches.length]:void 0,nativeDef:H})}else w&&(H=H[H.length-1]),H.split("").forEach((function(ce,ve){Z=W.matches[ee-1],W.matches.splice(ee++,0,{fn:/[a-z]/i.test(f.staticDefinitionSymbol||ce)?new RegExp("["+(f.staticDefinitionSymbol||ce)+"]",f.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:Z===void 0?"master":Z.def!==ce&&Z.static!==!0,casing:null,def:f.staticDefinitionSymbol||ce,placeholder:f.staticDefinitionSymbol!==void 0?ce:S(f.placeholder)==="object"?f.placeholder[T.matches.length]:void 0,nativeDef:(w?"'":"")+ce})}));w=!1}else{var ae=f.definitions&&f.definitions[H]||f.usePrototypeDefinitions&&b.default.prototype.definitions[H];ae&&!w?W.matches.splice(ee++,0,{fn:ae.validator?typeof ae.validator=="string"?new RegExp(ae.validator,f.casing?"i":""):new function(){this.test=ae.validator}:/./,static:ae.static||!1,optionality:ae.optional||!1,defOptionality:ae.optional||!1,newBlockMarker:Z===void 0||ae.optional?"master":Z.def!==(ae.definitionSymbol||H),casing:ae.casing,def:ae.definitionSymbol||H,placeholder:ae.placeholder,nativeDef:H,generated:ae.generated}):(W.matches.splice(ee++,0,{fn:/[a-z]/i.test(f.staticDefinitionSymbol||H)?new RegExp("["+(f.staticDefinitionSymbol||H)+"]",f.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:Z===void 0?"master":Z.def!==H&&Z.static!==!0,casing:null,def:f.staticDefinitionSymbol||H,placeholder:f.staticDefinitionSymbol!==void 0?H:void 0,nativeDef:(w?"'":"")+H}),w=!1)}}function R(){if(P.length>0){if(B(h=P[P.length-1],d),h.isAlternator){y=P.pop();for(var W=0;W<y.matches.length;W++)y.matches[W].isGroup&&(y.matches[W].isGroup=!1);P.length>0?(h=P[P.length-1]).matches.push(y):T.matches.push(y)}}else B(T,d)}function L(W){var H=new O.default(!0);return H.openGroup=!1,H.matches=W,H}function $(){if((_=P.pop()).openGroup=!1,_!==void 0)if(P.length>0){if((h=P[P.length-1]).matches.push(_),h.isAlternator){y=P.pop();for(var W=0;W<y.matches.length;W++)y.matches[W].isGroup=!1,y.matches[W].alternatorGroup=!1;P.length>0?(h=P[P.length-1]).matches.push(y):T.matches.push(y)}}else T.matches.push(_);else R()}function C(W){var H=W.pop();return H.isQuantifier&&(H=L([W.pop(),H])),H}for(v&&(f.optionalmarker[0]=void 0,f.optionalmarker[1]=void 0);m=v?c.exec(x):g.exec(x);){if(d=m[0],v){switch(d.charAt(0)){case"?":d="{0,1}";break;case"+":case"*":d="{"+d+"}";break;case"|":if(P.length===0){var j=L(T.matches);j.openGroup=!0,P.push(j),T.matches=[],D=!0}}switch(d){case"\\d":d="[0-9]";break;case"\\p":d+=c.exec(x)[0],d+=c.exec(x)[0]}}if(w)R();else switch(d.charAt(0)){case"$":case"^":v||R();break;case f.escapeChar:w=!0,v&&R();break;case f.optionalmarker[1]:case f.groupmarker[1]:$();break;case f.optionalmarker[0]:P.push(new O.default(!1,!0));break;case f.groupmarker[0]:P.push(new O.default(!0));break;case f.quantifiermarker[0]:var N=new O.default(!1,!1,!0),M=(d=d.replace(/[{}?]/g,"")).split("|"),V=M[0].split(","),G=isNaN(V[0])?V[0]:parseInt(V[0]),K=V.length===1?G:isNaN(V[1])?V[1]:parseInt(V[1]),X=isNaN(M[1])?M[1]:parseInt(M[1]);G!=="*"&&G!=="+"||(G=K==="*"?0:1),N.quantifier={min:G,max:K,jit:X};var F=P.length>0?P[P.length-1].matches:T.matches;(m=F.pop()).isGroup||(m=L([m])),F.push(m),F.push(N);break;case f.alternatormarker:if(P.length>0){var q=(h=P[P.length-1]).matches[h.matches.length-1];p=h.openGroup&&(q.matches===void 0||q.isGroup===!1&&q.isAlternator===!1)?P.pop():C(h.matches)}else p=C(T.matches);if(p.isAlternator)P.push(p);else if(p.alternatorGroup?(y=P.pop(),p.alternatorGroup=!1):y=new O.default(!1,!1,!1,!0),y.matches.push(p),P.push(y),p.openGroup){p.openGroup=!1;var te=new O.default(!0);te.alternatorGroup=!0,P.push(te)}break;default:R()}}for(D&&$();P.length>0;)_=P.pop(),T.matches.push(_);return T.matches.length>0&&((function W(H){H&&H.matches&&H.matches.forEach((function(ee,Z){var se=H.matches[Z+1];(se===void 0||se.matches===void 0||se.isQuantifier===!1)&&ee&&ee.isGroup&&(ee.isGroup=!1,v||(B(ee,f.groupmarker[0],0),ee.openGroup!==!0&&B(ee,f.groupmarker[1]))),W(ee)}))})(T),I.push(T)),(f.numericInput||f.isRTL)&&(function W(H){for(var ee in H.matches=H.matches.reverse(),H.matches)if(Object.prototype.hasOwnProperty.call(H.matches,ee)){var Z=parseInt(ee);if(H.matches[ee].isQuantifier&&H.matches[Z+1]&&H.matches[Z+1].isGroup){var se=H.matches[ee];H.matches.splice(ee,1),H.matches.splice(Z+1,0,se)}H.matches[ee].matches!==void 0?H.matches[ee]=W(H.matches[ee]):H.matches[ee]=((ae=H.matches[ee])===f.optionalmarker[0]?ae=f.optionalmarker[1]:ae===f.optionalmarker[1]?ae=f.optionalmarker[0]:ae===f.groupmarker[0]?ae=f.groupmarker[1]:ae===f.groupmarker[1]&&(ae=f.groupmarker[0]),ae)}var ae;return H})(I[0]),I},l.generateMaskSet=function(x,v){var f;function m(h,y){var p=y.repeat,g=y.groupmarker,c=y.quantifiermarker,w=y.keepStatic;if(p>0||p==="*"||p==="+"){var T=p==="*"?0:p==="+"?1:p;if(T!=p)h=g[0]+h+g[1]+c[0]+T+","+p+c[1];else for(var P=h,I=1;I<T;I++)h+=P}if(w===!0){var D=h.match(new RegExp("(.)\\[([^\\]]*)\\]","g"));D&&D.forEach((function(B,R){var L=(function(j,N){return(function(M){if(Array.isArray(M))return M})(j)||(function(M,V){var G=M==null?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(G!=null){var K,X,F,q,te=[],W=!0,H=!1;try{if(F=(G=G.call(M)).next,V!==0)for(;!(W=(K=F.call(G)).done)&&(te.push(K.value),te.length!==V);W=!0);}catch(ee){H=!0,X=ee}finally{try{if(!W&&G.return!=null&&(q=G.return(),Object(q)!==q))return}finally{if(H)throw X}}return te}})(j,N)||(function(M,V){if(M){if(typeof M=="string")return A(M,V);var G=Object.prototype.toString.call(M).slice(8,-1);if(G==="Object"&&M.constructor&&(G=M.constructor.name),G==="Map"||G==="Set")return Array.from(M);if(G==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(G))return A(M,V)}})(j,N)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()})(B.split("["),2),$=L[0],C=L[1];C=C.replace("]",""),h=h.replace(new RegExp("".concat((0,k.default)($),"\\[").concat((0,k.default)(C),"\\]")),$.charAt(0)===C.charAt(0)?"(".concat($,"|").concat($).concat(C,")"):"".concat($,"[").concat(C,"]"))}))}return h}function d(h,y,p){var g,c,w=!1;return h!==null&&h!==""||((w=p.regex!==null)?h=(h=p.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(w=!0,h=".*")),h.length===1&&p.greedy===!1&&p.repeat!==0&&(p.placeholder=""),h=m(h,p),c=w?"regex_"+p.regex:p.numericInput?h.split("").reverse().join(""):h,p.keepStatic!==null&&(c="ks_"+p.keepStatic+c),S(p.placeholder)==="object"&&(c="ph_"+JSON.stringify(p.placeholder)+c),b.default.prototype.masksCache[c]===void 0||v===!0?(g={mask:h,maskToken:b.default.prototype.analyseMask(h,w,p),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:y,maskLength:void 0,jitOffset:{}},v!==!0&&(b.default.prototype.masksCache[c]=g,g=u.default.extend(!0,{},b.default.prototype.masksCache[c]))):g=u.default.extend(!0,{},b.default.prototype.masksCache[c]),g}if(typeof x.mask=="function"&&(x.mask=x.mask(x)),Array.isArray(x.mask)){if(x.mask.length>1){x.keepStatic===null&&(x.keepStatic=!0);var _=x.groupmarker[0];return(x.isRTL?x.mask.reverse():x.mask).forEach((function(h){_.length>1&&(_+=x.alternatormarker),h.mask!==void 0&&typeof h.mask!="function"?_+=h.mask:_+=h})),d(_+=x.groupmarker[1],x.mask,x)}x.mask=x.mask.pop()}return f=x.mask&&x.mask.mask!==void 0&&typeof x.mask.mask!="function"?d(x.mask.mask,x.mask,x):d(x.mask,x.mask,x),x.keepStatic===null&&(x.keepStatic=!1),f};var u=E(o(4963)),k=E(o(7184)),b=E(o(2394)),O=E(o(9695));function S(x){return S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},S(x)}function A(x,v){(v==null||v>x.length)&&(v=x.length);for(var f=0,m=new Array(v);f<v;f++)m[f]=x[f];return m}function E(x){return x&&x.__esModule?x:{default:x}}},157:function(a,l,o){Object.defineProperty(l,"__esModule",{value:!0}),l.mask=function(){var E=this,x=this.opts,v=this.el,f=this.dependencyLib;b.EventRuler.off(v);var m=(function(h,y){var p=h.getAttribute("type"),g=h.tagName.toLowerCase()==="input"&&y.supportsInputType.includes(p)||h.isContentEditable||h.tagName.toLowerCase()==="textarea";if(!g)if(h.tagName.toLowerCase()==="input"){var c=document.createElement("input");c.setAttribute("type",p),g=c.type==="text",c=null}else g="partial";return g!==!1?(function(w){var T,P;function I(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():S.getLastValidPosition.call(E)!==-1||y.nullable!==!0?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&y.clearMaskOnLostFocus?(E.isRTL?O.clearOptionalTail.call(E,S.getBuffer.call(E).slice()).reverse():O.clearOptionalTail.call(E,S.getBuffer.call(E).slice())).join(""):T.call(this):"":T.call(this)}function D(R){P.call(this,R),this.inputmask&&(0,O.applyInputValue)(this,R)}if(!w.inputmask.__valueGet){if(y.noValuePatching!==!0){if(Object.getOwnPropertyDescriptor){var B=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(w),"value"):void 0;B&&B.get&&B.set?(T=B.get,P=B.set,Object.defineProperty(w,"value",{get:I,set:D,configurable:!0})):w.tagName.toLowerCase()!=="input"&&(T=function(){return this.textContent},P=function(R){this.textContent=R},Object.defineProperty(w,"value",{get:I,set:D,configurable:!0}))}else document.__lookupGetter__&&w.__lookupGetter__("value")&&(T=w.__lookupGetter__("value"),P=w.__lookupSetter__("value"),w.__defineGetter__("value",I),w.__defineSetter__("value",D));w.inputmask.__valueGet=T,w.inputmask.__valueSet=P}w.inputmask._valueGet=function(R){return E.isRTL&&R!==!0?T.call(this.el).split("").reverse().join(""):T.call(this.el)},w.inputmask._valueSet=function(R,L){P.call(this.el,R==null?"":L!==!0&&E.isRTL?R.split("").reverse().join(""):R)},T===void 0&&(T=function(){return this.value},P=function(R){this.value=R},(function(R){if(f.valHooks&&(f.valHooks[R]===void 0||f.valHooks[R].inputmaskpatch!==!0)){var L=f.valHooks[R]&&f.valHooks[R].get?f.valHooks[R].get:function(C){return C.value},$=f.valHooks[R]&&f.valHooks[R].set?f.valHooks[R].set:function(C,j){return C.value=j,C};f.valHooks[R]={get:function(C){if(C.inputmask){if(C.inputmask.opts.autoUnmask)return C.inputmask.unmaskedvalue();var j=L(C);return S.getLastValidPosition.call(E,void 0,void 0,C.inputmask.maskset.validPositions)!==-1||y.nullable!==!0?j:""}return L(C)},set:function(C,j){var N=$(C,j);return C.inputmask&&(0,O.applyInputValue)(C,j),N},inputmaskpatch:!0}}})(w.type),(function(R){b.EventRuler.on(R,"mouseenter",(function(){var L=this,$=L.inputmask._valueGet(!0);$!=(L.inputmask.isRTL?S.getBuffer.call(L.inputmask).slice().reverse():S.getBuffer.call(L.inputmask)).join("")&&(0,O.applyInputValue)(L,$)}))})(w))}})(h):h.inputmask=void 0,g})(v,x);if(m!==!1){E.originalPlaceholder=v.placeholder,E.maxLength=v!==void 0?v.maxLength:void 0,E.maxLength===-1&&(E.maxLength=void 0),"inputMode"in v&&v.getAttribute("inputmode")===null&&(v.inputMode=x.inputmode,v.setAttribute("inputmode",x.inputmode)),m===!0&&(x.showMaskOnFocus=x.showMaskOnFocus&&["cc-number","cc-exp"].indexOf(v.autocomplete)===-1,u.iphone&&(x.insertModeVisual=!1,v.setAttribute("autocorrect","off")),b.EventRuler.on(v,"submit",k.EventHandlers.submitEvent),b.EventRuler.on(v,"reset",k.EventHandlers.resetEvent),b.EventRuler.on(v,"blur",k.EventHandlers.blurEvent),b.EventRuler.on(v,"focus",k.EventHandlers.focusEvent),b.EventRuler.on(v,"invalid",k.EventHandlers.invalidEvent),b.EventRuler.on(v,"click",k.EventHandlers.clickEvent),b.EventRuler.on(v,"mouseleave",k.EventHandlers.mouseleaveEvent),b.EventRuler.on(v,"mouseenter",k.EventHandlers.mouseenterEvent),b.EventRuler.on(v,"paste",k.EventHandlers.pasteEvent),b.EventRuler.on(v,"cut",k.EventHandlers.cutEvent),b.EventRuler.on(v,"complete",x.oncomplete),b.EventRuler.on(v,"incomplete",x.onincomplete),b.EventRuler.on(v,"cleared",x.oncleared),x.inputEventOnly!==!0&&b.EventRuler.on(v,"keydown",k.EventHandlers.keyEvent),(u.mobile||x.inputEventOnly)&&v.removeAttribute("maxLength"),b.EventRuler.on(v,"input",k.EventHandlers.inputFallBackEvent)),b.EventRuler.on(v,"setvalue",k.EventHandlers.setValueEvent),E.applyMaskHook===void 0||E.applyMaskHook(),S.getBufferTemplate.call(E).join(""),E.undoValue=E._valueGet(!0);var d=(v.inputmask.shadowRoot||v.ownerDocument).activeElement;if(v.inputmask._valueGet(!0)!==""||x.clearMaskOnLostFocus===!1||d===v){(0,O.applyInputValue)(v,v.inputmask._valueGet(!0),x);var _=S.getBuffer.call(E).slice();A.isComplete.call(E,_)===!1&&x.clearIncomplete&&S.resetMaskSet.call(E,!1),x.clearMaskOnLostFocus&&d!==v&&(S.getLastValidPosition.call(E)===-1?_=[]:O.clearOptionalTail.call(E,_)),(x.clearMaskOnLostFocus===!1||x.showMaskOnFocus&&d===v||v.inputmask._valueGet(!0)!=="")&&(0,O.writeBuffer)(v,_),d===v&&S.caret.call(E,v,S.seekNext.call(E,S.getLastValidPosition.call(E)))}}};var u=o(9845),k=o(6030),b=o(9716),O=o(7760),S=o(8711),A=o(7215)},9695:function(a,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(o,u,k,b){this.matches=[],this.openGroup=o||!1,this.alternatorGroup=!1,this.isGroup=o||!1,this.isOptional=u||!1,this.isQuantifier=k||!1,this.isAlternator=b||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(a,l){if(this==null)throw new TypeError('"this" is null or not defined');var o=Object(this),u=o.length>>>0;if(u===0)return!1;for(var k=0|l,b=Math.max(k>=0?k:u-Math.abs(k),0);b<u;){if(o[b]===a)return!0;b++}return!1}})},9302:function(){var a=Function.bind.call(Function.call,Array.prototype.reduce),l=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),o=Function.bind.call(Function.call,Array.prototype.concat),u=Object.keys;Object.entries||(Object.entries=function(k){return a(u(k),(function(b,O){return o(b,typeof O=="string"&&l(k,O)?[[O,k[O]]]:[])}),[])})},7149:function(){function a(l){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},a(l)}typeof Object.getPrototypeOf!="function"&&(Object.getPrototypeOf=a("test".__proto__)==="object"?function(l){return l.__proto__}:function(l){return l.constructor.prototype})},4013:function(){String.prototype.includes||(String.prototype.includes=function(a,l){return typeof l!="number"&&(l=0),!(l+a.length>this.length)&&this.indexOf(a,l)!==-1})},8711:function(a,l,o){Object.defineProperty(l,"__esModule",{value:!0}),l.caret=function(f,m,d,_,h){var y,p=this,g=this.opts;if(m===void 0)return"selectionStart"in f&&"selectionEnd"in f?(m=f.selectionStart,d=f.selectionEnd):k.default.getSelection?(y=k.default.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==f&&y.commonAncestorContainer!==f||(m=y.startOffset,d=y.endOffset):document.selection&&document.selection.createRange&&(d=(m=0-(y=document.selection.createRange()).duplicate().moveStart("character",-f.inputmask._valueGet().length))+y.text.length),{begin:_?m:v.call(p,m),end:_?d:v.call(p,d)};if(Array.isArray(m)&&(d=p.isRTL?m[0]:m[1],m=p.isRTL?m[1]:m[0]),m.begin!==void 0&&(d=p.isRTL?m.begin:m.end,m=p.isRTL?m.end:m.begin),typeof m=="number"){m=_?m:v.call(p,m),d=typeof(d=_?d:v.call(p,d))=="number"?d:m;var c=parseInt(((f.ownerDocument.defaultView||k.default).getComputedStyle?(f.ownerDocument.defaultView||k.default).getComputedStyle(f,null):f.currentStyle).fontSize)*d;if(f.scrollLeft=c>f.scrollWidth?c:0,f.inputmask.caretPos={begin:m,end:d},g.insertModeVisual&&g.insertMode===!1&&m===d&&(h||d++),f===(f.inputmask.shadowRoot||f.ownerDocument).activeElement){if("setSelectionRange"in f)f.setSelectionRange(m,d);else if(k.default.getSelection){if(y=document.createRange(),f.firstChild===void 0||f.firstChild===null){var w=document.createTextNode("");f.appendChild(w)}y.setStart(f.firstChild,m<f.inputmask._valueGet().length?m:f.inputmask._valueGet().length),y.setEnd(f.firstChild,d<f.inputmask._valueGet().length?d:f.inputmask._valueGet().length),y.collapse(!0);var T=k.default.getSelection();T.removeAllRanges(),T.addRange(y)}else f.createTextRange&&((y=f.createTextRange()).collapse(!0),y.moveEnd("character",d),y.moveStart("character",m),y.select());f.inputmask.caretHook===void 0||f.inputmask.caretHook.call(p,{begin:m,end:d})}}},l.determineLastRequiredPosition=function(f){var m,d,_=this,h=_.maskset,y=_.dependencyLib,p=A.call(_),g={},c=h.validPositions[p],w=O.getMaskTemplate.call(_,!0,A.call(_),!0,!0),T=w.length,P=c!==void 0?c.locator.slice():void 0;for(m=p+1;m<w.length;m++)P=(d=O.getTestTemplate.call(_,m,P,m-1)).locator.slice(),g[m]=y.extend(!0,{},d);var I=c&&c.alternation!==void 0?c.locator[c.alternation]:void 0;for(m=T-1;m>p&&((d=g[m]).match.optionality||d.match.optionalQuantifier&&d.match.newBlockMarker||I&&(I!==g[m].locator[c.alternation]&&d.match.static!==!0||d.match.static===!0&&d.locator[c.alternation]&&b.checkAlternationMatch.call(_,d.locator[c.alternation].toString().split(","),I.toString().split(","))&&O.getTests.call(_,m)[0].def!==""))&&w[m]===O.getPlaceholder.call(_,m,d.match);m--)T--;return f?{l:T,def:g[T]?g[T].match:void 0}:T},l.determineNewCaretPosition=function(f,m,d){var _,h,y,p=this,g=p.maskset,c=p.opts;if(m&&(p.isRTL?f.end=f.begin:f.begin=f.end),f.begin===f.end){switch(d=d||c.positionCaretOnClick){case"none":break;case"select":f={begin:0,end:S.call(p).length};break;case"ignore":f.end=f.begin=x.call(p,A.call(p));break;case"radixFocus":if(p.clicked>1&&g.validPositions.length===0)break;if((function(B){if(c.radixPoint!==""&&c.digits!==0){var R=g.validPositions;if(R[B]===void 0||R[B].input===void 0){if(B<x.call(p,-1))return!0;var L=S.call(p).indexOf(c.radixPoint);if(L!==-1){for(var $=0,C=R.length;$<C;$++)if(R[$]&&L<$&&R[$].input!==O.getPlaceholder.call(p,$))return!1;return!0}}}return!1})(f.begin)){var w=S.call(p).join("").indexOf(c.radixPoint);f.end=f.begin=c.numericInput?x.call(p,w):w;break}default:if(_=f.begin,h=A.call(p,_,!0),_<=(y=x.call(p,h!==-1||E.call(p,0)?h:-1)))f.end=f.begin=E.call(p,_,!1,!0)?_:x.call(p,_);else{var T=g.validPositions[h],P=O.getTestTemplate.call(p,y,T?T.match.locator:void 0,T),I=O.getPlaceholder.call(p,y,P.match);if(I!==""&&S.call(p)[y]!==I&&P.match.optionalQuantifier!==!0&&P.match.newBlockMarker!==!0||!E.call(p,y,c.keepStatic,!0)&&P.match.def===I){var D=x.call(p,y);(_>=D||_===y)&&(y=D)}f.end=f.begin=y}}return f}},l.getBuffer=S,l.getBufferTemplate=function(){var f=this.maskset;return f._buffer===void 0&&(f._buffer=O.getMaskTemplate.call(this,!1,1),f.buffer===void 0&&(f.buffer=f._buffer.slice())),f._buffer},l.getLastValidPosition=A,l.isMask=E,l.resetMaskSet=function(f){var m=this.maskset;m.buffer=void 0,f!==!0&&(m.validPositions=[],m.p=0),f===!1&&(m.tests={},m.jitOffset={})},l.seekNext=x,l.seekPrevious=function(f,m){var d=this,_=f-1;if(f<=0)return 0;for(;_>0&&(m===!0&&(O.getTest.call(d,_).match.newBlockMarker!==!0||!E.call(d,_,void 0,!0))||m!==!0&&!E.call(d,_,void 0,!0));)_--;return _},l.translatePosition=v;var u,k=(u=o(9380))&&u.__esModule?u:{default:u},b=o(7215),O=o(4713);function S(f){var m=this,d=m.maskset;return d.buffer!==void 0&&f!==!0||(d.buffer=O.getMaskTemplate.call(m,!0,A.call(m),!0),d._buffer===void 0&&(d._buffer=d.buffer.slice())),d.buffer}function A(f,m,d){var _=this.maskset,h=-1,y=-1,p=d||_.validPositions;f===void 0&&(f=-1);for(var g=0,c=p.length;g<c;g++)p[g]&&(m||p[g].generatedInput!==!0)&&(g<=f&&(h=g),g>=f&&(y=g));return h===-1||h===f?y:y===-1||f-h<y-f?h:y}function E(f,m,d){var _=this,h=this.maskset,y=O.getTestTemplate.call(_,f).match;if(y.def===""&&(y=O.getTest.call(_,f).match),y.static!==!0)return y.fn;if(d===!0&&h.validPositions[f]!==void 0&&h.validPositions[f].generatedInput!==!0)return!0;if(m!==!0&&f>-1){if(d){var p=O.getTests.call(_,f);return p.length>1+(p[p.length-1].match.def===""?1:0)}var g=O.determineTestTemplate.call(_,f,O.getTests.call(_,f)),c=O.getPlaceholder.call(_,f,g.match);return g.match.def!==c}return!1}function x(f,m,d){var _=this;d===void 0&&(d=!0);for(var h=f+1;O.getTest.call(_,h).match.def!==""&&(m===!0&&(O.getTest.call(_,h).match.newBlockMarker!==!0||!E.call(_,h,void 0,!0))||m!==!0&&!E.call(_,h,void 0,d));)h++;return h}function v(f){var m=this.opts,d=this.el;return!this.isRTL||typeof f!="number"||m.greedy&&m.placeholder===""||!d||(f=this._valueGet().length-f)<0&&(f=0),f}},4713:function(a,l,o){Object.defineProperty(l,"__esModule",{value:!0}),l.determineTestTemplate=v,l.getDecisionTaker=A,l.getMaskTemplate=function(_,h,y,p,g){var c=this,w=this.opts,T=this.maskset,P=w.greedy;g&&w.greedy&&(w.greedy=!1,c.maskset.tests={}),h=h||0;var I,D,B,R,L=[],$=0;do{if(_===!0&&T.validPositions[$])D=(B=g&&T.validPositions[$].match.optionality&&T.validPositions[$+1]===void 0&&(T.validPositions[$].generatedInput===!0||T.validPositions[$].input==w.skipOptionalPartCharacter&&$>0)?v.call(c,$,d.call(c,$,I,$-1)):T.validPositions[$]).match,I=B.locator.slice(),L.push(y===!0?B.input:y===!1?D.nativeDef:E.call(c,$,D));else{D=(B=x.call(c,$,I,$-1)).match,I=B.locator.slice();var C=p!==!0&&(w.jitMasking!==!1?w.jitMasking:D.jit);(R=(R||T.validPositions[$-1])&&D.static&&D.def!==w.groupSeparator&&D.fn===null)||C===!1||C===void 0||typeof C=="number"&&isFinite(C)&&C>$?L.push(y===!1?D.nativeDef:E.call(c,L.length,D)):R=!1}$++}while(D.static!==!0||D.def!==""||h>$);return L[L.length-1]===""&&L.pop(),y===!1&&T.maskLength!==void 0||(T.maskLength=$-1),w.greedy=P,L},l.getPlaceholder=E,l.getTest=f,l.getTestTemplate=x,l.getTests=d,l.isSubsetOf=m;var u,k=(u=o(2394))&&u.__esModule?u:{default:u},b=o(8711);function O(_){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},O(_)}function S(_,h){var y=(_.alternation!=null?_.mloc[A(_)]:_.locator).join("");if(y!=="")for(y=y.split(":")[0];y.length<h;)y+="0";return y}function A(_){var h=_.locator[_.alternation];return typeof h=="string"&&h.length>0&&(h=h.split(",")[0]),h!==void 0?h.toString():""}function E(_,h,y){var p=this,g=this.opts,c=this.maskset;if((h=h||f.call(p,_).match).placeholder!==void 0||y===!0){if(h.placeholder!==""&&h.static===!0&&h.generated!==!0){var w=b.getLastValidPosition.call(p,_),T=b.seekNext.call(p,w);return(y?_<=T:_<T)?g.staticDefinitionSymbol&&h.static?h.nativeDef:h.def:typeof h.placeholder=="function"?h.placeholder(g):h.placeholder}return typeof h.placeholder=="function"?h.placeholder(g):h.placeholder}if(h.static===!0){if(_>-1&&c.validPositions[_]===void 0){var P,I=d.call(p,_),D=[];if(typeof g.placeholder=="string"&&I.length>1+(I[I.length-1].match.def===""?1:0)){for(var B=0;B<I.length;B++)if(I[B].match.def!==""&&I[B].match.optionality!==!0&&I[B].match.optionalQuantifier!==!0&&(I[B].match.static===!0||P===void 0||I[B].match.fn.test(P.match.def,c,_,!0,g)!==!1)&&(D.push(I[B]),I[B].match.static===!0&&(P=I[B]),D.length>1&&/[0-9a-bA-Z]/.test(D[0].match.def)))return g.placeholder.charAt(_%g.placeholder.length)}}return h.def}return O(g.placeholder)==="object"?h.def:g.placeholder.charAt(_%g.placeholder.length)}function x(_,h,y){return this.maskset.validPositions[_]||v.call(this,_,d.call(this,_,h&&h.slice(),y))}function v(_,h){var y=this.opts,p=0,g=(function(R,L){var $=0,C=!1;return L.forEach((function(j){j.match.optionality&&($!==0&&$!==j.match.optionality&&(C=!0),($===0||$>j.match.optionality)&&($=j.match.optionality))})),$&&(R==0||L.length==1?$=0:C||($=0)),$})(_,h);_=_>0?_-1:0;var c,w,T,P=S(f.call(this,_));y.greedy&&h.length>1&&h[h.length-1].match.def===""&&(p=1);for(var I=0;I<h.length-p;I++){var D=h[I];c=S(D,P.length);var B=Math.abs(c-P);(D.unMatchedAlternationStopped!==!0||h.filter((function(R){return R.unMatchedAlternationStopped!==!0})).length<=1)&&(w===void 0||c!==""&&B<w||T&&!y.greedy&&T.match.optionality&&T.match.optionality-g>0&&T.match.newBlockMarker==="master"&&(!D.match.optionality||D.match.optionality-g<1||!D.match.newBlockMarker)||T&&!y.greedy&&T.match.optionalQuantifier&&!D.match.optionalQuantifier)&&(w=B,T=D)}return T}function f(_,h){var y=this.maskset;return y.validPositions[_]?y.validPositions[_]:(h||d.call(this,_))[0]}function m(_,h,y){function p(g){for(var c,w=[],T=-1,P=0,I=g.length;P<I;P++)if(g.charAt(P)==="-")for(c=g.charCodeAt(P+1);++T<c;)w.push(String.fromCharCode(T));else T=g.charCodeAt(P),w.push(g.charAt(P));return w.join("")}return _.match.def===h.match.nativeDef||!(!(y.regex||_.match.fn instanceof RegExp&&h.match.fn instanceof RegExp)||_.match.static===!0||h.match.static===!0)&&(h.match.fn.source==="."||p(h.match.fn.source.replace(/[[\]/]/g,"")).indexOf(p(_.match.fn.source.replace(/[[\]/]/g,"")))!==-1)}function d(_,h,y){var p,g,c=this,w=this.dependencyLib,T=this.maskset,P=this.opts,I=this.el,D=T.maskToken,B=h?y:0,R=h?h.slice():[0],L=[],$=!1,C=h?h.join(""):"",j=!1;function N(X,F,q,te){function W(Z,se,ae){function ce(U,z){var Q=z.matches.indexOf(U)===0;return Q||z.matches.every((function(J,ne){return J.isQuantifier===!0?Q=ce(U,z.matches[ne-1]):Object.prototype.hasOwnProperty.call(J,"matches")&&(Q=ce(U,J)),!Q})),Q}function ve(U,z,Q){var J,ne;if((T.tests[U]||T.validPositions[U])&&(T.validPositions[U]?[T.validPositions[U]]:T.tests[U]).every((function(ue,fe){if(ue.mloc[z])return J=ue,!1;var je=Q!==void 0?Q:ue.alternation,pe=ue.locator[je]!==void 0?ue.locator[je].toString().indexOf(z):-1;return(ne===void 0||pe<ne)&&pe!==-1&&(J=ue,ne=pe),!0})),J){var de=J.locator[J.alternation],le=J.mloc[z]||J.mloc[de]||J.locator;return le[le.length-1].toString().indexOf(":")!==-1&&le.pop(),le.slice((Q!==void 0?Q:J.alternation)+1)}return Q!==void 0?ve(U,z):void 0}function ge(U,z){return U.match.static===!0&&z.match.static!==!0&&z.match.fn.test(U.match.def,T,_,!1,P,!1)}function ke(U,z){var Q=U.alternation,J=z===void 0||Q<=z.alternation&&U.locator[Q].toString().indexOf(z.locator[Q])===-1;if(!J&&Q>z.alternation){for(var ne=0;ne<Q;ne++)if(U.locator[ne]!==z.locator[ne]){Q=ne,J=!0;break}}return!!J&&(function(de){U.mloc=U.mloc||{};var le=U.locator[de];if(le!==void 0){if(typeof le=="string"&&(le=le.split(",")[0]),U.mloc[le]===void 0&&(U.mloc[le]=U.locator.slice(),U.mloc[le].push(":".concat(U.alternation))),z!==void 0){for(var ue in z.mloc)typeof ue=="string"&&(ue=parseInt(ue.split(",")[0])),U.mloc[ue+0]=z.mloc[ue];U.locator[de]=Object.keys(U.mloc).join(",")}return U.alternation>de&&(U.alternation=de),!0}return U.alternation=void 0,!1})(Q)}function Y(U,z){if(U.locator.length!==z.locator.length)return!1;for(var Q=U.alternation+1;Q<U.locator.length;Q++)if(U.locator[Q]!==z.locator[Q])return!1;return!0}if(B>_+P._maxTestPos)throw new Error("Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. ".concat(T.mask));if(B===_&&Z.matches===void 0){if(L.push({match:Z,locator:se.reverse(),cd:C,mloc:{}}),!Z.optionality||ae!==void 0||!(P.definitions&&P.definitions[Z.nativeDef]&&P.definitions[Z.nativeDef].optional||k.default.prototype.definitions[Z.nativeDef]&&k.default.prototype.definitions[Z.nativeDef].optional))return!0;$=!0,B=_}else if(Z.matches!==void 0){if(Z.isGroup&&ae!==Z)return(function(){if(Z=W(X.matches[X.matches.indexOf(Z)+1],se,ae))return!0})();if(Z.isOptional)return(function(){var U=Z,z=L.length;if(Z=N(Z,F,se,ae),L.length>0){if(L.forEach((function(Q,J){J>=z&&(Q.match.optionality=Q.match.optionality?Q.match.optionality+1:1)})),p=L[L.length-1].match,ae!==void 0||!ce(p,U))return Z;$=!0,B=_}})();if(Z.isAlternator)return(function(){function U(Ge){for(var Wt,Br=Ge.matches[0].matches?Ge.matches[0].matches.length:1,bt=0;bt<Ge.matches.length&&Br===(Wt=Ge.matches[bt].matches?Ge.matches[bt].matches.length:1);bt++);return Br!==Wt}c.hasAlternator=!0;var z,Q=Z,J=[],ne=L.slice(),de=se.length,le=F.length>0?F.shift():-1;if(le===-1||typeof le=="string"){var ue,fe=B,je=F.slice(),pe=[];if(typeof le=="string")pe=le.split(",");else for(ue=0;ue<Q.matches.length;ue++)pe.push(ue.toString());if(T.excludes[_]!==void 0){for(var Pn=pe.slice(),zt=0,Cn=T.excludes[_].length;zt<Cn;zt++){var $r=T.excludes[_][zt].toString().split(":");se.length==$r[1]&&pe.splice(pe.indexOf($r[0]),1)}pe.length===0&&(delete T.excludes[_],pe=Pn)}(P.keepStatic===!0||isFinite(parseInt(P.keepStatic))&&fe>=P.keepStatic)&&(pe=pe.slice(0,1));for(var vt=0;vt<pe.length;vt++){ue=parseInt(pe[vt]),L=[],F=typeof le=="string"&&ve(B,ue,de)||je.slice();var ot=Q.matches[ue];if(ot&&W(ot,[ue].concat(se),ae))Z=!0;else if(vt===0&&(j=U(Q)),ot&&ot.matches&&ot.matches.length>Q.matches[0].matches.length)break;z=L.slice(),B=fe,L=[];for(var qt=0;qt<z.length;qt++){var ye=z[qt],yt=!1;ye.alternation=ye.alternation||de,ke(ye);for(var Ht=0;Ht<J.length;Ht++){var Oe=J[Ht];if(typeof le!="string"||ye.alternation!==void 0&&pe.includes(ye.locator[ye.alternation].toString())){if(ye.match.nativeDef===Oe.match.nativeDef){yt=!0,ke(Oe,ye);break}if(m(ye,Oe,P)){ke(ye,Oe)&&(yt=!0,J.splice(J.indexOf(Oe),0,ye));break}if(m(Oe,ye,P)){ke(Oe,ye);break}if(ge(ye,Oe)){Y(ye,Oe)||I.inputmask.userOptions.keepStatic!==void 0?ke(ye,Oe)&&(yt=!0,J.splice(J.indexOf(Oe),0,ye)):P.keepStatic=!0;break}if(ge(Oe,ye)){ke(Oe,ye);break}}}yt||J.push(ye)}}L=ne.concat(J),B=_,$=L.length>0&&j,Z=J.length>0&&!j,j&&$&&!Z&&L.forEach((function(Ge,Wt){Ge.unMatchedAlternationStopped=!0})),F=je.slice()}else Z=W(Q.matches[le]||X.matches[le],[le].concat(se),ae);if(Z)return!0})();if(Z.isQuantifier&&ae!==X.matches[X.matches.indexOf(Z)-1])return(function(){for(var U=Z,z=!1,Q=F.length>0?F.shift():0;Q<(isNaN(U.quantifier.max)?Q+1:U.quantifier.max)&&B<=_;Q++){var J=X.matches[X.matches.indexOf(U)-1];if(Z=W(J,[Q].concat(se),J)){if(L.forEach((function(ne,de){(p=M(J,ne.match)?ne.match:L[L.length-1].match).optionalQuantifier=Q>=U.quantifier.min,p.jit=(Q+1)*(J.matches.indexOf(p)+1)>U.quantifier.jit,p.optionalQuantifier&&ce(p,J)&&($=!0,B=_,P.greedy&&T.validPositions[_-1]==null&&Q>U.quantifier.min&&["*","+"].indexOf(U.quantifier.max)!=-1&&(L.pop(),C=void 0),z=!0,Z=!1),!z&&p.jit&&(T.jitOffset[_]=J.matches.length-J.matches.indexOf(p))})),z)break;return!0}}})();if(Z=N(Z,F,se,ae))return!0}else B++}for(var H=F.length>0?F.shift():0;H<X.matches.length;H++)if(X.matches[H].isQuantifier!==!0){var ee=W(X.matches[H],[H].concat(q),te);if(ee&&B===_)return ee;if(B>_)break}}function M(X,F){var q=X.matches.indexOf(F)!=-1;return q||X.matches.forEach((function(te,W){te.matches===void 0||q||(q=M(te,F))})),q}if(_>-1){if(h===void 0){for(var V,G=_-1;(V=T.validPositions[G]||T.tests[G])===void 0&&G>-1;)G--;V!==void 0&&G>-1&&(R=(function(X,F){var q,te=[];return Array.isArray(F)||(F=[F]),F.length>0&&(F[0].alternation===void 0||P.keepStatic===!0?(te=v.call(c,X,F.slice()).locator.slice()).length===0&&(te=F[0].locator.slice()):F.forEach((function(W){W.def!==""&&(te.length===0?(q=W.alternation,te=W.locator.slice()):W.locator[q]&&te[q].toString().indexOf(W.locator[q])===-1&&(te[q]+=","+W.locator[q]))}))),te})(G,V),C=R.join(""),B=G)}if(T.tests[_]&&T.tests[_][0].cd===C)return T.tests[_];for(var K=R.shift();K<D.length&&!(N(D[K],R,[K])&&B===_||B>_);K++);}return(L.length===0||$)&&L.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:j&&L.filter((function(X){return X.unMatchedAlternationStopped!==!0})).length===0?[0]:[],mloc:{},cd:C}),h!==void 0&&T.tests[_]?g=w.extend(!0,[],L):(T.tests[_]=w.extend(!0,[],L),g=T.tests[_]),L.forEach((function(X){X.match.optionality=X.match.defOptionality||!1})),g}},7215:function(a,l,o){Object.defineProperty(l,"__esModule",{value:!0}),l.alternate=S,l.checkAlternationMatch=function(h,y,p){for(var g,c=this.opts.greedy?y:y.slice(0,1),w=!1,T=p!==void 0?p.split(","):[],P=0;P<T.length;P++)(g=h.indexOf(T[P]))!==-1&&h.splice(g,1);for(var I=0;I<h.length;I++)if(c.includes(h[I])){w=!0;break}return w},l.handleRemove=function(h,y,p,g,c){var w=this,T=this.maskset,P=this.opts;if((P.numericInput||w.isRTL)&&(y===k.keys.Backspace?y=k.keys.Delete:y===k.keys.Delete&&(y=k.keys.Backspace),w.isRTL)){var I=p.end;p.end=p.begin,p.begin=I}var D,B=b.getLastValidPosition.call(w,void 0,!0);p.end>=b.getBuffer.call(w).length&&B>=p.end&&(p.end=B+1),y===k.keys.Backspace?p.end-p.begin<1&&(p.begin=b.seekPrevious.call(w,p.begin)):y===k.keys.Delete&&p.begin===p.end&&(p.end=b.isMask.call(w,p.end,!0,!0)?p.end+1:b.seekNext.call(w,p.end)+1),(D=_.call(w,p))!==!1&&((g!==!0&&P.keepStatic!==!1||P.regex!==null&&O.getTest.call(w,p.begin).match.def.indexOf("|")!==-1)&&S.call(w,!0),g!==!0&&(T.p=y===k.keys.Delete?p.begin+D:p.begin,T.p=b.determineNewCaretPosition.call(w,{begin:T.p,end:T.p},!1,P.insertMode===!1&&y===k.keys.Backspace?"none":void 0).begin))},l.isComplete=E,l.isSelection=x,l.isValid=v,l.refreshFromBuffer=m,l.revalidateMask=_;var u=o(6030),k=o(2839),b=o(8711),O=o(4713);function S(h,y,p,g,c,w){var T=this,P=this.dependencyLib,I=this.opts,D=T.maskset;if(!T.hasAlternator)return!1;var B,R,L,$,C,j,N,M,V,G,K,X=P.extend(!0,[],D.validPositions),F=P.extend(!0,{},D.tests),q=!1,te=!1,W=c!==void 0?c:b.getLastValidPosition.call(T);if(w&&(G=w.begin,K=w.end,w.begin>w.end&&(G=w.end,K=w.begin)),W===-1&&c===void 0)B=0,R=($=O.getTest.call(T,B)).alternation;else for(;W>=0;W--)if((L=D.validPositions[W])&&L.alternation!==void 0){if(W<=(h||0)&&$&&$.locator[L.alternation]!==L.locator[L.alternation])break;B=W,R=D.validPositions[B].alternation,$=L}if(R!==void 0){N=parseInt(B),D.excludes[N]=D.excludes[N]||[],h!==!0&&D.excludes[N].push((0,O.getDecisionTaker)($)+":"+$.alternation);var H=[],ee=-1;for(C=N;N<b.getLastValidPosition.call(T,void 0,!0)+1;C++)ee===-1&&h<=C&&y!==void 0&&(H.push(y),ee=H.length-1),(j=D.validPositions[N])&&j.generatedInput!==!0&&(w===void 0||C<G||C>=K)&&H.push(j.input),D.validPositions.splice(N,1);for(ee===-1&&y!==void 0&&(H.push(y),ee=H.length-1);D.excludes[N]!==void 0&&D.excludes[N].length<10;){for(D.tests={},b.resetMaskSet.call(T,!0),q=!0,C=0;C<H.length&&(M=q.caret||I.insertMode==0&&M!=null?b.seekNext.call(T,M):b.getLastValidPosition.call(T,void 0,!0)+1,V=H[C],q=v.call(T,M,V,!1,g,!0));C++)C===ee&&(te=q),h==1&&q&&(te={caretPos:C});if(q)break;if(b.resetMaskSet.call(T),$=O.getTest.call(T,N),D.validPositions=P.extend(!0,[],X),D.tests=P.extend(!0,{},F),!D.excludes[N]){te=S.call(T,h,y,p,g,N-1,w);break}if($.alternation!=null){var Z=(0,O.getDecisionTaker)($);if(D.excludes[N].indexOf(Z+":"+$.alternation)!==-1){te=S.call(T,h,y,p,g,N-1,w);break}for(D.excludes[N].push(Z+":"+$.alternation),C=N;C<b.getLastValidPosition.call(T,void 0,!0)+1;C++)D.validPositions.splice(N)}else delete D.excludes[N]}}return te&&I.keepStatic===!1||delete D.excludes[N],te}function A(h,y,p){var g=this.opts,c=this.maskset;switch(g.casing||y.casing){case"upper":h=h.toUpperCase();break;case"lower":h=h.toLowerCase();break;case"title":var w=c.validPositions[p-1];h=p===0||w&&w.input===String.fromCharCode(k.keyCode.Space)?h.toUpperCase():h.toLowerCase();break;default:if(typeof g.casing=="function"){var T=Array.prototype.slice.call(arguments);T.push(c.validPositions),h=g.casing.apply(this,T)}}return h}function E(h){var y=this,p=this.opts,g=this.maskset;if(typeof p.isComplete=="function")return p.isComplete(h,p);if(p.repeat!=="*"){var c=!1,w=b.determineLastRequiredPosition.call(y,!0),T=w.l;if(w.def===void 0||w.def.newBlockMarker||w.def.optionality||w.def.optionalQuantifier){c=!0;for(var P=0;P<=T;P++){var I=O.getTestTemplate.call(y,P).match;if(I.static!==!0&&g.validPositions[P]===void 0&&(I.optionality===!1||I.optionality===void 0||I.optionality&&I.newBlockMarker==0)&&(I.optionalQuantifier===!1||I.optionalQuantifier===void 0)||I.static===!0&&I.def!=""&&h[P]!==O.getPlaceholder.call(y,P,I)){c=!1;break}}}return c}}function x(h){var y=this.opts.insertMode?0:1;return this.isRTL?h.begin-h.end>y:h.end-h.begin>y}function v(h,y,p,g,c,w,T){var P=this,I=this.dependencyLib,D=this.opts,B=P.maskset;p=p===!0;var R=h;function L(q){if(q!==void 0){if(q.remove!==void 0&&(Array.isArray(q.remove)||(q.remove=[q.remove]),q.remove.sort((function(W,H){return P.isRTL?W.pos-H.pos:H.pos-W.pos})).forEach((function(W){_.call(P,{begin:W,end:W+1})})),q.remove=void 0),q.insert!==void 0&&(Array.isArray(q.insert)||(q.insert=[q.insert]),q.insert.sort((function(W,H){return P.isRTL?H.pos-W.pos:W.pos-H.pos})).forEach((function(W){W.c!==""&&v.call(P,W.pos,W.c,W.strict===void 0||W.strict,W.fromIsValid!==void 0?W.fromIsValid:g)})),q.insert=void 0),q.refreshFromBuffer&&q.buffer){var te=q.refreshFromBuffer;m.call(P,te===!0?te:te.start,te.end,q.buffer),q.refreshFromBuffer=void 0}q.rewritePosition!==void 0&&(R=q.rewritePosition,q=!0)}return q}function $(q,te,W){var H=!1;return O.getTests.call(P,q).every((function(ee,Z){var se=ee.match;if(b.getBuffer.call(P,!0),(H=(!se.jit||B.validPositions[b.seekPrevious.call(P,q)]!==void 0)&&(se.fn!=null?se.fn.test(te,B,q,W,D,x.call(P,h)):(te===se.def||te===D.skipOptionalPartCharacter)&&se.def!==""&&{c:O.getPlaceholder.call(P,q,se,!0)||se.def,pos:q}))!==!1){var ae=H.c!==void 0?H.c:te,ce=q;return ae=ae===D.skipOptionalPartCharacter&&se.static===!0?O.getPlaceholder.call(P,q,se,!0)||se.def:ae,(H=L(H))!==!0&&H.pos!==void 0&&H.pos!==q&&(ce=H.pos),H!==!0&&H.pos===void 0&&H.c===void 0||_.call(P,h,I.extend({},ee,{input:A.call(P,ae,se,ce)}),g,ce)===!1&&(H=!1),!1}return!0})),H}h.begin!==void 0&&(R=P.isRTL?h.end:h.begin);var C=!0,j=I.extend(!0,[],B.validPositions);if(D.keepStatic===!1&&B.excludes[R]!==void 0&&c!==!0&&g!==!0)for(var N=R;N<(P.isRTL?h.begin:h.end);N++)B.excludes[N]!==void 0&&(B.excludes[N]=void 0,delete B.tests[N]);if(typeof D.preValidation=="function"&&g!==!0&&w!==!0&&(C=L(C=D.preValidation.call(P,b.getBuffer.call(P),R,y,x.call(P,h),D,B,h,p||c))),C===!0){if(C=$(R,y,p),(!p||g===!0)&&C===!1&&w!==!0){var M=B.validPositions[R];if(!M||M.match.static!==!0||M.match.def!==y&&y!==D.skipOptionalPartCharacter){if(D.insertMode||B.validPositions[b.seekNext.call(P,R)]===void 0||h.end>R){var V=!1;if(B.jitOffset[R]&&B.validPositions[b.seekNext.call(P,R)]===void 0&&(C=v.call(P,R+B.jitOffset[R],y,!0,!0))!==!1&&(c!==!0&&(C.caret=R),V=!0),h.end>R&&(B.validPositions[R]=void 0),!V&&!b.isMask.call(P,R,D.keepStatic&&R===0)){for(var G=R+1,K=b.seekNext.call(P,R,!1,R!==0);G<=K;G++)if((C=$(G,y,p))!==!1){C=d.call(P,R,C.pos!==void 0?C.pos:G)||C,R=G;break}}}}else C={caret:b.seekNext.call(P,R)}}P.hasAlternator&&c!==!0&&!p&&(c=!0,C===!1&&D.keepStatic&&(E.call(P,b.getBuffer.call(P))||R===0)?C=S.call(P,R,y,p,g,void 0,h):(x.call(P,h)&&B.tests[R]&&B.tests[R].length>1&&D.keepStatic||C==1&&D.numericInput!==!0&&B.tests[R]&&B.tests[R].length>1&&b.getLastValidPosition.call(P,void 0,!0)>R)&&(C=S.call(P,!0))),C===!0&&(C={pos:R})}if(typeof D.postValidation=="function"&&g!==!0&&w!==!0){var X=D.postValidation.call(P,b.getBuffer.call(P,!0),h.begin!==void 0?P.isRTL?h.end:h.begin:h,y,C,D,B,p,T);X!==void 0&&(C=X===!0?C:X)}C&&C.pos===void 0&&(C.pos=R),C===!1||w===!0?(b.resetMaskSet.call(P,!0),B.validPositions=I.extend(!0,[],j)):d.call(P,void 0,R,!0);var F=L(C);return P.maxLength!==void 0&&b.getBuffer.call(P).length>P.maxLength&&!g&&(b.resetMaskSet.call(P,!0),B.validPositions=I.extend(!0,[],j),F=!1),F}function f(h,y,p){for(var g=this.maskset,c=!1,w=O.getTests.call(this,h),T=0;T<w.length;T++){if(w[T].match&&(w[T].match.nativeDef===y.match[p.shiftPositions?"def":"nativeDef"]&&(!p.shiftPositions||!y.match.static)||w[T].match.nativeDef===y.match.nativeDef||p.regex&&!w[T].match.static&&w[T].match.fn.test(y.input,g,h,!1,p))){c=!0;break}if(w[T].match&&w[T].match.def===y.match.nativeDef){c=void 0;break}}return c===!1&&g.jitOffset[h]!==void 0&&(c=f.call(this,h+g.jitOffset[h],y,p)),c}function m(h,y,p){var g,c,w=this,T=this.maskset,P=this.opts,I=this.dependencyLib,D=P.skipOptionalPartCharacter,B=w.isRTL?p.slice().reverse():p;if(P.skipOptionalPartCharacter="",h===!0)b.resetMaskSet.call(w,!1),h=0,y=p.length,c=b.determineNewCaretPosition.call(w,{begin:0,end:0},!1).begin;else{for(g=h;g<y;g++)T.validPositions.splice(h,0);c=h}var R=new I.Event("keypress");for(g=h;g<y;g++){R.key=B[g].toString(),w.ignorable=!1;var L=u.EventHandlers.keypressEvent.call(w,R,!0,!1,!1,c);L!==!1&&L!==void 0&&(c=L.forwardPosition)}P.skipOptionalPartCharacter=D}function d(h,y,p){var g=this,c=this.maskset,w=this.dependencyLib;if(h===void 0)for(h=y-1;h>0&&!c.validPositions[h];h--);for(var T=h;T<y;T++)if(c.validPositions[T]===void 0&&!b.isMask.call(g,T,!1)&&(T==0?O.getTest.call(g,T):c.validPositions[T-1])){var P=O.getTests.call(g,T).slice();P[P.length-1].match.def===""&&P.pop();var I,D=O.determineTestTemplate.call(g,T,P);if(D&&(D.match.jit!==!0||D.match.newBlockMarker==="master"&&(I=c.validPositions[T+1])&&I.match.optionalQuantifier===!0)&&((D=w.extend({},D,{input:O.getPlaceholder.call(g,T,D.match,!0)||D.match.def})).generatedInput=!0,_.call(g,T,D,!0),p!==!0)){var B=c.validPositions[y].input;return c.validPositions[y]=void 0,v.call(g,y,B,!0,!0)}}}function _(h,y,p,g){var c=this,w=this.maskset,T=this.opts,P=this.dependencyLib;function I(F,q,te){var W=q[F];if(W!==void 0&&W.match.static===!0&&W.match.optionality!==!0&&(q[0]===void 0||q[0].alternation===void 0)){var H=te.begin<=F-1?q[F-1]&&q[F-1].match.static===!0&&q[F-1]:q[F-1],ee=te.end>F+1?q[F+1]&&q[F+1].match.static===!0&&q[F+1]:q[F+1];return H&&ee}return!1}var D=0,B=h.begin!==void 0?h.begin:h,R=h.end!==void 0?h.end:h,L=!0;if(h.begin>h.end&&(B=h.end,R=h.begin),g=g!==void 0?g:B,p===void 0&&(B!==R||T.insertMode&&w.validPositions[g]!==void 0||y===void 0||y.match.optionalQuantifier||y.match.optionality)){var $,C=P.extend(!0,[],w.validPositions),j=b.getLastValidPosition.call(c,void 0,!0);w.p=B;var N=x.call(c,h)?B:g;for($=j;$>=N;$--)w.validPositions.splice($,1),y===void 0&&delete w.tests[$+1];var M,V,G=g,K=G;for(y&&(w.validPositions[g]=P.extend(!0,{},y),K++,G++),C[R]==null&&w.jitOffset[R]&&(R+=w.jitOffset[R]+1),$=y?R:R-1;$<=j;$++){if((M=C[$])!==void 0&&M.generatedInput!==!0&&($>=R||$>=B&&I($,C,{begin:B,end:R}))){for(;O.getTest.call(c,K).match.def!=="";){if((V=f.call(c,K,M,T))!==!1||M.match.def==="+"){M.match.def==="+"&&b.getBuffer.call(c,!0);var X=v.call(c,K,M.input,M.match.def!=="+",!0);if(L=X!==!1,G=(X.pos||K)+1,!L&&V)break}else L=!1;if(L){y===void 0&&M.match.static&&$===h.begin&&D++;break}if(!L&&b.getBuffer.call(c),K>w.maskLength)break;K++}O.getTest.call(c,K).match.def==""&&(L=!1),K=G}if(!L)break}if(!L)return w.validPositions=P.extend(!0,[],C),b.resetMaskSet.call(c,!0),!1}else y&&O.getTest.call(c,g).match.cd===y.match.cd&&(w.validPositions[g]=P.extend(!0,{},y));return b.resetMaskSet.call(c,!0),D}}},i={};function n(a){var l=i[a];if(l!==void 0)return l.exports;var o=i[a]={exports:{}};return t[a](o,o.exports,n),o.exports}var s={};return(function(){var a=s;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,n(7149),n(3194),n(9302),n(4013),n(3851),n(219),n(207),n(5296);var l,o=(l=n(2394))&&l.__esModule?l:{default:l};a.default=o.default})(),s})()}))})(It)),It.exports}var Al=Cl();const jl=an(Al);document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('input[type="tel"]').forEach(e=>{new jl("+7 (999) 999-99-99").mask(e)})});
